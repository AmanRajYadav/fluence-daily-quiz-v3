/*! For license information please see main.8caa0a74.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case i:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===a}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(8829)),i=r(n(5736));class s{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(o="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new i.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}}t.default=s},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:i=!0,maxWait:s}=n,o=Array(2);let l;a&&(o[0]="leading"),i&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(418),a=n(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(a.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let i=0,s="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),i++);i<n;){const r=e[i];o?"\\"===r&&i+1<n?(i++,s+=e[i]):r===o?o="":s+=r:l?'"'===r||"'"===r?o=r:"]"===r?(l=!1,t.push(s),s=""):s+=r:"["===r?(l=!0,s&&(t.push(s),s="")):"."===r?s&&(t.push(s),s=""):s+=r,i++}return s&&t.push(s),t}},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),a=n(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(870),i=n(4803),s=n(9972);function o(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!i.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?o(e,r({},t),n,u):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const s=t[i];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],s,i,e,t,r)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):o(t,n,function e(t,n,a,i,s,l){const c=r(t,n,a,i,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),a=n(7312),i=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=n.length;return o>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),a=n(7330),i=n(3808),s=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},2897:(e,t,n)=>{var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),a=n(1203),i=n(870),s=n(9972);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&s.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function k(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(){}function P(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+E(e,0):i,w(s)?(a="",null!=u&&(a=u.replace(N,"$&/")+"/"),P(s,t,a,"",function(e){return e})):null!=s&&(S(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(i=e[m],t,a,o=p+E(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=P(i=i.value,t,a,o=p+E(i,m++),s);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(O,O):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!_.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return k(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,C)}catch(i){C(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const s=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5047:e=>{"use strict";var t={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var a=n-t;return-a*Math.cos(e/r*(Math.PI/2))+a+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var a=n-t;return e==r?t+a:a*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var a=n-t;return 0===e?t:e===r?t+a:(e/=r/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var a,i,s,o=n-t;return s=1.70158,0===e?t:1===(e/=r)?t+o:((i=0)||(i=.3*r),(a=o)<Math.abs(o)?(a=o,s=i/4):s=i/(2*Math.PI)*Math.asin(o/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/i)+t)},easeOutElastic:function(e,t,n,r){var a,i,s,o=n-t;return s=1.70158,0===e?t:1===(e/=r)?t+o:((i=0)||(i=.3*r),(a=o)<Math.abs(o)?(a=o,s=i/4):s=i/(2*Math.PI)*Math.asin(o/a),a*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/i)+o+t)},easeInOutElastic:function(e,t,n,r){var a,i,s,o=n-t;return s=1.70158,0===e?t:2===(e/=r/2)?t+o:((i=0)||(i=r*(.3*1.5)),(a=o)<Math.abs(o)?(a=o,s=i/4):s=i/(2*Math.PI)*Math.asin(o/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/i)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/i)*.5+o+t)},easeInBack:function(e,t,n,r,a){return void 0===a&&(a=1.70158),(n-t)*(e/=r)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,r,a){return void 0===a&&(a=1.70158),(n-t)*((e=e/r-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,r,a){var i=n-t;return void 0===a&&(a=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(a*=1.525))*e-a))+t:i/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t},easeInBounce:function(e,n,r,a){var i=r-n;return i-t.easeOutBounce(a-e,0,i,a)+n},easeOutBounce:function(e,t,n,r){var a=n-t;return(e/=r)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,n,r,a){var i=r-n;return e<a/2?.5*t.easeInBounce(2*e,0,i,a)+n:.5*t.easeOutBounce(2*e-a,0,i,a)+.5*i+n}};e.exports=t},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),a=n(9599),i=n(2104),s=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),s.iteratee(t)):[]}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),a=n(4704),i=n(6321),s=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?s.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||i.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),a=n(7043),i=n(1444);t.orderBy=function(e,t,n,s){if(null==e)return[];n=s?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),a=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,i,s,o)=>{const l=null===t||void 0===t?void 0:t(n,i,s,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),a=n(5990),i=n(7599),s=n(4803),o=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<s.length;r++){const o=s[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(7067),a=n(5043),i=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var M=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function q(e){0>z||(e.current=L[z],L[z]=null,z--)}function B(e,t){z++,L[z]=e.current,e.current=t}var U=F(null),V=F(null),H=F(null),W=F(null);function K(e,t){switch(B(H,t),B(V,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(U),B(U,e)}function G(){q(U),q(V),q(H)}function Q(e){null!==e.memoizedState&&B(W,e);var t=U.current,n=id(t,e.type);t!==n&&(B(V,e),B(U,n))}function Y(e){V.current===e&&(q(U),q(V)),W.current===e&&(q(W),Qd._currentValue=R)}var $=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ve(r):0!==(s&=o)?a=ve(s):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~i)?a=ve(o):0!==s?a=ve(s):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Te=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Te,Me="__reactProps$"+Te,De="__reactContainer$"+Te,Ie="__reactEvents$"+Te,Re="__reactListeners$"+Te,Le="__reactHandles$"+Te,ze="__reactResources$"+Te,Fe="__reactMarker$"+Te;function qe(e){delete e[Ce],delete e[Me],delete e[Ie],delete e[Re],delete e[Le]}function Be(e){var t=e[Ce];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ce]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Ce])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ce]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,$.call(et,a)||!$.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(M(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ct=null,Mt=null;function Dt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Me]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var It=!1;function Rt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Ct||null!==Mt)&&(Bc(),Ct&&(t=Ct,e=Mt,Mt=Ct=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Mh){Ft=!1}var Bt=null,Ut=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Ut,r=n.length,a="value"in Bt?Bt.value:Bt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,$t,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Qt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=zt&&"CompositionEvent"in window,_n=null;zt&&"documentMode"in document&&(_n=document.documentMode);var kn=zt&&"TextEvent"in window&&!_n,Sn=zt&&(!jn||_n&&8<_n&&11>=_n),Nn=String.fromCharCode(32),En=!1;function On(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,r){Ct?Mt?Mt.push(r):Mt=[r]:Ct=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,In=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht(Ve(e)))return e}function zn(e,t){if("change"===e)return t}var Fn=!1;if(zt){var qn;if(zt){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}qn=Bn}else qn=!1;Fn=qn&&(!document.documentMode||9<document.documentMode)}function Vn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),In=Dn=null)}function Hn(e){if("value"===e.propertyName&&Ln(In)){var t=[];Mn(t,In,e,Tt(e)),Rt(Rn,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),In=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(In)}function Gn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!$.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&$n(ir,r)||(ir=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}zt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),xr=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){br.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var _r=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],Nr=0,Er=0;function Or(){for(var e=Nr,t=Er=Nr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Cr(n,a,i)}}function Pr(e,t,n,r){Sr[Nr++]=e,Sr[Nr++]=t,Sr[Nr++]=n,Sr[Nr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Tr(e,t){return Pr(e,null,null,t),Mr(e)}function Cr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<Cc)throw Cc=0,Mc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Ir(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Rr(31,n,t,a)).elementType=E,e.lanes=i,e;case g:return Br(n.children,a,i,t);case y:o=8,a|=24;break;case v:return(e=Rr(12,n,t,2|a)).elementType=v,e.lanes=i,e;case _:return(e=Rr(13,n,t,a)).elementType=_,e.lanes=i,e;case k:return(e=Rr(19,n,t,a)).elementType=k,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case j:o=11;break e;case S:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,Qr=[],Yr=0,$r=null,Xr=1,Jr="";function Zr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function ea(e,t,n){Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=$r,$r=e;var r=Xr;e=Jr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xr=1<<32-fe(t)+a|n<<a|r,Jr=i+e}else Xr=1<<i|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===$r;)$r=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw ma(kr(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ce]=e,t[Me]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Lu(Du[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,ia=!1}function pa(){var e=sa;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=F(null),ya=null,va=null;function xa(e,t,n){B(ga,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=ga.current,q(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function _a(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Na(e){return Oa(ya,e)}function Ea(e,t){return null===ya&&Sa(e),Oa(e,t)}function Oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Pa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Aa=r.unstable_scheduleCallback,Ta=r.unstable_NormalPriority,Ca={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ma(){return{controller:new Pa,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Aa(Ta,function(){e.controller.abort()})}var Ia=null,Ra=0,La=0,za=null;function Fa(){if(0===--Ra&&null!==Ia){null!==za&&(za.status="fulfilled");var e=Ia;Ia=null,La=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qa=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ia){var n=Ia=[];Ra=0,La=Pu(),za={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ra++,t.then(Fa,Fa)}(0,t),null!==qa&&qa(e,t)};var Ba=F(null);function Ua(){var e=Ba.current;return null!==e?e:rc.pooledCache}function Va(e,t){B(Ba,null===t?Ba.current:t.pool)}function Ha(){var e=Ua();return null===e?null:{parent:Ca._currentValue,pool:e}}var Wa=Error(s(460)),Ka=Error(s(474)),Ga=Error(s(542)),Qa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $a(){}function Xa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($a,$a),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then($a,$a);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Wa}}var Ja=null;function Za(){if(null===Ja)throw Error(s(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Wa||e===Ga)throw Error(s(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Mr(e),Cr(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==za)throw za}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=F(null),pi=F(0);function mi(e,t){B(pi,e=dc),B(fi,t),dc=e|t.baseLanes}function gi(){B(pi,dc),B(fi,fi.current)}function yi(){dc=pi.current,q(fi),q(pi)}var vi=0,xi=null,bi=null,wi=null,ji=!1,_i=!1,ki=!1,Si=0,Ni=0,Ei=null,Oi=0;function Pi(){throw Error(s(321))}function Ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,a,i){return vi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ws:Ks,ki=!1,i=n(r,a),ki=!1,_i&&(i=Mi(t,n,r,a)),Ci(e),i}function Ci(e){D.H=Hs;var t=null!==bi&&null!==bi.next;if(vi=0,wi=bi=xi=null,ji=!1,Ni=0,Ei=null,t)throw Error(s(300));null===e||Eo||null!==(e=e.dependencies)&&ka(e)&&(Eo=!0)}function Mi(e,t,n,r){xi=e;var a=0;do{if(_i&&(Ei=null),Ni=0,_i=!1,25<=a)throw Error(s(301));if(a+=1,wi=bi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Gs,i=t(n,r)}while(_i);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?qi(t):t,e=e.useState()[0],(null!==bi?bi.memoizedState:null)!==e&&(xi.flags|=1024),t}function Ii(){var e=0!==Si;return Si=0,e}function Ri(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}vi=0,wi=bi=xi=null,_i=!1,Ni=Si=0,Ei=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?xi.memoizedState=wi=e:wi=wi.next=e,wi}function Fi(){if(null===bi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=bi.next;var t=null===wi?xi.memoizedState:wi.next;if(null!==t)wi=t,bi=e;else{if(null===e){if(null===xi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(bi=e).memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},null===wi?xi.memoizedState=wi=e:wi=wi.next=e}return wi}function qi(e){var t=Ni;return Ni+=1,null===Ei&&(Ei=[]),e=Xa(Ei,e,t),t=xi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ws:Ks),e}function Bi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return qi(e);if(e.$$typeof===w)return Na(e)}throw Error(s(438,String(e)))}function Ui(e){var t=null,n=xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function Vi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Fi(),bi,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,xi.lanes|=f,fc|=f}h=u.action,ki&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,xi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(Eo=!0,d&&null!==(n=za)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Fi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Yn(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=xi,a=Fi(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Yn((bi||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,gs(2048,8,$i.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,a,n,t),null),null===rc)throw Error(s(349));i||0!==(124&vi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Xi(t)&&Ji(e)}function $i(e,t,n){return n(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ji(e){var t=Tr(e,2);null!==t&&Rc(t,e,2)}function Zi(e){var t=zi();if("function"===typeof e){var n=e;if(e=n(),ki){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Wi(e,bi,"function"===typeof r?r:Vi)}function ts(e,t,n,r,a){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ns(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ns(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var o=n(a,r),l=D.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){is(e,t,c)}finally{D.T=i}}else try{rs(e,t,i=n(a,r))}catch(u){is(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){as(e,t,n)},function(n){return is(e,t,n)}):as(e,t,n)}function as(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=xi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=zi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=zs.bind(null,xi,r),r.dispatch=n,r=Zi(!1),i=qs.bind(null,xi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=zi()).queue=a,n=ts.bind(null,xi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Fi(),bi,e)}function us(e,t,n){if(t=Wi(e,t,os)[0],e=Hi(Vi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=qi(t)}catch(s){if(s===Wa)throw Ga;throw s}else r=t;var a=(t=Fi()).queue,i=a.dispatch;return n!==t.memoizedState&&(xi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,a,n),null)),[r,i,e]}function ds(e,t){e.action=t}function hs(e){var t=Fi(),n=bi;if(null!==n)return us(t,n,e);Fi(),t=t.memoizedState;var r=(n=Fi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Fi().memoizedState}function ms(e,t,n,r){var a=zi();r=void 0===r?null:r,xi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=Fi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==bi&&null!==r&&Ai(r,bi.memoizedState.deps)?a.memoizedState=fs(t,i,n,r):(xi.flags|=e,a.memoizedState=fs(1|t,i,n,r))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function xs(e,t){return gs(4,2,e,t)}function bs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function js(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function _s(){}function ks(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ai(t,r[1]))return r[0];if(r=e(),ki){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ns(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),xi.lanes|=e,fc|=e,n)}function Es(e,t,n,r){return Yn(n,t)?n:null!==fi.current?(e=Ns(e,n,r),Yn(e,t)||(Eo=!0),e):0===(42&vi)?(Eo=!0,e.memoizedState=n):(e=Ic(),xi.lanes|=e,fc|=e,t)}function Os(e,t,n,r,a){var i=I.p;I.p=0!==i&&8>i?i:8;var s=D.T,o={};D.T=o,qs(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Fs(e,t,r,Dc())}catch(u){Fs(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{I.p=i,D.T=s}}function Ps(){}function As(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Ts(e).queue;Os(e,a,t,R,null===n?Ps:function(){return Cs(e),n(r)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Cs(e){Fs(e,Ts(e).next.queue,{},Dc())}function Ms(){return Na(Qd)}function Ds(){return Fi().memoizedState}function Is(){return Fi().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=ai(n),n);return null!==r&&(Rc(r,t,n),si(r,t,n)),t={cache:Ma()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Us(t,n):null!==(n=Ar(e,t,n,r))&&(Rc(n,e,r),Vs(n,t,r))}function zs(e,t,n){Fs(e,t,n,Dc())}function Fs(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Us(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,s))return Pr(e,t,a,0),null===rc&&Or(),!1}catch(l){}if(null!==(n=Ar(e,t,a,r)))return Rc(n,e,r),Vs(n,t,r),!0}return!1}function qs(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Rc(t,e,2)}function Bs(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Us(e,t){_i=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Na,use:Bi,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi},Ws={readContext:Na,use:Bi,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=zi();t=void 0===t?null:t;var r=e();if(ki){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zi();if(void 0!==n){var a=n(t);if(ki){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ls.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=zs.bind(null,xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return Ns(zi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Os.bind(null,xi,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xi,a=zi();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ys($i.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=zi(),t=rc.identifierPrefix;if(ia){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Oi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ms,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=zi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qs.bind(null,xi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ui,useCacheRefresh:function(){return zi().memoizedState=Rs.bind(null,xi)}},Ks={readContext:Na,use:Bi,useCallback:ks,useContext:Na,useEffect:vs,useImperativeHandle:js,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:Ss,useReducer:Hi,useRef:ps,useState:function(){return Hi(Vi)},useDebugValue:_s,useDeferredValue:function(e,t){return Es(Fi(),bi.memoizedState,e,t)},useTransition:function(){var e=Hi(Vi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:qi(e),t]},useSyncExternalStore:Gi,useId:Ds,useHostTransitionStatus:Ms,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Fi(),0,e,t)},useMemoCache:Ui,useCacheRefresh:Is},Gs={readContext:Na,use:Bi,useCallback:ks,useContext:Na,useEffect:vs,useImperativeHandle:js,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:Ss,useReducer:Ki,useRef:ps,useState:function(){return Ki(Vi)},useDebugValue:_s,useDeferredValue:function(e,t){var n=Fi();return null===bi?Ns(n,e,t):Es(n,bi.memoizedState,e,t)},useTransition:function(){var e=Ki(Vi)[0],t=Fi().memoizedState;return["boolean"===typeof e?e:qi(e),t]},useSyncExternalStore:Gi,useId:Ds,useHostTransitionStatus:Ms,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Fi();return null!==bi?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ui,useCacheRefresh:Is},Qs=null,Ys=0;function $s(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xa(Qs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===N&&Zs(i)===t.type)?(Xs(t=a(t,n.props),n),t.return=e,t):(Xs(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Br(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(M(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,$s(t),n);if(t.$$typeof===w)return h(e,Ea(e,t),n);Js(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case N:return f(e,t,n=(a=n._init)(n._payload),r)}if(M(n)||A(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,$s(n),r);if(n.$$typeof===w)return f(e,t,Ea(e,n),r);Js(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(M(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,$s(r),a);if(r.$$typeof===w)return y(e,t,n,Ea(t,r),a);Js(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===N&&Zs(x)===c.type){n(l,c.sibling),Xs(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vr(u,l.mode,d)).return=l,l=d}return o(l);case N:return v(l,c,u=(x=u._init)(u._payload),d)}if(M(u))return function(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(a,d),ia&&Zr(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zr(a,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zr(a,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(x=A(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=f(a,p,v.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),o=i(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(v.done)return n(a,p),ia&&Zr(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return ia&&Zr(a,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),ia&&Zr(a,m),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return v(l,c,$s(u),d);if(u.$$typeof===w)return v(l,c,Ea(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var a=v(e,t,n,r);return Qs=null,a}catch(s){if(s===Wa||s===Ga)throw s;var i=Rr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=F(null),ao=null;function io(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===ao&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){q(ro),ao===e&&(ao=null),q(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Rc(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Rc(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Rc(t,e,n),si(t,e,n))}};function po(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(a,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function xo(e){console.error(e)}function bo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=ai(e)).tag=3,e}function So(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){jo(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var No=Error(s(461)),Eo=!1;function Oo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Po(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Sa(t),r=Ti(e,t,n,s,i,a),o=Ii(),null===e||Eo?(ia&&o&&ta(t),t.flags|=1,Oo(e,t,r,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function Ao(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,To(e,t,i,r,a))}if(i=e.child,!$o(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,r)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=zr(i,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if($n(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,!$o(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Io(e,t,n,r,a)}function Co(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Mo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Mo(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Va(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?(Va(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&Va(0,null),gi(),oo());return Oo(e,t,a,n),t.child}function Mo(e,t,n,r){var a=Ua();return a=null===a?null:{parent:Ca._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Va(0,null),gi(),so(t),null!==e&&_a(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Io(e,t,n,r,a){return Sa(t),n=Ti(e,t,n,r,void 0,a),r=Ii(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,Oo(e,t,n,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function Ro(e,t,n,r,a,i){return Sa(t),t.updateQueue=null,n=Mi(t,r,n,a),Ci(e),r=Ii(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,Oo(e,t,n,i),t.child):(Ri(e,t,i),Yo(e,t,i))}function Lo(e,t,n,r,a){if(Sa(t),null===t.stateNode){var i=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Na(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Na(s):Dr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Na(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&mo(t,i,r,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||po(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Na(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var f=t.memoizedState;s!==d||h!==f||ti||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ti||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Do(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):Oo(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Yo(e,t,a),e}function zo(e,t,n,r){return fa(),t.flags|=256,Oo(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:Ha()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Uo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=Br(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=qo(n),i.childLanes=Bo(e,r,n),t.memoizedState=Fo,a):(io(t),Vo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=Br(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=qo(n),a.childLanes=Bo(e,r,n),t.memoizedState=Fo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Wo(e,t,n)}else if(Eo||_a(e,t,n,!1),r=0!==(n&e.childLanes),Eo||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Oe(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Tr(e,a),Rc(r,e,a),No;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=$r,Xr=e.id,Jr=e.overflow,$r=t),(t=Vo(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=zr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=zr(u,i):(i=Br(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=qo(n):(null!==(l=c.cachePool)?(u=Ca._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Bo(e,r,n),t.memoizedState=Fo,a):(io(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Go(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Oo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_a(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!$o(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),xa(0,Ca,e.memoizedState.cache),fa();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_a(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n);case 24:xa(0,Ca,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ia&&0!==(1048576&t.flags)&&ea(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Po(null,t,r,e,n);break e}if(a===S){t.tag=14,t=Ao(null,t,r,e,n);break e}}throw t=C(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Io(null,t,r,e,n))}return t;case 0:return Io(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xa(0,Ca,r),r!==i.cache&&ja(t,[Ca],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zo(e,t,r,n);break e}if(r!==a){ma(a=kr(Error(s(424)),t)),t=zo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Yo(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Od(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ce]=t,r[Me]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(r=t.stateNode=bd(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),Oo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Q(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,sd(a,i)?r=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ti(e,t,Di,null,null,n),Qd._currentValue=a),Do(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Uo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xa(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Na(a)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Co(e,t,n);case 24:return Sa(t),r=Na(Ca),null===e?(null===(a=Ua())&&(a=rc,i=Ma(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),xa(0,Ca,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Ca,r)):(r=i.cache,xa(0,Ca,r),r!==a.cache&&ja(t,[Ca],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Ja=Qa,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Ca),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,ha(t)?ua(t):(e=bd(a,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,ha(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ce]=t,e[Me]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ce]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Ce]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ce]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&qu(t.stateNode.containerInfo),nl(t),null;case 10:return ba(t.type),nl(t),null;case 19:if(q(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Ca),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Ca),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(co),null;case 4:return G(),null;case 10:return ba(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&q(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Ca),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:ba(Ca),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:q(co);break;case 10:ba(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&q(Ba);break;case 24:ba(Ca)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in p=o=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ju(e,t,a,i,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Ju(e,t,o,a,r,i)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Me]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Ce]=e,t[Me]=n}catch(i){uu(e,e.return,i)}}var xl=!1,bl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,_l=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,a=xl;var i=bl;xl=r,(bl=t)&&!i?Fl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),xl=a,bl=i}break;case 30:break;default:Ll(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,El=!1;function Ol(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:bl||dl(n,t),Ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=Nl,a=El;fd(n.type)&&(Nl=n.stateNode,El=!1),Ol(e,t,n),wd(n.stateNode),Nl=r,El=a;break;case 5:bl||dl(n,t);case 6:if(r=Nl,a=El,Nl=null,Ol(e,t,n),El=a,null!==(Nl=r))if(El)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Nl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Nl&&(El?(pd(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):pd(Nl,n.stateNode));break;case 4:r=Nl,a=El,Nl=n.stateNode.containerInfo,El=!0,Ol(e,t,n),Nl=r,El=a;break;case 0:case 11:case 14:case 15:bl||ol(2,n,t),bl||ol(4,n,t),Ol(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Ol(e,t,n);break;case 21:Ol(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Ol(e,t,n),bl=r;break;default:Ol(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Cl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Nl=l.stateNode,El=!1;break e}break;case 5:Nl=l.stateNode,El=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Nl)throw Error(s(160));Pl(i,o,a),Nl=null,El=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ml=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cl(t,e),Il(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Cl(t,e),Il(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ml;if(Cl(t,e),Il(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Fe]||i[Ce]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Ce]=e,We(i),r=i;break e;case"link":var o=Fd("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Fd("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ce]=e,We(i),r=i}e.stateNode=r}else qd(a,e.type,e.stateNode);else e.stateNode=Dd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?qd(a,e.type,e.stateNode):Dd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Cl(t,e),Il(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Cl(t,e),Il(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Cl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(zd=null,a=Ml,Ml=kd(t.containerInfo),Cl(t,e),Ml=a,Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:r=Ml,Ml=kd(e.stateNode.containerInfo),Cl(t,e),Il(e),Ml=r;break;case 12:default:Cl(t,e),Il(e);break;case 13:Cl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=bl;if(xl=u||a,bl=d||c,Cl(t,e),bl=d,xl=u,Il(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||xl||bl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Tl(e,n))));break;case 19:Cl(t,e),Il(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,ml(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Fl(a,i,n),sl(4,i);break;case 1:if(Fl(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Fl(a,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:Fl(a,i,n);break;case 13:Fl(a,i,n),n&&4&s&&Al(a,i);break;case 22:null===i.memoizedState&&Fl(a,i,n),ul(i,i.return);break;case 30:break;default:Fl(a,i,n)}t=t.sibling}}function ql(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Ul(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Ul(e,t,n,r):Wl(e,t):2&i._visibility?Ul(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&ql(s,t);break;case 24:Ul(e,t,n,r),2048&a&&Bl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(i,s,o,l,a):Wl(i,s):(u._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&ql(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&Bl(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Wl(n,r),2048&a&&ql(r.alternate,r);break;case 24:Wl(n,r),2048&a&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Pd(n.href),i=e.querySelector(Ad(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Td(n),(a=jd.get(a))&&Rd(n,a),We(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ml;Ml=kd(e.stateNode.containerInfo),Gl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):$l(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var a=(r=_l).sibling,i=r.return;if(Sl(r),r===n){_l=null;break e}if(null!==a){a.return=i,_l=a;break e}_l=i}}}var ec={getCacheForType:function(e){var t=Na(Ca),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,xc=null,bc=!1,wc=0,jc=1/0,_c=null,kc=null,Sc=0,Nc=null,Ec=null,Oc=0,Pc=0,Ac=null,Tc=null,Cc=0,Mc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==La?La:Pu()}return Ae()}function Ic(){0===gc&&(gc=0===(536870912&ic)||ia?je():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Vc(e,0),qc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&qc(e,ic,gc,!1)),ju(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Wc(),a=Kc();rc!==e||ic!==t?(_c=null,jc=te()+500,Vc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){sc=0,oc=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),ju(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ya(i)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Bd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:Uc(),hc=6;break e;default:throw Error(s(462))}}$c();break}catch(d){Hc(e,d)}return va=ya=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Or(),hc)}(e,t):Qc(e,t,!0),i=r;;){if(0===a){cc&&!r&&qc(e,t,0,!1);break}if(n=e.current.alternate,!i||Fc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=xc,xc=a,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Vc(e,0),qc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:qc(r,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(qc(r,t,gc,!lc),0!==xe(r,0,!0))break e;r.timeoutHandle=ld(zc.bind(null,r,n,xc,_c,bc,t,gc,pc,yc,lc,i,2,-0,0),a)}else zc(r,n,xc,_c,bc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Qc(e,t,!1),i=!1}ju(e)}function zc(e,t,n,r,a,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Ud={stylesheets:null,count:0,unsuspend:Vd},Ql(t),null!==(h=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,o,l,c,d,1,f,p)),void qc(e,i,o,!u);nu(e,t,i,n,r,a,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Ne(e,n,t)}function Bc(){return 0!==(6&nc)||(_u(0,!1),!1)}function Uc(){if(null!==ac){if(0===sc)var e=ac.return;else va=ya=null,Li(e=ac),Qs=null,Ys=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ac=n=zr(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=be(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,xc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return dc=t,Or(),n}function Hc(e,t){xi=null,D.H=Hs,t===Wa||t===Ga?(t=Za(),sc=3):t===Ka?(t=Za(),sc=4):sc=t===No?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,kr(t,e.current)))}function Wc(){var e=D.H;return D.H=Hs,null===e?Hs:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||qc(rc,ic,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var a=Wc(),i=Kc();rc===e&&ic===t||(_c=null,Vc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,nc=r,D.H=a,D.A=i,null===ac&&(rc=null,ic=0,Or()),s}function Yc(){for(;null!==ac;)Xc(ac)}function $c(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ro(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ro(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Xo(n,t=ac=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){va=ya=null,Li(t),Qs=null,Ys=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_a(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(s(435,n.tag))}return du(e,r,a),Gc(),!1}if(ia)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(kr(e=Error(s(422),{cause:r}),n))):(r!==la&&ma(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),oi(e,a=_o(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=kr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,oi(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,So(a=ko(a),e,n,r),oi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,wo(e,kr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Er,o,l,c),e===rc&&(ac=rc=null,ic=0),Ec=t,Nc=e,Oc=n,Pc=i,Ac=a,Tc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=I.p,I.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(i=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=o,I.p=a,D.T=r}}Sc=1,ru(),au(),iu()}}function ru(){if(1===Sc){Sc=0;var e=Nc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=I.p;I.p=2;var a=nc;nc|=4;try{Dl(t,e);var i=nd,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var x=d.createRange();x.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=a,I.p=r,D.T=n}}e.current=t,Sc=2}}function au(){if(2===Sc){Sc=0;var e=Nc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=I.p;I.p=2;var a=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=a,I.p=r,D.T=n}}Sc=3}}function iu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Nc,t=Ec,n=Oc,r=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Nc=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=I.p,I.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{D.T=t,I.p=a}}0!==(3&Oc)&&ou(),ju(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Mc?Cc++:(Cc=0,Mc=e):Cc=0,_u(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function ou(e){return ru(),au(),iu(),lu()}function lu(){if(5!==Sc)return!1;var e=Nc,t=Pc;Pc=0;var n=Pe(Oc),r=D.T,a=I.p;try{I.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var i=Nc,o=Oc;if(Sc=0,Ec=Nc=null,Oc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(i.current),Vl(i,i.current,o,n),nc=l,_u(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{I.p=a,D.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ii(e,t=_o(e.stateNode,t,2),2))&&(Se(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ii(t,n=ko(2),2))&&(So(n,r,t,e),Se(r,2),ju(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&Vc(e,0):mc|=n,yc===ic&&(yc=0)),ju(e)}function fu(e,t){0===t&&(t=_e()),null!==(e=Tr(e,t))&&(Se(e,t),ju(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,xu=!1,bu=!1,wu=0;function ju(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),xu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,ku):Su()}))}function _u(e,t){if(!bu&&xu){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Ou(r,i))}else i=ic,0===(3&(i=xe(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,i)||(n=!0,Ou(r,i));r=r.next}}while(n);bu=!1}}function ku(){Su()}function Su(){xu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=Nu(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(xu=!0)),r=a}_u(e,!1)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=xe(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Eu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=xe(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Nu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Ou(e,t){if(ou())return null;Lc(e,t,!0)}function Pu(){return 0===wu&&(wu=je()),wu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Cu=0;Cu<wr.length;Cu++){var Mu=wr[Cu];jr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}jr(fr,"onAnimationEnd"),jr(pr,"onAnimationIteration"),jr(mr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(yr,"onTransitionStart"),jr(vr,"onTransitionCancel"),jr(xr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Fu]){e[Fu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Be(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Rt(function(){var r=i,a=Tt(n),s=[];e:{var o=br.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case xr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Vu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[De])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Ve(c),p=null==u?o:Ve(u),(o=new d(g,m+"leave",c,n,a)).target=h,o.relatedTarget=p,g=null,Be(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=zn;else if(Cn(o))if(Fn)y=Qn;else{y=Kn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(y=zn):y=Gn;switch(y&&(y=y(e,r))?Mn(s,y,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Ve(r):window,e){case"focusin":(Cn(v)||"true"===v.contentEditable)&&(rr=v,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var x;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?On(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(x=Ht()):(Ut="value"in(Bt=a)?Bt.value:Bt.textContent,An=!0)),0<(v=Hu(r,b)).length&&(b=new cn(b,e,null,n,a),s.push({event:b,listeners:v}),x?b.data=x:null!==(x=Pn(n))&&(b.data=x))),(x=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(En=!0,Nn);case"textInput":return(e=t.data)===Nn&&En?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!jn&&On(e,t)?(e=Ht(),Vt=Ut=Bt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:v,listeners:b}),v.data=x)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Au((a[Me]||null).action),s=r.submitter;s&&null!==(t=(t=s[Me]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Tu(a,s):new FormData(a);As(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Tu(a,s):new FormData(a),As(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Ru(s,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,n))&&r.unshift(Vu(e,a,i)),null!=(a=Lt(e,t))&&r.push(Vu(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(n,i))&&s.unshift(Vu(n,c,l)):a||null!=(c=Lt(n,i))&&s.push(Vu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function $u(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,a,i){switch(n){case"style":St(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Me]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,o,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,a,d,n,null)}}return yt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Ju(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(o in Lu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Lu(Du[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Ju(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Eh(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Eh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var jd=new Map,_d=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=I.d;I.d={f:function(){var e=Sd.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Cs(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var r=Nd;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Pd(e);break;case"script":i=Cd(e)}jd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ad(i))||"script"===t&&r.querySelector(Md(i))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Nd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Cd(e)}if(!jd.has(i)&&(e=h({rel:"modulepreload",href:e},t),jd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(i)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Sd.X(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,a=Cd(e),i=r.get(a);i||((i=n.querySelector(Md(a)))||(e=h({src:e,async:!0},t),(t=jd.get(a))&&Ld(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Sd.S(e,t,n);var r=Nd;if(r&&e){var a=He(r).hoistableStyles,i=Pd(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(i))&&Rd(e,n);var l=s=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Id(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Sd.M(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,a=Cd(e),i=r.get(a);i||((i=n.querySelector(Md(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&Ld(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Nd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Nd;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),_d.has(a)||(_d.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Od(e,t,n,r){var a,i,o,l,c=(c=H.current)?kd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(a=c,i=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),We(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Cd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Cd(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Id(r,n.precedence,e),t.instance=r;case"stylesheet":a=Pd(n.href);var i=e.querySelector(Ad(a));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Td(n),(a=jd.get(a))&&Rd(r,a),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,Id(i,n.precedence,e),t.instance=i;case"script":return i=Cd(n.src),(a=e.querySelector(Md(i)))?(t.instance=a,We(a),a):(r=n,(a=jd.get(i))&&Ld(r=h({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Id(r,n.precedence,e));return t.instance}function Id(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Fd(e,t,n){if(null===zd){var r=new Map,a=zd=new Map;a.set(n,r)}else(r=(a=zd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Fe]||i[Ce]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function qd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $d(e,t,n,r,a,i,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Rr(3,null,null,t),e.current=i,i.stateNode=e,(t=Ma()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Xd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,a,i){a=Xd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Rc(n,0,t),si(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=D.T;D.T=null;var i=I.p;try{I.p=2,ih(e,t,n,r)}finally{I.p=i,D.T=a}}function ah(e,t,n,r){var a=D.T;D.T=null;var i=I.p;try{I.p=8,ih(e,t,n,r)}finally{I.p=i,D.T=a}}function ih(e,t,n,r){if(nh){var a=sh(r);if(null===a)Uu(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=xh(dh,e,t,n,r,a),!0;case"dragenter":return hh=xh(hh,e,t,n,r,a),!0;case"mouseover":return fh=xh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,xh(ph.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,xh(mh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=Ue(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}ju(i),0===(6&nc)&&(jc=te()+500,_u(0,!1))}}break;case 13:null!==(o=Tr(i,2))&&Rc(o,0,2),Bc(),eh(i,2)}if(null===(i=sh(r))&&Uu(e,t,r,oh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function sh(e){return lh(e=Tt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function bh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Oe(e);var t=Tr(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function _h(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(jh),mh.forEach(jh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_h)))}var Sh=null;function Nh(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Ue(n);null!==i&&(e.splice(t,3),t-=3,As(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Eh(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==fh&&kh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Me]||null;if("function"===typeof i)s||Nh(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Me]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Nh(n)}}}function Oh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Dc(),e,t,null,null)},Ph.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[De]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Ah=a.version;if("19.1.0"!==Ah)throw Error(s(527,Ah,"19.1.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{ue=Ch.inject(Th),de=Ch}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=vo,i=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,a,i,l,0,null),e[De]=t.current,qu(e),new Oh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=vo,l=xo,c=bo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,a,i,l,c,0,u)).context=Xd(null),n=t.current,(a=ai(r=Oe(r=Dc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,Se(t,n),ju(t),e[De]=t.current,qu(e),new Ph(t)},t.version="19.1.0"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7067:(e,t,n)=>{"use strict";e.exports=n(7914)},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),a=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),s=new Array(i);for(let r=0;r<i;r++)s[r]=e,e+=n;return s}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(s)&&t<r?a(s,t+1):n.push(s)}};return a(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(9286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.get("Accept"))&&void 0!==s?s:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=i},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7914:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function j(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,k||(k=!0,_());else{var t=r(u);null!==t&&C(j,t.startTime-e)}}var _,k=!1,S=-1,N=5,E=-1;function O(){return!!y||!(t.unstable_now()-E<N)}function P(){if(y=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(S),S=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&O());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&C(j,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?_():k=!1}}}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=P,_=function(){T.postMessage(null)}}else _=function(){v(P,0)};function C(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(x(S),S=-1):g=!0,C(j,i-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,k||(k=!0,_()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(1210));t.PostgrestClient=a.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const s=r(n(5736));t.PostgrestFilterBuilder=s.default;const o=r(n(7374));t.PostgrestTransformBuilder=o.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?O(t,h):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?O(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=S(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=S(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(o=!1,t=w(N(n,s),N(e,s),s),o=!0,O(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):O(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=s=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,s+2)).times(.5),b(i.d).slice(0,s)===(t=b(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(O(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;s+=4}return o=!0,O(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,s=c,c=u,u=s),i=[],r=s=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,o?O(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),O(n,e+_(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=A(r=O(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?A(a):(x(e,0,i),void 0===t?t=s.rounding:x(t,0,8),n=A((r=O(new s(a),e+_(a)+1,t)).abs(),!1,e+_(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return O(new t(e),_(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),o=!1;n%2&&T((i=i.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(i):O(i,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,i=e.times(N(u,r+12)),o=!0,(i=j(i)).s=s,i},y.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?r=A(a,(n=_(a))<=s.toExpNeg||n>=s.toExpPos):(x(e,1,i),void 0===t?t=s.rounding:x(t,0,8),r=A(a=O(new s(a),e,t),e<=(n=_(a))||n<=s.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),O(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=_(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,s){var o,c,u,d,h,f,m,g,y,v,x,b,w,j,k,S,N,E,P=r.constructor,A=r.s==a.s?1:-1,T=r.d,C=a.d;if(!r.s)return new P(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,N=C.length,k=T.length,g=(m=new P(A)).d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--c,(b=null==i?i=P.precision:s?i+(_(r)-_(a))+1:i)<0)return new P(0);if(b=b/7+2|0,u=0,1==N)for(d=0,C=C[0],b++;(u<k||d)&&b--;u++)w=d*p+(T[u]||0),g[u]=w/C|0,d=w%C|0;else{for((d=p/(C[0]+1)|0)>1&&(C=e(C,d),T=e(T,d),N=C.length,k=T.length),j=N,v=(y=T.slice(0,N)).length;v<N;)y[v++]=0;(E=C.slice()).unshift(0),S=C[0],C[1]>=p/2&&++S;do{d=0,(o=t(C,y,N,v))<0?(x=y[0],N!=v&&(x=x*p+(y[1]||0)),(d=x/S|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(C,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?E:C,f))):(0==d&&(o=d=1),h=C.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==o&&(o=t(C,y,N,v=y.length))<1&&(d++,n(y,N<v?E:C,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=T[j]||0:(y=[T[j]],v=1)}while((j++<k||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,O(m,s?i+_(m)+1:i)}}();function j(e,t){var n,r,i,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),b((s=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=O(i.times(i),l);return f.precision=p,null==t?(o=!0,O(i,p)):i}i=s}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,i,s,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),k(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),s=_(m),!(Math.abs(s)<15e14))return d=k(y,h+2,v).times(s+""),m=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,O(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(s=_(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=O(m.times(m),h),i=3;;){if(c=O(c.times(f),h),b((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(k(y,h+2,v).times(s+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,O(u,v)):u;u=d,i+=2}}function E(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,a,i,s,l,c,f,m,y=e.d;for(s=1,i=y[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(f=i=y[m],s=1;i>=10;i/=10)s++;a=(r%=7)-7+s}if(void 0!==n&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,s-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=_(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-r),y[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+_(e));return e}function P(e,t){var n,r,a,i,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?O(t,m):t):new f(0)}function A(e,t,n){var r,a=_(e),i=b(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+S(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,n&&(r=n-s)>0&&(i+=S(r))):a>=s?(i+=S(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+S(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=S(r))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);E(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=C,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer","count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(3272),i=n(8396),s=n(9323),o=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=s.get(n,e);return void 0===a?o.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let s=null,o=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(a=null===s||void 0===s?void 0:s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,c=200,u="OK"),s&&this.shouldThrowOnError)throw new i.default(s)}return{error:s,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),a=n(2489),i=n(3272),s=n(1444);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,s.toPath(n),o):o:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?o:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,o);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),a=n(8346),i=n(1203);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9825:()=>{},9859:(e,t,n)=>{e.exports=n(7231).range},9885:(e,t,n)=>{var r;!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||f(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var s=t._howls[n]._soundById(r[a]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var s=t._howls[n]._soundById(r[a]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(u){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",a=r.match(/OPR\/(\d+)/g),s=a&&parseInt(a[0].split("/")[1],10)<33,o=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),c=o&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var a=0;a<e._howls.length;a++)if(!e._howls[a]._webAudio)for(var i=e._howls[a]._getSoundIds(),s=0;s<i.length;s++){var o=e._howls[a]._soundById(i[s]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),"undefined"===typeof l.start?l.noteOn(0):l.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new a,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return i.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,"undefined"!==typeof i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,a;if(e._format&&e._format[n])r=e._format[n];else{if("string"!==typeof(a=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(a))||(r=/\.([^.]+)$/.exec(a.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var a=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(a++,r=n._sounds[s]._id);1===a?e=null:r=null}}var o=r?n._soundById(r):n._inactiveSound();if(!o)return null;if(r&&!e&&(e=o._sprite||"__default"),"loaded"!==n._state){o._sprite=e,o._ended=!1;var l=o._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!o._paused)return t||n._loadQueue("play"),o._id;n._webAudio&&i._autoResume();var c=Math.max(0,o._seek>0?o._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*u/Math.abs(o._rate),h=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;o._sprite=e,o._ended=!1;var p=function(){o._paused=!1,o._seek=c,o._start=h,o._stop=f,o._loop=!(!o._loop&&!n._sprite[e][2])};if(!(c>=f)){var m=o._node;if(n._webAudio){var g=function(){n._playLock=!1,p(),n._refreshBuffer(o);var e=o._muted||n._muted?0:o._volume;m.gain.setValueAtTime(e,i.ctx.currentTime),o._playStart=i.ctx.currentTime,"undefined"===typeof m.bufferSource.start?o._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,u):o._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,u),d!==1/0&&(n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),d)),t||setTimeout(function(){n._emit("play",o._id),n._loadQueue()},0)};"running"===i.state&&"interrupted"!==i.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(o._id))}else{var y=function(){m.currentTime=c,m.muted=o._muted||n._muted||i._muted||m.muted,m.volume=o._volume*i.volume(),m.playbackRate=o._rate;try{var r=m.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,p(),r.then(function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",o._id)}).catch(function(){n._playLock=!1,n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0})):t||(n._playLock=!1,p(),n._emit("play",o._id)),m.playbackRate=o._rate,m.paused)return void n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||o._loop?n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),d):(n._endTimers[o._id]=function(){n._ended(o),m.removeEventListener("ended",n._endTimers[o._id],!1)},m.addEventListener("ended",n._endTimers[o._id],!1))}catch(a){n._emit("playerror",o._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var v=window&&window.ejecta||!m.readyState&&i._navigator.isCocoonJS;if(m.readyState>=3||v)y();else{n._playLock=!0,n._state="loading";var x=function(){n._state="loaded",y(),m.removeEventListener(i._canPlayEvent,x,!1)};m.addEventListener(i._canPlayEvent,x,!1),n._clearTimer(o._id)}}return o._id}n._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var a=t._soundById(n[r]);if(a&&!a._paused&&(a._seek=t.seek(n[r]),a._rateSeek=0,a._paused=!0,t._stopFade(n[r]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;"undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),a=0;a<r.length;a++){n._clearTimer(r[a]);var i=n._soundById(r[a]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[a]),i._node&&(n._webAudio?i._node.bufferSource&&("undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),a=0;a<r.length;a++){var s=n._soundById(r[a]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,i.ctx.currentTime):s._node&&(s._node.muted=!!i._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._volume;if(1===a.length||2===a.length&&"undefined"===typeof a[1]?r._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0]):a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10)),!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,a)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)(n=r._soundById(t[s]))&&(n._volume=e,a[2]||r._stopFade(t[s]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,r)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,r);for(var s=a._getSoundIds(r),o=0;o<s.length;o++){var l=a._soundById(s[o]);if(l){if(r||a._stopFade(s[o]),a._webAudio&&!l._muted){var c=i.ctx.currentTime,u=c+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(l,e,t,n,s[o],"undefined"===typeof r)}}return a},_startFadeInterval:function(e,t,n,r,a,i){var s=this,o=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var a=(Date.now()-d)/r;d=Date.now(),o+=l*a,o=Math.round(100*o)/100,o=l<0?Math.max(n,o):Math.min(n,o),s._webAudio?e._volume=o:s.volume(o,e._id,!0),i&&(s._volume=o),(n<t&&o<=n||n>t&&o>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))},u)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._loop;if(1===a.length){if("boolean"!==typeof a[0])return!!(n=r._soundById(parseInt(a[0],10)))&&n._loop;e=a[0],r._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var i=r._getSoundIds(t),s=0;s<i.length;s++)(n=r._soundById(i[s]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[s])&&(r.pause(i[s],!0),r.play(i[s],!0)))));return r},rate:function(){var e,t,n,r=this,a=arguments;if(0===a.length)t=r._sounds[0]._id;else if(1===a.length){r._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!==typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,a)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)if(n=r._soundById(t[s])){r.playing(t[s])&&(n._rateSeek=r.seek(t[s]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var o=r.seek(t[s]),l=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-o)/Math.abs(n._rate);!r._endTimers[t[s]]&&n._paused||(r._clearTimer(t[s]),r._endTimers[t[s]]=setTimeout(r._ended.bind(r,n),l)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(t);if(a){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?i.ctx.currentTime-a._playStart:0,o=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(o+s*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var c=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var u=function(){n._playLock?setTimeout(u,0):c()};setTimeout(u,0)}else c()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var a=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){a=!1;break}return l&&a&&delete l[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var a=this["_on"+e];return"function"===typeof t&&a.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,a=r["_on"+e],i=0;if("number"===typeof t&&(n=t,t=null),t||n)for(i=0;i<a.length;i++){var s=n===a[i].id;if(t===a[i].fn&&s||!t&&s){a.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var o=Object.keys(r);for(i=0;i<o.length;i++)0===o[i].indexOf("_on")&&Array.isArray(r[o[i]])&&(r[o[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,a=r["_on"+e],i=a.length-1;i>=0;i--)a[i].id&&a[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,a[i].fn),0),a[i].once&&r.off(e,a[i].fn,a[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new o(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},c=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void h(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(l[t._src]=e,h(t,e)):n()};"undefined"!==typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(i.usingWebAudio){try{"undefined"!==typeof AudioContext?i.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(a){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain="undefined"===typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:s}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=s,"undefined"!==typeof n.g?(n.g.HowlerGlobal=a,n.g.Howler=i,n.g.Howl=s,n.g.Sound=o):"undefined"!==typeof window&&(window.HowlerGlobal=a,window.Howler=i,window.Howl=s,window.Sound=o)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,a,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;var o=s._orientation;return t="number"!==typeof t?o[1]:t,n="number"!==typeof n?o[2]:n,r="number"!==typeof r?o[3]:r,a="number"!==typeof a?o[4]:a,i="number"!==typeof i?o[5]:i,"number"!==typeof e?o:(s._orientation=[e,t,n,r,a,i],"undefined"!==typeof s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,r,a,i),s)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var a="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),s=0;s<i.length;s++){var o=r._soundById(i[s]);if(o){if("number"!==typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||t(o,a),"spatial"===a?"undefined"!==typeof o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",o._id)}}return r},Howl.prototype.pos=function(e,n,r,a){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,a)}}),i;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof a){if("number"!==typeof e)return i._pos;i._pos=[e,n,r]}for(var s=i._getSoundIds(a),o=0;o<s.length;o++){var l=i._soundById(s[o]);if(l){if("number"!==typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),"undefined"!==typeof l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),i._emit("pos",l._id)}}return i},Howl.prototype.orientation=function(e,n,r,a){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,a)}}),i;if(n="number"!==typeof n?i._orientation[1]:n,r="number"!==typeof r?i._orientation[2]:r,"undefined"===typeof a){if("number"!==typeof e)return i._orientation;i._orientation=[e,n,r]}for(var s=i._getSoundIds(a),o=0;o<s.length;o++){var l=i._soundById(s[o]);if(l){if("number"!==typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=i._pos||[0,0,-.5]),t(l,"spatial")),"undefined"!==typeof l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),i._emit("orientation",l._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,a=this,i=arguments;if(!a._webAudio)return a;if(0===i.length)return a._pannerAttr;if(1===i.length){if("object"!==typeof i[0])return(r=a._soundById(parseInt(i[0],10)))?r._pannerAttr:a._pannerAttr;e=i[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var s=a._getSoundIds(n),o=0;o<s.length;o++)if(r=a._soundById(s[o])){var l=r._pannerAttr;l={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:l.panningModel};var c=r._panner;c||(r._pos||(r._pos=a._pos||[0,0,-.5]),t(r,"spatial"),c=r._panner),c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{159:"2ac5f6c3",450:"7eed5d5d",453:"0718c2b8"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fluence-daily-quiz:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/fluence-daily-quiz-v3/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfluence_daily_quiz=self.webpackChunkfluence_daily_quiz||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>fw,scaleDiverging:()=>oN,scaleDivergingLog:()=>lN,scaleDivergingPow:()=>uN,scaleDivergingSqrt:()=>dN,scaleDivergingSymlog:()=>cN,scaleIdentity:()=>t_,scaleImplicit:()=>dw,scaleLinear:()=>e_,scaleLog:()=>u_,scaleOrdinal:()=>hw,scalePoint:()=>mw,scalePow:()=>x_,scaleQuantile:()=>T_,scaleQuantize:()=>C_,scaleRadial:()=>j_,scaleSequential:()=>eN,scaleSequentialLog:()=>tN,scaleSequentialPow:()=>rN,scaleSequentialQuantile:()=>iN,scaleSequentialSqrt:()=>aN,scaleSequentialSymlog:()=>nN,scaleSqrt:()=>b_,scaleSymlog:()=>p_,scaleThreshold:()=>M_,scaleTime:()=>$S,scaleUtc:()=>XS,tickFormat:()=>Jj});var t=n(5043),r=n.t(t,2),a=n(4391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return S(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return j("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:_(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return N(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,h),l=e,()=>{a.removeEventListener(y,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=j(p.location,e,t);n&&n(r,e),c=d()+1;let u=w(r,c),h=p.createHref(r);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}i&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=j(p.location,e,t);n&&n(r,e),c=d();let a=w(r,c),u=p.createHref(r);s.replaceState(a,"",u),i&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:_(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function E(e,t){return O(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function O(e,t,n,r){let a=V(("string"===typeof t?k(t):t).pathname||"/",n);if(null==a)return null;let i=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=U(a);s=F(i[o],e,r)}return s}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=X([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,!0,r);else i(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=A(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,C=3,M=2,D=1,I=10,R=-2,L=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=R),t&&(r+=M),n.filter(e=>!L(e)).reduce((e,t)=>e+(T.test(t)?C:""===t?D:I),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:X([i,u.pathname]),pathnameBase:J(X([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=X([i,u.pathnameBase]))}return s}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W=e=>H.test(e);function K(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function G(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=Q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=u({},e),x(!r.pathname||!r.pathname.includes("?"),G("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),G("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),G("#","search","hash",r)));let i,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:i=""}="string"===typeof e?k(e):e;if(r)if(W(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?K(r.substring(1),"/"):K(r,n)}else t=n;return{pathname:t,search:Z(a),hash:ee(i)}}(r,i),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function te(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ne=["POST","PUT","PATCH","DELETE"],re=(new Set(ne),["GET",...ne]);new Set(re),Symbol("ResetLoaderData");var ae=t.createContext(null);ae.displayName="DataRouter";var ie=t.createContext(null);ie.displayName="DataRouterState";var se=t.createContext(!1);var oe=t.createContext({isTransitioning:!1});oe.displayName="ViewTransition";var le=t.createContext(new Map);le.displayName="Fetchers";var ce=t.createContext(null);ce.displayName="Await";var ue=t.createContext(null);ue.displayName="Navigation";var de=t.createContext(null);de.displayName="Location";var he=t.createContext({outlet:null,matches:[],isDataRoute:!1});he.displayName="Route";var fe=t.createContext(null);fe.displayName="RouteError";function pe(){return null!=t.useContext(de)}function me(){return x(pe(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(de).location}var ge="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ye(e){t.useContext(ue).static||t.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=t.useContext(he);return e?function(){let{router:e}=Oe("useNavigate"),n=Ae("useNavigate"),r=t.useRef(!1);ye(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,ge),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},a)))},[e,n]);return a}():function(){x(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ae),{basename:n,navigator:r}=t.useContext(ue),{matches:a}=t.useContext(he),{pathname:i}=me(),s=JSON.stringify(Y(a)),o=t.useRef(!1);ye(()=>{o.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,ge),!o.current)return;if("number"===typeof t)return void r.go(t);let l=$(t,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:X([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[n,r,s,i,e]);return l}()}t.createContext(null);function xe(){let{matches:e}=t.useContext(he),n=e[e.length-1];return n?n.params:{}}function be(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(he),{pathname:a}=me(),i=JSON.stringify(Y(r));return t.useMemo(()=>$(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function we(e,n,r,a,i){x(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(ue),{matches:o}=t.useContext(he),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Me(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=me();if(n){var g;let e="string"===typeof n?k(n):n;x("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=E(e,{pathname:v});b(f||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let j=Ne(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:X([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,a,i);return n&&j?t.createElement(de.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},j):j}function je(){let e=Te(),n=te(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,o)}var _e=t.createElement(je,null),ke=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(he.Provider,{value:this.props.routeContext},t.createElement(fe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Se(e){let{routeContext:n,match:r,children:a}=e,i=t.useContext(ae);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(he.Provider,{value:n},a)}function Ne(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=r&&a?(e,t)=>{var n,i;a(e,{location:r.location,params:null!==(n=null===(i=r.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==n?n:{},errorInfo:t})}:void 0;return i.reduceRight((e,a,u)=>{let d,h=!1,f=null,p=null;r&&(d=s&&a.route.id?s[a.route.id]:void 0,f=a.route.errorElement||_e,o&&(l<0&&0===u?(Me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=a.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,u+1)),g=()=>{let n;return n=d?f:h?p:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(Se,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?t.createElement(ke,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Oe(e){let n=t.useContext(ae);return x(n,Ee(e)),n}function Pe(e){let n=t.useContext(ie);return x(n,Ee(e)),n}function Ae(e){let n=function(e){let n=t.useContext(he);return x(n,Ee(e)),n}(e),r=n.matches[n.matches.length-1];return x(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Te(){var e;let n=t.useContext(fe),r=Pe("useRouteError"),a=Ae("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var Ce={};function Me(e,t,n){t||Ce[e]||(Ce[e]=!0,b(!1,n))}var De={};function Ie(e,t){e||De[t]||(De[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:a}=e;return we(t,void 0,r,a,n)});function Re(e){let{to:n,replace:r,state:a,relative:i}=e;x(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=t.useContext(ue);b(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(he),{pathname:l}=me(),c=ve(),u=$(n,Y(o),l,"path"===i),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:r,state:a,relative:i})},[c,d,i,r,a]),null}function Le(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ze(e){let{basename:n="/",children:r=null,location:a,navigationType:i="POP",navigator:s,static:o=!1}=e;x(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);"string"===typeof a&&(a=k(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=a,m=t.useMemo(()=>{let e=V(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ue.Provider,{value:c},t.createElement(de.Provider,{children:r,value:m}))}function Fe(e){let{children:t,location:n}=e;return we(qe(t),n)}t.Component;function qe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,qe(e.props.children,i));x(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=qe(e.props.children,i)),r.push(s)}),r}var Be="get",Ue="application/x-www-form-urlencoded";function Ve(e){return null!=e&&"string"===typeof e.tagName}var He=null;var We=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ke(e){return null==e||We.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Ge(e,t){let n,r,a,i,s;if(function(e){return Ve(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");r=s?V(s,t):null,n=e.getAttribute("method")||Be,a=Ke(e.getAttribute("enctype"))||Ue,i=new FormData(e)}else if(function(e){return Ve(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ve(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?V(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Be,a=Ke(e.getAttribute("formenctype"))||Ke(s.getAttribute("enctype"))||Ue,i=new FormData(s,e),!function(){if(null===He)try{new FormData(document.createElement("form"),0),He=!1}catch(e){He=!0}return He}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Ve(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,r=null,a=Ue,s=e}return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ye(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===V(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function $e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xe(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function et(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function tt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Xe(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e},[])}function nt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=t.useContext(ae);return Qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function at(){let e=t.useContext(ie);return Qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=t.createContext(void 0);function st(){let e=t.useContext(it);return Qe(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function ct(e){let{page:n}=e,r=i(e,h),{router:a}=rt(),s=t.useMemo(()=>E(a.routes,n,a.basename),[a.routes,n,a.basename]);return s?t.createElement(dt,u({page:n,matches:s},r)):null}function ut(e){let{manifest:n,routeModules:r}=st(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return tt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await $e(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),a}function dt(e){let{page:n,matches:r}=e,a=i(e,f),s=me(),{manifest:o,routeModules:l}=st(),{basename:c}=rt(),{loaderData:d,matches:h}=at(),p=t.useMemo(()=>Ze(n,r,h,o,s,"data"),[n,r,h,o,s]),m=t.useMemo(()=>Ze(n,r,h,o,s,"assets"),[n,r,h,o,s]),g=t.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=o.routes[n.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Ye(n,c,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[c,d,s,o,p,r,n,l]),y=t.useMemo(()=>et(m,o),[m,o]),v=ut(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},a))),v.map(e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n,nonce:a.nonce},r))}))}var ht=!1;function ft(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:s,routeDiscovery:o,ssr:l}=st(),{router:c,static:h,staticContext:f}=rt(),{matches:p}=at(),m=t.useContext(se),g=nt(o,l);s&&(s.didRenderScripts=!0);let y=lt(p,null,a);t.useEffect(()=>{0},[]);let v=t.useMemo(()=>{var a;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];Qe(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach(e=>{let n=E(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(n,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),x=ht||m?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(et(y,n,{includeHydrateFallback:!0}))),b="object"===typeof n.sri?n.sri:{};return Ie(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ht||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),v)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function mt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(te(n))return t.createElement(gt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(gt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function gt(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=st();return null!==o.root&&void 0!==n&&n.Layout&&!i?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?t.createElement(ft,null):null)))}var yt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{yt&&(window.__reactRouterVersion="7.9.6")}catch(dH){}function vt(e){let{basename:n,children:r,window:a}=e,i=t.useRef();null==i.current&&(i.current=v({window:a,v5Compat:!0}));let s=i.current,[o,l]=t.useState({action:s.action,location:s.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>s.listen(c),[s,c]),t.createElement(ze,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:s})}var xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=t.forwardRef(function(e,n){let r,{onClick:a,discover:s="render",prefetch:o="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=i(e,p),{basename:w}=t.useContext(ue),j="string"===typeof m&&xt.test(m),k=!1;if("string"===typeof m&&j&&(r=m,yt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=V(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(dH){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(ue),{hash:i,pathname:s,search:o}=be(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:X([r,s])),a.createHref({pathname:l,search:o,hash:i})}(m,{relative:l}),[N,E,O]=function(e,n){let r=t.useContext(it),[a,i]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?"intent"!==e?[s,f,{}]:[s,f,{onFocus:ot(l,p),onBlur:ot(c,m),onMouseEnter:ot(u,p),onMouseLeave:ot(d,m),onTouchStart:ot(h,p)}]:[!1,f,{}]}(o,v),P=function(e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),c=me(),u=be(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:_(c)===_(u);l(e,{replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,r,a,n,e,i,s,o])}(m,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let A=t.createElement("a",u(u(u({},v),O),{},{href:r||S,onClick:k||c?a:function(e){a&&a(e),e.defaultPrevented||P(e)},ref:pt(n,E),target:f,"data-discover":j||"render"!==s?void 0:"true"}));return N&&!j?t.createElement(t.Fragment,null,A,t.createElement(ct,{page:S})):A});bt.displayName="Link";var wt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=i(e,m),p=be(c,{relative:f.relative}),g=me(),y=t.useContext(ie),{navigator:v,basename:b}=t.useContext(ue),w=null!=y&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(oe);x(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kt("useViewTransitionState"),i=be(e,{relative:n});if(!r.isTransitioning)return!1;let s=V(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=V(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=q(i.pathname,o)||null!=q(i.pathname,s)}(p)&&!0===d,j=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,_=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&b&&(k=V(k,b)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let N,E=_===j||!o&&_.startsWith(j)&&"/"===_.charAt(S),O=null!=k&&(k===j||!o&&k.startsWith(j)&&"/"===k.charAt(j.length)),P={isActive:E,isPending:O,isTransitioning:w},A=E?r:void 0;N="function"===typeof s?s(P):[s,E?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(P):l;return t.createElement(bt,u(u({},f),{},{"aria-current":A,className:N,ref:n,style:T,to:c,viewTransition:d}),"function"===typeof h?h(P):h)});wt.displayName="NavLink";var jt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:c,method:d=Be,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=i(e,g),b=Et(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ue),a=t.useContext(he);x(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=u({},be(e||".",{relative:n})),o=me();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:X([r,s.pathname]));return _(s)}(h,{relative:p}),j="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&xt.test(h);return t.createElement("form",u(u({ref:n,method:j,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":k||"render"!==r?void 0:"true"}))});function _t(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let n=t.useContext(ae);return x(n,_t(e)),n}jt.displayName="Form";var St=0,Nt=()=>"__".concat(String(++St),"__");function Et(){let{router:e}=kt("useSubmit"),{basename:n}=t.useContext(ue),r=Ae("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Ge(t,n);if(!1===a.navigate){let t=a.fetcherKey||Nt();await e.fetch(t,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}class Ot extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Pt extends Ot{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class At extends Ot{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tt extends Ot{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ct;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ct||(Ct={}));var Mt=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Dt{constructor(e){let{headers:t={},customFetch:r,region:a=Ct.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Mt(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:i,signal:s}=t;let o={},{region:l}=t;l||(l=this.region);const c=new URL("".concat(this.url,"/").concat(e));let u;l&&"any"!==l&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=i):"string"===typeof i?(o["Content-Type"]="text/plain",u=i):"undefined"!==typeof FormData&&i instanceof FormData?u=i:(o["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:u,signal:s}).catch(e=>{if("AbortError"===e.name)throw e;throw new Pt(e)}),h=d.headers.get("x-relay-error");if(h&&"true"===h)throw new At(d);if(!d.ok)throw new Tt(d);let f,p=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),{data:f,error:null,response:d}}catch(r){return r instanceof Error&&"AbortError"===r.name?{data:null,error:new Pt(r)}:{data:null,error:r,response:r instanceof Tt||r instanceof At?r.context:void 0}}})}}var It=n(7980);const{PostgrestClient:Rt,PostgrestQueryBuilder:Lt,PostgrestFilterBuilder:zt,PostgrestTransformBuilder:Ft,PostgrestBuilder:qt,PostgrestError:Bt}=It;const Ut=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Vt="realtime-js/".concat("2.15.5"),Ht=1e4;var Wt,Kt,Gt,Qt,Yt,$t;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Wt||(Wt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Kt||(Kt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Gt||(Gt={})),function(e){e.websocket="websocket"}(Qt||(Qt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Yt||(Yt={}));class Xt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Jt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}($t||($t={}));const Zt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=en(a,e,t,r),n),{})},en=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,s=n[e];return i&&!r.includes(i)?tn(i,s):nn(s)},tn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return on(t,n)}switch(e){case $t.bool:return rn(t);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return an(t);case $t.json:case $t.jsonb:return sn(t);case $t.timestamp:return ln(t);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:default:return nn(t)}},nn=e=>e,rn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},an=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},on=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>tn(t,e))}return e},ln=e=>"string"===typeof e?e.replace(" ","T"):e,cn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class un{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ht;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dn,hn,fn,pn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(dn||(dn={}));class mn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=mn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=mn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,(e,t)=>{i[e]||(o[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(a,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(hn||(hn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(fn||(fn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(pn||(pn={}));class gn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new un(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Jt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Kt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new mn(this),this.broadcastEndpointURL=cn(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[fn.PRESENCE]&&this.bindings[fn.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:i,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(pn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:s,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Kt.errored,void(null===e||void 0===e||e(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(pn.SUBSCRIBED))}null===e||void 0===e||e(pn.SUBSCRIBED)}).receive("error",t=>{this.state=Kt.errored,null===e||void 0===e||e(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Kt.joined&&e===fn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Kt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new un(this,Gt.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new un(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Gt;if(n&&[s,o,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&gn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Zt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Zt(e.columns,e.old_record)),t}}const yn=()=>{},vn=25e3,xn=10,bn=100,wn=[1e3,2e3,5e3,1e4];class jn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ht,this.transport=null,this.heartbeatIntervalMs=vn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yn,this.ref=0,this.reconnectTimer=null,this.logger=yn,this.conn=null,this.sendBuffer=[],this.serializer=new Xt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Qt.websocket),this.httpEndpoint=cn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ut.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return Yt.Connecting;case Wt.open:return Yt.Open;case Wt.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new gn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(dH){this.log("error","error in heartbeat callback",dH)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},bn)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(dH){this.log("error","error in heartbeat callback",dH)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(dH){this.log("error","error in heartbeat callback",dH)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(dH){this.log("error","error in heartbeat callback",dH)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?"(".concat(a,")"):"",s=r.status||"";this.log("receive","".concat(s," ").concat(t," ").concat(n," ").concat(i).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Vt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Gt.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(dH){this.log("error","error in ".concat(e," callback"),dH)}})}catch(dH){this.log("error","error triggering ".concat(e," callbacks"),dH)}}_setupReconnectionTimer(){this.reconnectTimer=new Jt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,s,o,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Ht,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:vn,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(s=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==s?s:yn,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>wn[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class _n extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Sn extends _n{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nn extends _n{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var En=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const On=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Pn=e=>{if(Array.isArray(e))return e.map(e=>Pn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Pn(r)}),t};var An=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cn=(e,t,r)=>An(void 0,void 0,void 0,function*(){const a=yield En(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Sn(Tn(n),r,a))}).catch(e=>{t(new Nn(Tn(e),e))}):t(new Nn(Tn(e),e))}),Mn=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function Dn(e,t,n,r,a,i){return An(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(n,Mn(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Cn(e,o,r))})})}function In(e,t,n,r){return An(this,void 0,void 0,function*(){return Dn(e,"GET",t,n,r)})}function Rn(e,t,n,r,a){return An(this,void 0,void 0,function*(){return Dn(e,"POST",t,r,a,n)})}function Ln(e,t,n,r,a){return An(this,void 0,void 0,function*(){return Dn(e,"PUT",t,r,a,n)})}function zn(e,t,n,r,a){return An(this,void 0,void 0,function*(){return Dn(e,"DELETE",t,r,a,n)})}var Fn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class qn{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Fn(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}})}}var Bn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Un{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new qn(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return Bn(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}})}}var Vn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Hn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=On(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return Vn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Wn),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,s["cache-control"]="max-age=".concat(i.cacheControl),s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ln:Rn)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Vn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+"/object/upload/sign/".concat(i));s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Wn.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Ln(this.fetch,s.toString(),e,{headers:i})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(kn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Vn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Rn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new _n("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}update(e,t,n){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Vn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Vn(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Vn(this,void 0,void 0,function*(){try{const r=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"",i=this._getFinalPath(e);return new Un(()=>In(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(i).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Vn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield In(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Pn(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}exists(e){return Vn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return An(this,void 0,void 0,function*(){return Dn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n)&&n instanceof Nn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(o))}}}remove(e){return Vn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}list(e,t,n){return Vn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Hn),t),{prefix:e||""});return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}listV2(e,t){return Vn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Gn={"X-Client-Info":"storage-js/".concat("2.12.2")};var Qn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Gn),t),this.fetch=On(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qn(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}})}getBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Qn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}}class $n extends Yn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Kn(this.url,this.headers,e,this.fetch)}}let Xn="";Xn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Jn={headers:{"X-Client-Info":"supabase-js-".concat(Xn,"/").concat("2.58.0")}},Zn={schema:"public"},er={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tr={};var nr=n(4630),rr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const ar=e=>{let t;return t=e||("undefined"===typeof fetch?nr.default:fetch),function(){return t(...arguments)}},ir=(e,t,n)=>{const r=ar(n),a="undefined"===typeof Headers?nr.Headers:Headers;return(n,i)=>rr(void 0,void 0,void 0,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var sr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const or="2.72.0",lr=3e4,cr=9e4,ur={"X-Client-Info":"gotrue-js/".concat(or)},dr="X-Supabase-Api-Version",hr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},fr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class pr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function mr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class gr extends pr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class yr extends pr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class vr extends pr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class xr extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class br extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jr extends vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _r extends vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kr extends vr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Sr(e){return mr(e)&&"AuthRetryableFetchError"===e.name}class Nr extends vr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Er extends vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pr=" \t\n\r=".split(""),Ar=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pr.length;t+=1)e[Pr[t].charCodeAt(0)]=-2;for(let t=0;t<Or.length;t+=1)e[Or[t].charCodeAt(0)]=t;return e})();function Tr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}}function Cr(e,t,n){const r=Ar[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Mr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Cr(e.charCodeAt(s),a,i);return t.join("")}function Dr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Ir(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Dr(r,t)}}function Rr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Cr(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Lr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Tr(e,n,r)),Tr(null,n,r),t.join("")}const zr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Fr={tested:!1,writable:!1},qr=()=>{if(!zr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(dH){return!1}if(Fr.tested)return Fr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fr.tested=!0,Fr.writable=!0}catch(dH){Fr.tested=!0,Fr.writable=!1}return Fr.writable};const Br=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Ur=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Hr=async(e,t)=>{await e.removeItem(t)};class Wr{constructor(){this.promise=new Wr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Kr(e){const t=e.split(".");if(3!==t.length)throw new Er("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fr.test(t[n]))throw new Er("JWT not in base64url format");return{header:JSON.parse(Mr(t[0])),payload:JSON.parse(Mr(t[1])),signature:Rr(t[2]),raw:{header:t[0],payload:t[1]}}}function Gr(e){return("0"+e.toString(16)).substr(-2)}async function Qr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Gr).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Ur(e,"".concat(t,"-code-verifier"),a);const i=await Qr(r);return[i,r===i?"plain":"s256"]}Wr.promiseConstructor=Promise;const $r=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Xr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jr(e){if(!Xr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function ea(e){return JSON.parse(JSON.stringify(e))}var ta=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const na=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ra=[502,503,504];async function aa(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new kr(na(e),0);if(ra.includes(e.status))throw new kr(na(e),e.status);let r,a;try{r=await e.json()}catch(dH){throw new yr(na(dH),dH)}const i=function(e){const t=e.headers.get(dr);if(!t)return null;if(!t.match($r))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(dH){return null}}(e);if(i&&i.getTime()>=hr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Nr(na(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new xr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Nr(na(r),e.status,r.weak_password.reasons);throw new gr(na(r),e.status||500,a)}async function ia(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[dr]||(i[dr]=hr.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const s=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,a,i){const s=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let o;try{o=await e(n,Object.assign({},s))}catch(dH){throw console.error(dH),new kr(na(dH),0)}o.ok||await aa(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(dH){await aa(dH)}}(e,t,n+o,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function sa(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function oa(e){const t=sa(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function la(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ca(e){return{data:e,error:null}}function ua(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,s=ta(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function da(e){return e}const ha=["global","local","others"];var fa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class pa{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Br(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha[0];if(ha.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(ha.join(", ")));try{return await ia(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ia(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:la})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=fa(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await ia(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ua,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(mr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ia(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:la})}catch(t){if(mr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ia(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:da});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(mr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Jr(e);try{return await ia(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:la})}catch(t){if(mr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Jr(e);try{return await ia(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:la})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Jr(e);try{return await ia(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:la})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Jr(e.userId);try{const{data:t,error:n}=await ia(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(mr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Jr(e.userId),Jr(e.id);try{return{data:await ia(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}}}function ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ga=!!(globalThis&&qr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ya extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class va extends ya{}async function xa(e,t,n){ga&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ga&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw ga&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new va('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(ga)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(dH){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",dH)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ga&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ga&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function ba(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function wa(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(dH){"undefined"!==typeof self&&(self.globalThis=self)}}();const ja={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ur,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _a(e,t,n){return await n()}const ka={};class Sa{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sa.nextInstanceID,Sa.nextInstanceID+=1,this.instanceID>0&&zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ja),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new pa({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Br(r.fetch),this.lock=r.lock||_a,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:zr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=xa:this.lock=_a,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:qr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ma(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ma(this.memoryStorage)),zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(dH){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",dH)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=ka[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=ka[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(or,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(dH){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),zr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return mr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return mr(t)?{error:t}:{error:new yr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await ia(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:sa}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(mr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Yr(this.storage,this.storageKey)),a=await ia(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:sa})}else{if(!("phone"in e))throw new wr("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await ia(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:sa})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(mr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oa})}else{if(!("phone"in e))throw new wr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oa})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new br}}catch(t){if(mr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,i,s,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(zr())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const y=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=ba(v[0]);let b=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!b){b=function(e){return parseInt(e,16)}(await g.request({method:"eth_chainId"}))}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(s));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=ba(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let y="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(s?"\nNonce: ".concat(s):"","\nIssued At: ").concat(i.toISOString());if(a&&(y+="\nExpiration Time: ".concat(a.toISOString())),o&&(y+="\nNot Before: ".concat(o.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(g,"\n").concat(y)}({domain:y.host,address:x,statement:p,uri:y.href,version:"1",chainId:b,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(i=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==i?i:new Date,expirationTime:null===(s=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[wa(h),x]})}try{const{data:t,error:n}=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:sa});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new br}}catch(p){if(mr(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var t,n,r,a,i,s,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(zr())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Lr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:sa});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new br}}catch(m){if(mr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:sa});if(await Hr(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new br}}catch(a){if(mr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,s=await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:sa}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new br}}catch(t){if(mr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await Yr(this.storage,this.storageKey));const{error:o}=await ia(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await ia(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new wr("You must provide either an email or phone number.")}catch(s){if(mr(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await ia(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:sa});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(mr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await Yr(this.storage,this.storageKey)),await ia(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:ca})}catch(a){if(mr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new xr;const{error:r}=await ia(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(mr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await ia(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:s}=await ia(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new wr("You must provide either an email or phone number and a type")}catch(t){if(mr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(dH){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(dH){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<cr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Vr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Zr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await ia(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:la}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ia(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:la}):{data:{user:null},error:new xr}})}catch(t){if(mr(t))return function(e){return mr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Hr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new xr;const i=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await Yr(this.storage,this.storageKey));const{data:l,error:c}=await ia(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:la});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=Kr(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(mr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new xr;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(mr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!zr())throw new jr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new _r("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new jr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _r("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new jr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=lr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(mr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return mr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Hr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Yr(this.storage,this.storageKey,!0));try{return await ia(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(mr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await ia(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return zr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(mr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await ia(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(mr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await ia(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:sa})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Sr(t)&&Date.now()+n-a<lr},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(dH){if(!r(a,dH))return void t(dH)}})()}))}catch(a){if(this._debug(t,"error",a),mr(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),zr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Vr(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Vr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Ur(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Zr()}else if(a&&!a.user&&!a.user){const e=await Vr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Hr(this.storage,this.storageKey+"-user"),await Ur(this.storage,this.storageKey,a)):a.user=Zr()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<cr;if(this._debug(n,"session has".concat(i?"":" not"," expired with margin of ").concat(cr,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Sr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Wr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new xr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),mr(a)){const e={session:null,error:a};return Sr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(dH){r.push(dH)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Ur(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=ea(e);await Ur(this.storage,this.storageKey,r)}else{const e=ea(t);await Ur(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(dH){console.error("removing visibilitychange callback failed",dH)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/lr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(lr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(dH){console.error("Auto refresh tick failed with error. This is likely a transient error.",dH)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(dH){if(!(dH.isAcquireTimeout||dH instanceof ya))throw dH;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Yr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await ia(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(mr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await ia(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(mr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await ia(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(t){if(mr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await ia(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(mr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Kr(r.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await ia(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:s,payload:o}}=Kr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return Ir(e,e=>t.push(e)),new Uint8Array(t)}("".concat(s,".").concat(o))))throw new Er("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}}}Sa.nextInstanceID=0;const Na=Sa;class Ea extends Na{constructor(e){super(e)}}var Oa=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(dH){i(dH)}}function o(e){try{l(r.throw(e))}catch(dH){i(dH)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Pa{constructor(e,t,n){var r,a,i;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o="sb-".concat(s.hostname.split(".")[0],"-auth-token"),l=function(e,t){var n,r;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>sr(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Zn,realtime:tr,auth:Object.assign(Object.assign({},er),{storageKey:o}),global:Jn});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=ir(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Rt(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new $n(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Dt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Oa(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ea({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,userStorage:o,flowType:c,lock:u,debug:d,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new jn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Aa="https://qhvxijsrtzpirjbuoicy.supabase.co",Ta="sb_publishable_73u_1S7JUs4FTEufLy2b0Q_yXIRwrHB";const Ca=((e,t,n)=>new Pa(e,t,n))(Aa,Ta);var Ma=n(9825),Da=null;function Ia(e,t){if("number"!==typeof(e=e||Ga))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(Ha(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch(t){}try{return Ma.randomBytes(e)}catch(n){}if(!Da)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Da(e)}(Ka),Ka)),n.join("")}function Ra(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=Ga;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){qa(function(){try{t(null,Ia(e))}catch(n){t(n)}})}if(!n)return new Promise(function(e,t){r(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function La(e,t){if("undefined"===typeof t&&(t=Ga),"number"===typeof t&&(t=Ia(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return ri(e,t)}function za(e,t,n,r){function a(n){"string"===typeof e&&"number"===typeof t?Ra(t,function(t,a){ri(e,a,n,r)}):"string"===typeof e&&"string"===typeof t?ri(e,t,n,r):qa(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){a(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);a(n)}function Fa(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var qa="undefined"!==typeof process&&process&&"function"===typeof process.nextTick?"function"===typeof setImmediate?setImmediate:process.nextTick:setTimeout;function Ba(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var Ua="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Va=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ha(e,t){var n,r,a=0,i=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;a<t;){if(n=255&e[a++],i.push(Ua[n>>2&63]),n=(3&n)<<4,a>=t){i.push(Ua[63&n]);break}if(n|=(r=255&e[a++])>>4&15,i.push(Ua[63&n]),n=(15&r)<<2,a>=t){i.push(Ua[63&n]);break}n|=(r=255&e[a++])>>6&3,i.push(Ua[63&n]),i.push(Ua[63&r])}return i.join("")}function Wa(e,t){var n,r,a,i,s,o=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(n=(s=e.charCodeAt(o++))<Va.length?Va[s]:-1,r=(s=e.charCodeAt(o++))<Va.length?Va[s]:-1,-1!=n&&-1!=r)&&(i=n<<2>>>0,i|=(48&r)>>4,u.push(String.fromCharCode(i)),!(++c>=t||o>=l))&&-1!=(a=(s=e.charCodeAt(o++))<Va.length?Va[s]:-1)&&(i=(15&r)<<4>>>0,i|=(60&a)>>2,u.push(String.fromCharCode(i)),!(++c>=t||o>=l));)i=(3&a)<<6>>>0,i|=(s=e.charCodeAt(o++))<Va.length?Va[s]:-1,u.push(String.fromCharCode(i)),++c;var d=[];for(o=0;o<c;o++)d.push(u[o].charCodeAt(0));return d}var Ka=16,Ga=10,Qa=16,Ya=100,$a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Xa=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Ja=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Za(e,t,n,r){var a,i=e[t],s=e[t+1];return a=r[(i^=n[0])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[1])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[2])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[3])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[4])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[5])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[6])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[7])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[8])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[9])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[10])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[11])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[12])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[13])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],a=r[(i^=(a+=r[768|255&s])^n[14])>>>24],a+=r[256|i>>16&255],a^=r[512|i>>8&255],a=r[(s^=(a+=r[768|255&i])^n[15])>>>24],a+=r[256|s>>16&255],a^=r[512|s>>8&255],i^=(a+=r[768|255&s])^n[16],e[t]=s^n[Qa+1],e[t+1]=i,e}function ei(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function ti(e,t,n){for(var r,a=0,i=[0,0],s=t.length,o=n.length,l=0;l<s;l++)a=(r=ei(e,a)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)i=Za(i,0,t,n),t[l]=i[0],t[l+1]=i[1];for(l=0;l<o;l+=2)i=Za(i,0,t,n),n[l]=i[0],n[l+1]=i[1]}function ni(e,t,n,r,a){var i,s=Ja.slice(),o=s.length;if(n<4||n>31){if(i=Error("Illegal number of rounds (4-31): "+n),r)return void qa(r.bind(this,i));throw i}if(t.length!==Ka){if(i=Error("Illegal salt length: "+t.length+" != "+Ka),r)return void qa(r.bind(this,i));throw i}n=1<<n>>>0;var l,c,u,d=0;function h(){if(a&&a(d/n),!(d<n)){for(d=0;d<64;d++)for(u=0;u<o>>1;u++)Za(s,u<<1,l,c);var i=[];for(d=0;d<o;d++)i.push((s[d]>>24&255)>>>0),i.push((s[d]>>16&255)>>>0),i.push((s[d]>>8&255)>>>0),i.push((255&s[d])>>>0);return r?void r(null,i):i}for(var f=Date.now();d<n&&(d+=1,ti(e,l,c),ti(t,l,c),!(Date.now()-f>Ya)););r&&qa(h)}if("function"===typeof Int32Array?(l=new Int32Array($a),c=new Int32Array(Xa)):(l=$a.slice(),c=Xa.slice()),function(e,t,n,r){for(var a,i=0,s=[0,0],o=n.length,l=r.length,c=0;c<o;c++)i=(a=ei(t,i)).offp,n[c]=n[c]^a.key;for(i=0,c=0;c<o;c+=2)i=(a=ei(e,i)).offp,s[0]^=a.key,i=(a=ei(e,i)).offp,s[1]^=a.key,s=Za(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)i=(a=ei(e,i)).offp,s[0]^=a.key,i=(a=ei(e,i)).offp,s[1]^=a.key,s=Za(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var f;;)if("undefined"!==typeof(f=h()))return f||[]}function ri(e,t,n,r){var a,i,s;if("string"!==typeof e||"string"!==typeof t){if(a=Error("Invalid string / salt: Not a string"),n)return void qa(n.bind(this,a));throw a}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(a=Error("Invalid salt version: "+t.substring(0,2)),n)return void qa(n.bind(this,a));throw a}if("$"===t.charAt(2))i=String.fromCharCode(0),s=3;else{if("a"!==(i=t.charAt(2))&&"b"!==i&&"y"!==i||"$"!==t.charAt(3)){if(a=Error("Invalid salt revision: "+t.substring(2,4)),n)return void qa(n.bind(this,a));throw a}s=4}if(t.charAt(s+2)>"$"){if(a=Error("Missing salt rounds"),n)return void qa(n.bind(this,a));throw a}var o=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,a=new Array(Ba(e)),i=0,s=e.length;i<s;++i)(t=e.charCodeAt(i))<128?a[r++]=t:t<2048?(a[r++]=t>>6|192,a[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(i+1)))?(t=65536+((1023&t)<<10)+(1023&n),++i,a[r++]=t>>18|240,a[r++]=t>>12&63|128,a[r++]=t>>6&63|128,a[r++]=63&t|128):(a[r++]=t>>12|224,a[r++]=t>>6&63|128,a[r++]=63&t|128);return a}(e+=i>="a"?"\0":""),u=Wa(l,Ka);function d(e){var t=[];return t.push("$2"),i>="a"&&t.push(i),t.push("$"),o<10&&t.push("0"),t.push(o.toString()),t.push("$"),t.push(Ha(u,u.length)),t.push(Ha(e,4*Ja.length-1)),t.join("")}if("undefined"==typeof n)return d(ni(c,u,o));ni(c,u,o,function(e,t){e?n(e,null):n(null,d(t))},r)}const ai={setRandomFallback:function(e){Da=e},genSaltSync:Ia,genSalt:Ra,hashSync:La,hash:za,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&Fa(La(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function a(n){"string"===typeof e&&"string"===typeof t?60===t.length?za(e,t.substring(0,29),function(e,r){e?n(e):n(null,Fa(r,t))},r):qa(n.bind(this,null,!1)):qa(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){a(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);a(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return Ba(e)>72},encodeBase64:function(e,t){return Ha(e,t)},decodeBase64:function(e,t){return Wa(e,t)}},ii=async e=>{try{const{data:t,error:n}=await Ca.from("classes").select("\n        *,\n        institution:institutions(*),\n        teacher:teachers(*)\n      ").eq("class_code",e.toUpperCase()).eq("active",!0).single();return n?(console.error("[verifyClassCode] Error:",n),{success:!1,error:"Invalid class code"}):t?{success:!0,class:t}:{success:!1,error:"Class code not found"}}catch(t){return console.error("[verifyClassCode] Exception:",t),{success:!1,error:"Failed to verify class code"}}},si=async(e,t)=>{try{const{data:n,error:r}=await Ca.from("students").select("id").eq("institution_id",e).eq("username",t.toLowerCase()).maybeSingle();return r&&"PGRST116"!==r.code?(console.error("[checkUsernameAvailability] Error:",r),{available:!1,error:"Failed to check username"}):{available:!n,taken:!!n}}catch(n){return console.error("[checkUsernameAvailability] Exception:",n),{available:!1,error:"Failed to check username"}}},oi=(e,t)=>{const n={user_id:e.id,user_type:"student",username:e.username,full_name:e.full_name,institution_id:e.institution_id,class_id:t.id,class_code:t.class_code,class_name:t.class_name,session:e.session,created_at:(new Date).toISOString(),expires_at:new Date(Date.now()+2592e6).toISOString()};return localStorage.setItem("fluence_session",JSON.stringify(n)),n},li=async(e,t,n,r)=>{try{await Ca.from("login_attempts").insert({identifier:e,class_code:t,success:n,failure_reason:r})}catch(a){console.error("[logLoginAttempt] Failed to log:",a)}},ci=e=>{var t;const n={user_id:e.id,user_type:"teacher",email:e.email,full_name:e.full_name,role:e.role,institution_id:e.institution_id,institution_name:null===(t=e.institution)||void 0===t?void 0:t.name,created_at:(new Date).toISOString(),expires_at:new Date(Date.now()+2592e6).toISOString()};return localStorage.setItem("fluence_session",JSON.stringify(n)),n},ui=()=>{try{const e=localStorage.getItem("fluence_session");if(!e)return null;const t=JSON.parse(e);return new Date(t.expires_at)<new Date?(localStorage.removeItem("fluence_session"),null):t}catch(e){return console.error("[getCurrentSession] Error:",e),null}},di=()=>{localStorage.removeItem("fluence_session"),window.location.href="/"},hi=()=>{const e=ui();return"student"===(null===e||void 0===e?void 0:e.user_type)},fi=()=>{const e=ui();return"teacher"===(null===e||void 0===e?void 0:e.user_type)},pi=()=>{const e=ui();return"teacher"===(null===e||void 0===e?void 0:e.user_type)&&"aman@fluence.ac"===(null===e||void 0===e?void 0:e.email)},mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=(()=>new Set(mi))(),yi=e=>180*e/Math.PI,vi=e=>{const t=yi(Math.atan2(e[1],e[0]));return bi(t)},xi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vi,rotateZ:vi,skewX:e=>yi(Math.atan(e[1])),skewY:e=>yi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bi=e=>((e%=360)<0&&(e+=360),e),wi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ji=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_i={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wi,scaleY:ji,scale:e=>(wi(e)+ji(e))/2,rotateX:e=>bi(yi(Math.atan2(e[6],e[5]))),rotateY:e=>bi(yi(Math.atan2(-e[2],e[0]))),rotateZ:vi,rotate:vi,skewX:e=>yi(Math.atan(e[4])),skewY:e=>yi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ki(e){return e.includes("scale")?1:0}function Si(e,t){if(!e||"none"===e)return ki(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,a;if(n)r=_i,a=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=xi,a=t}if(!a)return ki(t);const i=r[t],s=a[1].split(",").map(Ni);return"function"===typeof i?i(s):s[i]}function Ni(e){return parseFloat(e.trim())}const Ei=e=>t=>"string"===typeof t&&t.startsWith(e),Oi=Ei("--"),Pi=Ei("var(--"),Ai=e=>!!Pi(e)&&Ti.test(e.split("/*")[0].trim()),Ti=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Ci(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}const Mi=(e,t,n)=>e+(t-e)*n;function Di(e){return void 0===e||1===e}function Ii(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Di(t)||!Di(n)||!Di(r)}function Ri(e){return Ii(e)||Li(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Li(e){return zi(e.x)||zi(e.y)}function zi(e){return e&&"0%"!==e}function Fi(e,t,n){return n+t*(e-n)}function qi(e,t,n,r,a){return void 0!==a&&(e=Fi(e,a,r)),Fi(e,n,r)+t}function Bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=qi(e.min,t,n,r,a),e.max=qi(e.max,t,n,r,a)}function Ui(e,t){let{x:n,y:r}=t;Bi(e.x,n.translate,n.scale,n.originPoint),Bi(e.y,r.translate,r.scale,r.originPoint)}const Vi=.999999999999,Hi=1.0000000000001;function Wi(e,t){e.min=e.min+t,e.max=e.max+t}function Ki(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Bi(e,t,n,Mi(e.min,e.max,a),r)}function Gi(e,t){Ki(e.x,t.x,t.scaleX,t.scale,t.originX),Ki(e.y,t.y,t.scaleY,t.scale,t.originY)}function Qi(e,t){return Ci(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Yi=new Set(["width","height","top","left","right","bottom",...mi]),$i=(e,t,n)=>n>t?t:n<e?e:n,Xi={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ji=u(u({},Xi),{},{transform:e=>$i(0,1,e)}),Zi=u(u({},Xi),{},{default:1}),es=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ts=es("deg"),ns=es("%"),rs=es("px"),as=es("vh"),is=es("vw"),ss=(()=>u(u({},ns),{},{parse:e=>ns.parse(e)/100,transform:e=>ns.transform(100*e)}))(),os=e=>t=>t.test(e),ls=[Xi,rs,ns,ts,is,as,{test:e=>"auto"===e,parse:e=>e}],cs=e=>ls.find(os(e));const us=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),ds=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,a]=function(e){const t=ds.exec(e);if(!t)return[,];const[,n,r,a]=t;return["--".concat(null!==n&&void 0!==n?n:r),a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return us(e)?parseFloat(e):e}return Ai(a)?hs(a,t,n+1):a}const fs=e=>e===Xi||e===rs,ps=new Set(["x","y","z"]),ms=mi.filter(e=>!ps.has(e));const gs={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Si(n,"x")},y:(e,t)=>{let{transform:n}=t;return Si(n,"y")}};gs.translateX=gs.x,gs.translateY=gs.y;const ys=e=>e,vs={},xs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],bs={value:null,addProjectionMetrics:null};function ws(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=xs.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{o=e,a?i=!0:(a=!0,[n,r]=[r,n],n.forEach(c),t&&bs.value&&bs.value.frameloop[t].push(l),l=0,n.clear(),a=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=s,m=()=>{const i=vs.useManualTiming?a.timestamp:performance.now();n=!1,vs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),f.process(a),p.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))},g=xs.reduce((t,i)=>{const o=s[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(m)),o.schedule(t,i,s)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<xs.length;t++)s[xs[t]].cancel(e)},state:a,steps:s}}const{schedule:js,cancel:_s,state:ks,steps:Ss}=ws("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:ys,!0),Ns=new Set;let Es=!1,Os=!1,Ps=!1;function As(){if(Os){const e=Array.from(Ns).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return ms.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,a]=t;null===(n=e.getValue(r))||void 0===n||n.set(a)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Os=!1,Es=!1,Ns.forEach(e=>e.complete(Ps)),Ns.clear()}function Ts(){Ns.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Os=!0)})}class Cs{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ns.add(this),Es||(Es=!0,js.read(Ts),js.resolveKeyframes(As))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const a=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ns.delete(this)}cancel(){"scheduled"===this.state&&(Ns.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Ms=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Ds(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Ms(e))}const Is=e=>Math.round(1e5*e)/1e5,Rs=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Ls=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,zs=(e,t)=>n=>Boolean("string"===typeof n&&Ls.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fs=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[a,i,s,o]=r.match(Rs);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},qs=u(u({},Xi),{},{transform:e=>Math.round((e=>$i(0,255,e))(e))}),Bs={test:zs("rgb","red"),parse:Fs("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+qs.transform(t)+", "+qs.transform(n)+", "+qs.transform(r)+", "+Is(Ji.transform(a))+")"}};const Us={test:zs("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:Bs.transform},Vs={test:zs("hsl","hue"),parse:Fs("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+ns.transform(Is(n))+", "+ns.transform(Is(r))+", "+Is(Ji.transform(a))+")"}},Hs={test:e=>Bs.test(e)||Us.test(e)||Vs.test(e),parse:e=>Bs.test(e)?Bs.parse(e):Vs.test(e)?Vs.parse(e):Us.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Bs.transform(e):Vs.transform(e),getAnimatableNone:e=>{const t=Hs.parse(e);return t.alpha=0,Hs.transform(t)}},Ws=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Ks="number",Gs="color",Qs=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Ys(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(Qs,e=>(Hs.test(e)?(r.color.push(i),a.push(Gs),n.push(Hs.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(Ks),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:a}}function $s(e){return Ys(e).values}function Xs(e){const{split:t,types:n}=Ys(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===Ks?Is(e[i]):t===Gs?Hs.transform(e[i]):e[i]}return a}}const Js=e=>"number"===typeof e?0:Hs.test(e)?Hs.getAnimatableNone(e):e;const Zs={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Rs))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ws))||void 0===n?void 0:n.length)||0)>0},parse:$s,createTransformer:Xs,getAnimatableNone:function(e){const t=$s(e);return Xs(e)(t.map(Js))}},eo=new Set(["brightness","contrast","saturate","opacity"]);function to(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Rs)||[];if(!r)return e;const a=n.replace(r,"");let i=eo.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const no=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ro=u(u({},Zs),{},{getAnimatableNone:e=>{const t=e.match(no);return t?t.map(to).join(" "):e}}),ao=u(u({},Xi),{},{transform:Math.round}),io=u(u({borderWidth:rs,borderTopWidth:rs,borderRightWidth:rs,borderBottomWidth:rs,borderLeftWidth:rs,borderRadius:rs,radius:rs,borderTopLeftRadius:rs,borderTopRightRadius:rs,borderBottomRightRadius:rs,borderBottomLeftRadius:rs,width:rs,maxWidth:rs,height:rs,maxHeight:rs,top:rs,right:rs,bottom:rs,left:rs,padding:rs,paddingTop:rs,paddingRight:rs,paddingBottom:rs,paddingLeft:rs,margin:rs,marginTop:rs,marginRight:rs,marginBottom:rs,marginLeft:rs,backgroundPositionX:rs,backgroundPositionY:rs},{rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Zi,scaleX:Zi,scaleY:Zi,scaleZ:Zi,skew:ts,skewX:ts,skewY:ts,distance:rs,translateX:rs,translateY:rs,translateZ:rs,x:rs,y:rs,z:rs,perspective:rs,transformPerspective:rs,opacity:Ji,originX:ss,originY:ss,originZ:rs}),{},{zIndex:ao,fillOpacity:Ji,strokeOpacity:Ji,numOctaves:ao}),so=u(u({},io),{},{color:Hs,backgroundColor:Hs,outlineColor:Hs,fill:Hs,stroke:Hs,borderColor:Hs,borderTopColor:Hs,borderRightColor:Hs,borderBottomColor:Hs,borderLeftColor:Hs,filter:ro,WebkitFilter:ro}),oo=e=>so[e];function lo(e,t){let n=oo(e);return n!==ro&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const co=new Set(["auto","none","0"]);class uo extends Cs{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Ai(n))){const r=hs(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Yi.has(n)||2!==e.length)return;const[r,a]=e,i=cs(r),s=cs(a);if(i!==s)if(fs(i)&&fs(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else gs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Ds(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"===typeof t&&!co.has(t)&&Ys(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=lo(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=gs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const ho=e=>Boolean(e&&e.getVelocity);let fo;function po(){fo=void 0}const mo={now:()=>(void 0===fo&&mo.set(ks.isProcessing||vs.useManualTiming?ks.timestamp:performance.now()),fo),set:e=>{fo=e,queueMicrotask(po)}};function go(e,t){-1===e.indexOf(t)&&e.push(t)}function yo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vo{constructor(){this.subscriptions=[]}add(e){return go(this.subscriptions,e),()=>yo(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xo(e,t){return t?e*(1e3/t):0}const bo={current:void 0};class wo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=mo.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=mo.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new vo);const n=this.events[e].add(t);return"change"===e?()=>{n(),js.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return bo.current&&bo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=mo.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return xo(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(e,t){return new wo(e,t)}const _o=[...ls,Hs,Zs],{schedule:ko,cancel:So}=ws(queueMicrotask,!1),No={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eo={};for(const n in No)Eo[n]={isEnabled:e=>No[n].some(t=>!!e[t])};const Oo=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Po="undefined"!==typeof window,Ao={current:null},To={current:!1};const Co=new WeakMap;function Mo(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Do(e){return"string"===typeof e||Array.isArray(e)}const Io=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ro=["initial",...Io];function Lo(e){return Mo(e.animate)||Ro.some(t=>Do(e[t]))}function zo(e){return Boolean(Lo(e)||e.variants)}function Fo(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function qo(e,t,n,r){if("function"===typeof t){const[a,i]=Fo(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,i]=Fo(r);t=t(void 0!==n?n:e.custom,a,i)}return t}const Bo=["willChange"],Uo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vo{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=mo.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,js.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Lo(n),this.isVariantNode=zo(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=h,p=i(h,Bo);for(const i in p){const e=p[i];void 0!==c[i]&&ho(e)&&e.set(c[i])}}mount(e){var t;this.current=e,Co.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),To.current||function(){if(To.current=!0,Po)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ao.current=e.matches;e.addEventListener("change",t),t()}else Ao.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ao.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=gi.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&js.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Eo){const t=Eo[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Uo.length;n++){const t=Uo[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(ho(a))e.addValue(r,a);else if(ho(i))e.addValue(r,jo(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,jo(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=jo(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return void 0!==r&&null!==r&&("string"===typeof r&&(us(r)||Ms(r))?r=parseFloat(r):(a=r,!_o.find(os(a))&&Zs.test(t)&&(r=lo(e,t))),this.setBaseTarget(e,ho(r)?r.get():r)),ho(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const a=qo(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);a&&(n=a[e])}if(t&&void 0!==n)return n;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||ho(a)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new vo),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){ko.render(this.render)}}class Ho extends Vo{constructor(){super(...arguments),this.KeyframeResolver=uo}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ho(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const Wo=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ko={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Go=mi.length;function Qo(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(gi.has(l))s=!0;else if(Oi(l))a[l]=e;else{const t=Wo(e,io[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<Go;i++){const s=mi[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Wo(o,io[s]);l||(a=!1,r+="".concat(Ko[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Yo(e,t,n,r){let{style:a,vars:i}=t;const s=e.style;let o;for(o in a)s[o]=a[o];for(o in null===r||void 0===r||r.applyProjectionStyles(s,n),i)s.setProperty(o,i[o])}const $o={};function Xo(e,t){let{layout:n,layoutId:r}=t;return gi.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!$o[e]||"opacity"===e)}function Jo(e,t,n){const{style:r}=e,a={};for(const s in r){var i;(ho(r[s])||t.style&&ho(t.style[s])||Xo(s,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(s))||void 0===i?void 0:i.liveStyle))&&(a[s]=r[s])}return a}class Zo extends Ho{constructor(){super(...arguments),this.type="html",this.renderInstance=Yo}readValueFromInstance(e,t){var n,r;if(gi.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?ki(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Si(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),a=(Oi(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof a?a.trim():a}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Qi(e,n)}build(e,t,n){Qo(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Jo(e,t,n)}}const el=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tl={offset:"stroke-dashoffset",array:"stroke-dasharray"},nl={offset:"strokeDashoffset",array:"strokeDasharray"};const rl=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function al(e,t,n,r,a){let{attrX:s,attrY:o,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(Qo(e,i(t,rl),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;var p,m;(h.transform&&(f.transform=h.transform,delete h.transform),f.transform||h.transformOrigin)&&(f.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===a||void 0===a?void 0:a.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);void 0!==s&&(h.x=s),void 0!==o&&(h.y=o),void 0!==l&&(h.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=a?tl:nl;e[i.offset]=rs.transform(-r);const s=rs.transform(t),o=rs.transform(n);e[i.array]="".concat(s," ").concat(o)}(h,c,u,d,!1)}const il=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sl=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ol(e,t,n){const r=Jo(e,t,n);for(const a in e)if(ho(e[a])||ho(t[a])){r[-1!==mi.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}class ll extends Ho{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oo}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(gi.has(t)){const e=oo(t);return e&&e.default||0}return t=il.has(t)?t:el(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ol(e,t,n)}build(e,t,n){al(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Yo(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(il.has(a)?a:el(a),t.attrs[a])}(e,t,0,r)}mount(e){this.isSVGTag=sl(e.tagName),super.mount(e)}}const cl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ul(e){return"string"===typeof e&&!e.includes("-")&&!!(cl.indexOf(e)>-1||/[A-Z]/.test(e))}const dl=(e,n)=>ul(e)?new ll(n):new Zo(n,{allowProjection:e!==t.Fragment});var hl=n(579);const fl=(0,t.createContext)({}),pl=(0,t.createContext)({strict:!1}),ml=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gl=(0,t.createContext)({});function yl(e){const{initial:n,animate:r}=function(e,t){if(Lo(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Do(t)?t:void 0,animate:Do(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(gl));return(0,t.useMemo)(()=>({initial:n,animate:r}),[vl(n),vl(r)])}function vl(e){return Array.isArray(e)?e.join(" "):e}const xl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bl(e,t,n){for(const r in t)ho(t[r])||Xo(r,n)||(e[r]=t[r])}function wl(e,n){const r={};return bl(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Qo(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function jl(e,t){const n={},r=wl(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const _l=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function kl(e,n,r,a){const i=(0,t.useMemo)(()=>{const t=_l();return al(t,n,sl(a),e.transformTemplate,e.style),u(u({},t.attrs),{},{style:u({},t.style)})},[n]);if(e.style){const t={};bl(t,e.style,e),i.style=u(u({},t),i.style)}return i}const Sl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sl.has(e)}let El=e=>!Nl(e);try{"function"===typeof(Ol=require("@emotion/is-prop-valid").default)&&(El=e=>e.startsWith("on")?!Nl(e):Ol(e))}catch(hH){}var Ol;function Pl(e,n,r,a,i){let{latestValues:s}=a,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(ul(e)?kl:jl)(n,s,i,e),c=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(El(a)||!0===n&&Nl(a)||!t&&!Nl(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"===typeof e,o),d=e!==t.Fragment?u(u(u({},c),l),{},{ref:r}):{},{children:h}=n,f=(0,t.useMemo)(()=>ho(h)?h.get():h,[h]);return(0,t.createElement)(e,u(u({},d),{},{children:f}))}const Al=(0,t.createContext)(null);function Tl(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function Cl(e){return ho(e)?e.get():e}const Ml=["transitionEnd","transition"];function Dl(e,t,n,r){const a={},s=r(e,{});for(const i in s)a[i]=Cl(s[i]);let{initial:o,animate:l}=e;const c=Lo(e),u=zo(e);t&&u&&!c&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===o;const h=d?l:o;if(h&&"boolean"!==typeof h&&!Mo(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=qo(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=i(r,Ml);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const Il=e=>(n,r)=>{const a=(0,t.useContext)(gl),i=(0,t.useContext)(Al),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:i}=e;return{latestValues:Dl(t,n,r,a),renderState:i()}}(e,n,a,i);return r?s():Tl(s)},Rl=Il({scrapeMotionValuesFromProps:Jo,createRenderState:xl}),Ll=Il({scrapeMotionValuesFromProps:ol,createRenderState:_l});const zl=Symbol.for("motionComponentSymbol");function Fl(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ql(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Fl(r)&&(r.current=t))},[n])}const Bl="data-"+el("framerAppearId"),Ul=(0,t.createContext)({}),Vl=Po?t.useLayoutEffect:t.useEffect;function Hl(e,n,r,a,i){var s,o,l,c;const{visualElement:u}=(0,t.useContext)(gl),d=(0,t.useContext)(pl),h=(0,t.useContext)(Al),f=(0,t.useContext)(ml).reducedMotion,p=(0,t.useRef)(null);a=a||d.renderer,!p.current&&a&&(p.current=a(e,{visualState:n,parent:u,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));const m=p.current,g=(0,t.useContext)(Ul);!m||m.projection||!i||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Wl(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&Fl(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,r,i,g);const y=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{m&&y.current&&m.update(r,h)});const v=r[Bl],x=(0,t.useRef)(Boolean(v)&&!(null!==(s=(o=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(o,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return Vl(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),(0,t.useEffect)(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),x.current=!1),m.enteringChildren=void 0)}),m}function Wl(e){if(e)return!1!==e.options.allowProjection?e.projection:Wl(e.parent)}function Kl(e){var n,r;let{forwardMotionProps:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;i&&function(e){for(const t in e)Eo[t]=u(u({},Eo[t]),e[t])}(i);const o=ul(e)?Ll:Rl;function l(n,r){let i;const l=u(u(u({},(0,t.useContext)(ml)),n),{},{layoutId:Gl(n)}),{isStatic:c}=l,d=yl(n),h=o(n,c);if(!c&&Po){!function(){(0,t.useContext)(pl).strict;0}();const n=function(e){const{drag:t,layout:n}=Eo;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);i=n.MeasureLayout,d.visualElement=Hl(e,h,l,s,n.ProjectionNode)}return(0,hl.jsxs)(gl.Provider,{value:d,children:[i&&d.visualElement?(0,hl.jsx)(i,u({visualElement:d.visualElement},l)):null,Pl(e,n,ql(h,d.visualElement,r),h,c,a)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const c=(0,t.forwardRef)(l);return c[zl]=e,c}function Gl(e){let{layoutId:n}=e;const r=(0,t.useContext)(fl).id;return r&&void 0!==n?r+"-"+n:n}function Ql(e,t){if("undefined"===typeof Proxy)return Kl;const n=new Map,r=(n,r)=>Kl(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(a,i)=>"create"===i?r:(n.has(i)||n.set(i,Kl(i,void 0,e,t)),n.get(i))})}function Yl(e,t,n){const r=e.getProps();return qo(r,t,void 0!==n?n:r.custom,e)}function $l(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Xl=e=>Array.isArray(e),Jl=["transitionEnd","transition"];function Zl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jo(n))}function ec(e){return Xl(e)?e[e.length-1]||0:e}function tc(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(ho(e)&&e.add)}(n))return n.add(t);if(!n&&vs.WillChange){const n=new vs.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function nc(e){return e.props[Bl]}function rc(e){e.duration=0,e.type="keyframes"}const ac=(e,t)=>n=>t(e(n)),ic=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ac)},sc=e=>1e3*e,oc=e=>e/1e3,lc={layout:0,mainThread:0,waapi:0};function cc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uc(e,t){return n=>n>0?t:e}const dc=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},hc=[Us,Bs,Vs];function fc(e){const t=(n=e,hc.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===Vs&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let i=0,s=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;i=cc(a,e,t+1/3),s=cc(a,e,t),o=cc(a,e,t-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:a}}(r)),r}const pc=(e,t)=>{const n=fc(e),r=fc(t);if(!n||!r)return uc(e,t);const a=u({},n);return e=>(a.red=dc(n.red,r.red,e),a.green=dc(n.green,r.green,e),a.blue=dc(n.blue,r.blue,e),a.alpha=Mi(n.alpha,r.alpha,e),Bs.transform(a))},mc=new Set(["none","hidden"]);function gc(e,t){return n=>Mi(e,t,n)}function yc(e){return"number"===typeof e?gc:"string"===typeof e?Ai(e)?uc:Hs.test(e)?pc:bc:Array.isArray(e)?vc:"object"===typeof e?Hs.test(e)?pc:xc:uc}function vc(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>yc(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function xc(e,t){const n=u(u({},e),t),r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=yc(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const bc=(e,t)=>{const n=Zs.createTransformer(t),r=Ys(e),a=Ys(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?mc.has(e)&&!a.values.length||mc.has(t)&&!r.values.length?function(e,t){return mc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ic(vc(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var a;const s=t.types[i],o=e.indexes[s][r[s]],l=null!==(a=e.values[o])&&void 0!==a?a:0;n[i]=l,r[s]++}return n}(r,a),a.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),uc(e,t))};function wc(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Mi(e,t,n);return yc(e)(e,t)}const jc=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return js.update(t,e)},stop:()=>_s(t),now:()=>ks.isProcessing?ks.timestamp:mo.now()}},_c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(1e4*e(i/(a-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},kc=2e4;function Sc(e){let t=0;let n=e.next(t);for(;!n.done&&t<kc;)t+=50,n=e.next(t);return t>=kc?1/0:t}function Nc(e,t,n){const r=Math.max(t-5,0);return xo(n-e(r),t-r)}const Ec={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oc=.001;function Pc(e){let t,n,{duration:r=Ec.duration,bounce:a=Ec.bounce,velocity:i=Ec.velocity,mass:s=Ec.mass}=e;sc(Ec.maxDuration);let o=1-a;o=$i(Ec.minDamping,Ec.maxDamping,o),r=$i(Ec.minDuration,Ec.maxDuration,oc(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-i,s=Tc(e,o),l=Math.exp(-n);return Oc-a/s*l},n=e=>{const n=e*o*r,a=n*i+i,s=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Tc(Math.pow(e,2),o);return(-t(e)+Oc>0?-1:1)*((a-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let a=1;a<Ac;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=sc(r),isNaN(l))return{stiffness:Ec.stiffness,damping:Ec.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:r}}}const Ac=12;function Tc(e,t){return e*Math.sqrt(1-t*t)}const Cc=["duration","bounce"],Mc=["stiffness","damping","mass"];function Dc(e,t){return t.some(t=>void 0!==e[t])}function Ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ec.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=u({velocity:Ec.velocity,stiffness:Ec.stiffness,damping:Ec.damping,mass:Ec.mass,isResolvedFromDuration:!1},e);if(!Dc(e,Mc)&&Dc(e,Cc))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(a);t=u(u({},t),{},{mass:Ec.mass,stiffness:a,damping:i})}else{const n=Pc(e);t=u(u(u({},t),n),{},{mass:Ec.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-oc(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*d)),y=s-i,v=oc(Math.sqrt(l/d)),x=Math.abs(y)<5;let b;if(r||(r=x?Ec.restSpeed.granular:Ec.restSpeed.default),a||(a=x?Ec.restDelta.granular:Ec.restDelta.default),g<1){const e=Tc(v,g);b=t=>{const n=Math.exp(-g*v*t);return s-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return s-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const w={calculatedDuration:p&&h||null,next:e=>{const t=b(e);if(p)o.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?sc(m):Nc(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Sc(w),kc),t=_c(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function Rc(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/a),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,j;const _=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=Ic({keyframes:[f.value,p(f.value)],velocity:Nc(x,e,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),_(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&b(e),f)}}}Ic.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),r=Math.min(Sc(n),kc);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:oc(r)}}(e,100,Ic);return e.ease=t.ease,e.duration=sc(t.duration),e.type="keyframes",e};const Lc=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function zc(e,t,n,r){if(e===t&&n===r)return ys;const a=t=>function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=Lc(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Lc(a(e),t,r)}const Fc=zc(.42,0,1,1),qc=zc(0,0,.58,1),Bc=zc(.42,0,.58,1),Uc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Vc=e=>t=>1-e(1-t),Hc=zc(.33,1.53,.69,.99),Wc=Vc(Hc),Kc=Uc(Wc),Gc=e=>(e*=2)<1?.5*Wc(e):.5*(2-Math.pow(2,-10*(e-1))),Qc=e=>1-Math.sin(Math.acos(e)),Yc=Vc(Qc),$c=Uc(Qc),Xc=e=>Array.isArray(e)&&"number"===typeof e[0],Jc={linear:ys,easeIn:Fc,easeInOut:Bc,easeOut:qc,circIn:Qc,circInOut:$c,circOut:Yc,backIn:Wc,backInOut:Kc,backOut:Hc,anticipate:Gc},Zc=e=>{if(Xc(e)){e.length;const[t,n,r,a]=e;return zc(t,n,r,a)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Jc[e]):e},eu=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function tu(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||vs.mix||wc,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||ys:t;n=ic(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=eu(e[r],e[r+1],n);return o[r](a)};return n?t=>c($i(e[0],e[i-1],t)):c}function nu(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=eu(0,t,r);e.push(Mi(n,1,a))}}(t,e.length-1),t}function ru(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(Zc):Zc(a),s={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:nu(n),t),l=tu(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||Bc).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const au=e=>null!==e;function iu(e,t,n){let{repeat:r,repeatType:a="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(au),o=i<0||r&&"loop"!==a&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const su={decay:Rc,inertia:Rc,tween:ru,keyframes:ru,spring:Ic};function ou(e){"string"===typeof e.type&&(e.type=su[e.type])}class lu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const cu=e=>e/100;class uu extends lu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==mo.now()&&this.tick(mo.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},lc.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ou(e);const{type:t=ru,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=e;let{keyframes:s}=e;const o=t||ru;o!==ru&&"number"!==typeof s[0]&&(this.mixKeyframes=ic(cu,wc(s[0],s[1])),s=[0,100]);const l=o(u(u({},e),{},{keyframes:s}));"mirror"===a&&(this.mirroredGenerator=o(u(u({},e),{},{keyframes:[...s].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=Sc(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(x=i)),v=$i(0,1,n)*s}const b=y?{done:!1,value:c[0]}:x.next(v);a&&(b.value=a(b.value));let{done:w}=b;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&f!==Rc&&(b.value=iu(c,this.options,m,this.speed)),p&&p(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return oc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oc(e)}get time(){return oc(this.currentTime)}set time(e){var t;e=sc(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=oc(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=jc,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const a=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=a):null!==this.holdTime?this.startTime=a-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:a),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mo.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,lc.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function du(e){let t;return()=>(void 0===t&&(t=e()),t)}const hu=du(()=>void 0!==window.ScrollTimeline),fu={};function pu(e,t){const n=du(e);return()=>{var e;return null!==(e=fu[t])&&void 0!==e?e:n()}}const mu=pu(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(dH){return!1}return!0},"linearEasing"),gu=e=>{let[t,n,r,a]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(a,")")},yu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function vu(e,t){return e?"function"===typeof e?mu()?_c(e,t):"ease-out":Xc(e)?gu(e):Array.isArray(e)?e.map(e=>vu(e,t)||yu.easeOut):yu[e]:void 0}function xu(e,t,n){let{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=vu(o,a);Array.isArray(d)&&(u.easing=d),bs.value&&lc.waapi++;const h={delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return bs.value&&f.finished.finally(()=>{lc.waapi--}),f}function bu(e){return"function"===typeof e&&"applyToOptions"in e}const wu=["type"];class ju extends lu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=s,this.options=e,e.type;const c=function(e){let{type:t}=e,n=i(e,wu);return bu(t)&&mu()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(a=n.ease)&&void 0!==a||(n.ease="easeOut"),n);var r,a}(e);this.animation=xu(t,n,r,c,a),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=iu(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(dH){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return oc(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oc(e)}get time(){return oc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&hu()?(this.animation.timeline=t,ys):n(this)}}const _u={anticipate:Gc,backInOut:Kc,circInOut:$c};function ku(e){"string"===typeof e.ease&&e.ease in _u&&(e.ease=_u[e.ease])}const Su=["motionValue","onUpdate","onComplete","element"];class Nu extends ju{constructor(e){ku(e),ou(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:a,onComplete:s,element:o}=n,l=i(n,Su);if(!r)return;if(void 0!==e)return void r.set(e);const c=new uu(u(u({},l),{},{autoplay:!1})),d=sc(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10),c.stop()}}const Eu=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Zs.test(e)&&"0"!==e||e.startsWith("url(")));const Ou=new Set(["opacity","clipPath","filter","transform"]),Pu=du(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Au=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Tu extends lu{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:f}=e,p=i(e,Au);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=mo.now();const m=u({autoplay:n,delay:r,type:a,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||Cs;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),d,h,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=mo.now(),function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=Eu(a,t),o=Eu(i,t);return"You are trying to animate ".concat(t,' from "').concat(a,'" to "').concat(i,'". "').concat(s?i:a,'" is not an animatable value.'),!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||bu(n))&&r)}(e,a,i,s)||(!vs.instantAnimations&&o||null===c||void 0===c||c(iu(e,n,t)),e[0]=e[e.length-1],rc(n),n.repeat=0);const d=u(u({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:s,type:o}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Pu()&&r&&Ou.has(r)&&("transform"!==r||!c)&&!l&&!a&&"mirror"!==i&&0!==s&&"inertia"!==o}(d)?new Nu(u(u({},d),{},{element:d.motionValue.owner.current})):new uu(d);h.finished.then(()=>this.notifyFinished()).catch(ys),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Ps=!0,Ts(),As(),Ps=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Cu=e=>null!==e;const Mu={type:"spring",stiffness:500,damping:25,restSpeed:10},Du={type:"keyframes",duration:.8},Iu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ru=(e,t)=>{let{keyframes:n}=t;return n.length>2?Du:gi.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Mu:Iu},Lu=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const zu=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const l=$l(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=sc(c);const h=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=i(e,Lu);return!!Object.keys(h).length})(l)||Object.assign(h,Ru(e,h)),h.duration&&(h.duration=sc(h.duration)),h.repeatDelay&&(h.repeatDelay=sc(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(rc(h),0===h.delay&&(f=!0)),(vs.instantAnimations||vs.skipAnimations)&&(f=!0,rc(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:a="loop"}=t;const i=e.filter(Cu),s=r&&"loop"!==a&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}(h.keyframes,l);if(void 0!==e)return void js.update(()=>{h.onUpdate(e),h.onComplete()})}return l.isSync?new uu(h):new Tu(h)}},Fu=["transition","transitionEnd"];function qu(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function Bu(e,t){let{delay:n=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o}=t,l=i(t,Fu);r&&(s=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const i in l){var h;const t=e.getValue(i,null!==(h=e.latestValues[i])&&void 0!==h?h:null),r=l[i];if(void 0===r||d&&qu(d,i))continue;const a=u({delay:n},$l(s||{},i)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!a.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=nc(e);if(t){const e=window.MotionHandoffAnimation(t,i,js);null!==e&&(a.startTime=e,f=!0)}}tc(e,i),t.start(zu(i,t,r,e.shouldReduceMotion&&Yi.has(i)?{type:!1}:a,e,f));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{js.update(()=>{o&&function(e,t){let n=Yl(e,t)||{},{transitionEnd:r={},transition:a={}}=n,s=i(n,Jl);s=u(u({},s),r);for(const i in s)Zl(e,i,ec(s[i]))}(e,o)})}),c}function Uu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"===typeof n?n(i,s):1===a?i*r:o-i*r}function Vu(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Yl(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const s=a?()=>Promise.all(Bu(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Vu(l,t,u(u({},s),{},{delay:n+("function"===typeof r?0:r)+Uu(e.variantChildren,l,r,a,i)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,a,s,o,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(r.delay)])}function Hu(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Wu=Ro.length;function Ku(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Ku(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Wu;n++){const r=Ro[n],a=e.props[r];(Do(a)||!1===a)&&(t[r]=a)}return t}const Gu=["transition","transitionEnd"],Qu=[...Io].reverse(),Yu=Io.length;function $u(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>Vu(e,t,r));n=Promise.all(a)}else if("string"===typeof t)n=Vu(e,t,r);else{const a="function"===typeof t?Yl(e,t,r.custom):t;n=Promise.all(Bu(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function Xu(e){let t=$u(e),n=ed(),r=!0;const a=t=>(n,r)=>{var a;const s=Yl(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=i(s,Gu);n=u(u(u({},n),r),t)}return n};function s(i){const{props:s}=e,o=Ku(e.parent)||{},l=[],c=new Set;let d={},h=1/0;for(let t=0;t<Yu;t++){const f=Qu[t],p=n[f],m=void 0!==s[f]?s[f]:o[f],g=Do(m),y=f===i?p.isActive:null;!1===y&&(h=t);let v=m===o[f]&&m!==s[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=u({},d),!p.isActive&&null===y||!m&&!p.prevProp||Mo(m)||"boolean"===typeof m)continue;const x=Ju(p.prevProp,m);let b=x||f===i&&p.isActive&&!v&&g||t>h&&g,w=!1;const j=Array.isArray(m)?m:[m];let _=j.reduce(a(f),{});!1===y&&(_={});const{prevResolvedValues:k={}}=p,S=u(u({},k),_),N=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=_[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Xl(t)&&Xl(n)?!Hu(t,n):t!==n,r?void 0!==t&&null!==t?N(e):c.add(e):void 0!==t&&c.has(e)?N(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(d=u(u({},d),_)),r&&e.blockInitialAnimation&&(b=!1);const E=v&&x;b&&(!E||w)&&l.push(...j.map(t=>{const n={type:f};if("string"===typeof t&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,a=Yl(r,t);if(r.enteringChildren&&a){const{delayChildren:t}=a.transition||{};n.delay=Uu(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof s.initial){const n=Yl(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const i=s(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ed(),r=!0}}}function Ju(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Hu(t,e)}function Zu(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ed(){return{animate:Zu(!0),whileInView:Zu(),whileHover:Zu(),whileTap:Zu(),whileDrag:Zu(),whileFocus:Zu(),exit:Zu()}}class td{constructor(e){this.isMounted=!1,this.node=e}update(){}}let nd=0;const rd={animation:{Feature:class extends td{constructor(e){super(e),e.animationState||(e.animationState=Xu(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends td{constructor(){super(...arguments),this.id=nd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},ad={x:!1,y:!1};function id(){return ad.x||ad.y}function sd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const od=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function ld(e){return{point:{x:e.pageX,y:e.pageY}}}function cd(e,t,n,r){return sd(e,t,(e=>t=>od(t)&&e(t,ld(t)))(n),r)}function ud(e){return e.max-e.min}function dd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Mi(t.min,t.max,e.origin),e.scale=ud(n)/ud(t),e.translate=Mi(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function hd(e,t,n,r){dd(e.x,t.x,n.x,r?r.originX:void 0),dd(e.y,t.y,n.y,r?r.originY:void 0)}function fd(e,t,n){e.min=n.min+t.min,e.max=e.min+ud(t)}function pd(e,t,n){e.min=t.min-n.min,e.max=e.min+ud(t)}function md(e,t,n){pd(e.x,t.x,n.x),pd(e.y,t.y,n.y)}function gd(e){return[e("x"),e("y")]}const yd=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},vd=(e,t)=>Math.abs(e-t);class xd{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=jd(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=vd(e.x,t.x),r=vd(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=ks;this.history.push(u(u({},r),{},{timestamp:a}));const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=bd(t,this.transformPagePoint),js.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=jd("pointercancel"===e.type?this.lastMoveEventInfo:bd(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!od(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=bd(ld(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=ks;this.history=[u(u({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,jd(s,this.history)),this.removeListeners=ic(cd(this.contextWindow,"pointermove",this.handlePointerMove),cd(this.contextWindow,"pointerup",this.handlePointerUp),cd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_s(this.updatePoint)}}function bd(e,t){return t?{point:t(e.point)}:e}function wd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jd(e,t){let{point:n}=e;return{point:n,delta:wd(n,kd(t)),offset:wd(n,_d(t)),velocity:Sd(t,.1)}}function _d(e){return e[0]}function kd(e){return e[e.length-1]}function Sd(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=kd(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>sc(t)));)n--;if(!r)return{x:0,y:0};const i=oc(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Nd(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ed(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Od=.35;function Pd(e,t,n){return{min:Ad(e,t),max:Ad(e,n)}}function Ad(e,t){return"number"===typeof e?e:e[t]||0}const Td=new WeakMap;class Cd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new xd(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ld(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?ad[i]?null:(ad[i]=!0,()=>{ad[i]=!1}):ad.x||ad.y?null:(ad.x=ad.y=!0,()=>{ad.x=ad.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ns.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ud(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&js.postRender(()=>a(e,t)),tc(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>gd(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,distanceThreshold:n,contextWindow:yd(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&js.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Md(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?Mi(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?Mi(a,e,n.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&Fl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:a,right:i}=t;return{x:Nd(e.x,r,i),y:Nd(e.y,n,a)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Od;return!1===e?e=0:!0===e&&(e=Od),{x:Pd(e,"left","right"),y:Pd(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gd(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Fl(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Qi(e,n),{scroll:a}=t;return a&&(Wi(r.x,a.offset.x),Wi(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Ed(e.x,t.x),y:Ed(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Ci(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=gd(s=>{if(!Md(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,h=u(u({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),l);return this.startAxisValueAnimation(s,h)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return tc(this.visualElement,e),n.start(zu(e,n,0,t,this.visualElement,!1))}stopAnimation(){gd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gd(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gd(t=>{const{drag:n}=this.getProps();if(!Md(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-Mi(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Fl(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};gd(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ud(e),a=ud(t);return a>r?n=eu(t.min,t.max-r,e.min):r>a&&(n=eu(e.min,e.max-a,t.min)),$i(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gd(t=>{if(!Md(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(Mi(a,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Td.set(this.visualElement,this);const e=cd(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Fl(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),js.read(t);const a=sd(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(gd(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=Od,dragMomentum:s=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s})}}function Md(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Dd=e=>(t,n)=>{e&&js.postRender(()=>e(t,n))};function Id(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Al);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:a,register:i}=n,s=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return i(s)},[e]);const o=(0,t.useCallback)(()=>e&&a&&a(s),[s,a,e]);return!r&&a?[!1,o]:[!0]}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ld(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zd={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!rs.test(e))return e;e=parseFloat(e)}const n=Ld(e,t.target.x),r=Ld(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Fd={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,i=Zs.parse(e);if(i.length>5)return a;const s=Zs.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=Mi(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),s(i)}};let qd=!1;class Bd extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;!function(e){for(const t in e)$o[t]=e[t],Oi(t)&&($o[t].isCSSVariable=!0)}(Vd),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),qd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions(u(u({},a.options),{},{onExitComplete:()=>this.safeToRemove()}))),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:i}=n;return i?(i.isPresent=a,qd=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||js.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ko.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;qd=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ud(e){const[n,r]=Id(),a=(0,t.useContext)(fl);return(0,hl.jsx)(Bd,u(u({},e),{},{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Ul),isPresent:n,safeToRemove:r}))}const Vd={borderRadius:u(u({},zd),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:zd,borderTopRightRadius:zd,borderBottomLeftRadius:zd,borderBottomRightRadius:zd,boxShadow:Fd};function Hd(e){return"object"===typeof e&&null!==e}function Wd(e){return Hd(e)&&"ownerSVGElement"in e}const Kd=(e,t)=>e.depth-t.depth;class Gd{constructor(){this.children=[],this.isDirty=!1}add(e){go(this.children,e),this.isDirty=!0}remove(e){yo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kd),this.isDirty=!1,this.children.forEach(e)}}function Qd(e,t){const n=mo.now(),r=a=>{let{timestamp:i}=a;const s=i-n;s>=t&&(_s(r),e(s-t))};return js.setup(r,!0),()=>_s(r)}const Yd=["TopLeft","TopRight","BottomLeft","BottomRight"],$d=Yd.length,Xd=e=>"string"===typeof e?parseFloat(e):e,Jd=e=>"number"===typeof e||rs.test(e);function Zd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const eh=nh(0,.5,Yc),th=nh(.5,.95,ys);function nh(e,t,n){return r=>r<e?0:r>t?1:n(eu(e,t,r))}function rh(e,t){e.min=t.min,e.max=t.max}function ah(e,t){rh(e.x,t.x),rh(e.y,t.y)}function ih(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sh(e,t,n,r,a){return e=Fi(e-=t,1/n,r),void 0!==a&&(e=Fi(e,1/a,r)),e}function oh(e,t,n,r,a){let[i,s,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ns.test(t)&&(t=parseFloat(t),t=Mi(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=Mi(i.min,i.max,r);e===i&&(o-=t),e.min=sh(e.min,t,n,o,a),e.max=sh(e.max,t,n,o,a)}(e,t[i],t[s],t[o],t.scale,r,a)}const lh=["x","scaleX","originX"],ch=["y","scaleY","originY"];function uh(e,t,n,r){oh(e.x,t,lh,n?n.x:void 0,r?r.x:void 0),oh(e.y,t,ch,n?n.y:void 0,r?r.y:void 0)}function dh(e){return 0===e.translate&&1===e.scale}function hh(e){return dh(e.x)&&dh(e.y)}function fh(e,t){return e.min===t.min&&e.max===t.max}function ph(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mh(e,t){return ph(e.x,t.x)&&ph(e.y,t.y)}function gh(e){return ud(e.x)/ud(e.y)}function yh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vh{constructor(){this.members=[]}add(e){go(this.members,e),e.scheduleRender()}remove(e){if(yo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const xh={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},bh=["","X","Y","Z"];let wh=0;function jh(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function _h(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=nc(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",js,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&_h(r)}function kh(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=wh++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bs.value&&(xh.nodes=xh.calculatedTargetDeltas=xh.calculatedProjections=0),this.nodes.forEach(Eh),this.nodes.forEach(Dh),this.nodes.forEach(Ih),this.nodes.forEach(Oh),bs.addProjectionMetrics&&bs.addProjectionMetrics(xh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new vo),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Wd(e)&&!(Wd(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const a=()=>this.root.updateBlockedByResize=!1;js.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=Qd(a,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(Mh)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||Bh,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!mh(this.targetLayout,a),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},$l(s,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Mh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rh),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_h(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ah);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Th);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ch),this.nodes.forEach(Sh),this.nodes.forEach(Nh)):this.nodes.forEach(Th),this.clearAllSnapshots();const e=mo.now();ks.delta=$i(0,1e3/60,e-ks.timestamp),ks.timestamp=e,ks.isProcessing=!0,Ss.update.process(ks),Ss.preRender.process(ks),Ss.render.process(ks),ks.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ko.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ph),this.sharedNodes.forEach(Lh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,js.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){js.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ud(this.snapshot.measuredBox.x)||ud(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!hh(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ri(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Hh((r=n).x),Hh(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Kh))){const{scroll:e}=this.root;e&&(Wi(n.x,e.offset.x),Wi(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(ah(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:i}=t;t!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&ah(n,e),Wi(n.x,a.offset.x),Wi(n.y,a.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};ah(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Gi(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ri(e.latestValues)&&Gi(n,e.latestValues)}return Ri(this.latestValues)&&Gi(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ah(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ri(e.latestValues))continue;Ii(e.latestValues)&&e.updateSnapshot();const r=Oo();ah(r,e.measurePageBox()),uh(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ri(this.latestValues)&&uh(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ks.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:i}=this.options;if(this.layout&&(a||i)){if(this.resolvedRelativeTargetAt=ks.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},md(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ah(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,fd(s.x,o.x,l.x),fd(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ah(this.target,this.layout.layoutBox),Ui(this.target,this.targetDelta)):ah(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},md(this.relativeTargetOrigin,this.target,e.target),ah(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bs.value&&xh.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ii(this.parent.latestValues)&&!Li(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===ks.timestamp&&(r=!1),r)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;ah(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ui(e,s)),r&&Ri(i.latestValues)&&Gi(e,i.latestValues))}t.x<Hi&&t.x>Vi&&(t.x=1),t.y<Hi&&t.y>Vi&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(ih(this.prevProjectionDelta.x,this.projectionDelta.x),ih(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),hd(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&yh(this.projectionDelta.x,this.prevProjectionDelta.x)&&yh(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),bs.value&&xh.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},a=u({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(qh));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;zh(i.x,e.x,n),zh(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Fh(e.x,t.x,n.x,r),Fh(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(e,t){return fh(e.x,t.x)&&fh(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),ah(h,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){var s,o;if(a)e.opacity=Mi(0,null!==(s=n.opacity)&&void 0!==s?s:1,eh(r)),e.opacityExit=Mi(null!==(o=t.opacity)&&void 0!==o?o:1,0,th(r));else if(i){var l,c;e.opacity=Mi(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<$d;u++){const a="border".concat(Yd[u],"Radius");let i=Zd(t,a),s=Zd(n,a);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||Jd(i)===Jd(s)?(e[a]=Math.max(Mi(Xd(i),Xd(s),r),0),(ns.test(s)||ns.test(i))&&(e[a]+="%")):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=Mi(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=js.update(()=>{Rd.hasAnimatedSinceResize=!0,lc.layout++,this.motionValue||(this.motionValue=jo(0)),this.currentAnimation=function(e,t,n){const r=ho(e)?e:jo(e);return r.start(zu("",r,t,n)),r.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{lc.layout--},onComplete:()=>{lc.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Wh(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ud(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ud(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ah(t,n),Gi(t,a),hd(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new vh);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&jh("z",e,r,this.animationValues);for(let a=0;a<bh.length;a++)jh("rotate".concat(bh[a]),e,r,this.animationValues),jh("skew".concat(bh[a]),e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Cl(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Cl(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Ri(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const a=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((a||i||s)&&(r="translate3d(".concat(a,"px, ").concat(i,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),a&&(r+="rotateX(".concat(a,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a);n&&(i=n(a,i)),e.transform=i;const{x:s,y:o}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*o.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=a.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:e.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const u in $o){if(void 0===a[u])continue;const{correct:t,applyTo:n,isCSSVariable:s}=$o[u],o="none"===i?a[u]:t(a[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else s?this.options.visualElement.renderState.vars[u]=o:e[u]=o}this.options.layoutId&&(e.pointerEvents=r===this?Cl(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Ah),this.root.sharedNodes.clear()}}}function Sh(e){e.updateLayout()}function Nh(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;"size"===a?gd(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],a=ud(r);r.min=t[e].min,r.max=r.min+a}):Wh(a,n.layoutBox,t)&&gd(r=>{const a=i?n.measuredBox[r]:n.layoutBox[r],s=ud(t[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};hd(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?hd(o,e.applyTransform(r,!0),n.measuredBox):hd(o,t,n.layoutBox);const l=!hh(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};md(s,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};md(o,t,i.layoutBox),mh(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Eh(e){bs.value&&xh.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Oh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ph(e){e.clearSnapshot()}function Ah(e){e.clearMeasurements()}function Th(e){e.isLayoutDirty=!1}function Ch(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dh(e){e.resolveTargetDelta()}function Ih(e){e.calcProjection()}function Rh(e){e.resetSkewAndRotation()}function Lh(e){e.removeLeadSnapshot()}function zh(e,t,n){e.translate=Mi(t.translate,0,n),e.scale=Mi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fh(e,t,n,r){e.min=Mi(t.min,n.min,r),e.max=Mi(t.max,n.max,r)}function qh(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Bh={duration:.45,ease:[.4,0,.1,1]},Uh=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vh=Uh("applewebkit/")&&!Uh("chrome/")?Math.round:ys;function Hh(e){e.min=Vh(e.min),e.max=Vh(e.max)}function Wh(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(gh(t),gh(n),.2)}function Kh(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Gh=kh({attachResizeListener:(e,t)=>sd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qh={current:void 0},Yh=kh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qh.current){const e=new Gh({});e.mount(window),e.setOptions({layoutScroll:!0}),Qh.current=e}return Qh.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),$h={pan:{Feature:class extends td{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new xd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dd(e),onStart:Dd(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&js.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=cd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends td{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new Cd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Yh,MeasureLayout:Ud}};function Xh(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let a=document;t&&(a=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function Jh(e){return!("touch"===e.pointerType||id())}function Zh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&js.postRender(()=>a(t,ld(t)))}function ef(e){return Hd(e)&&"offsetHeight"in e}const tf=(e,t)=>!!t&&(e===t||tf(e,t.parentElement)),nf=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const rf=new WeakSet;function af(e){return t=>{"Enter"===t.key&&e(t)}}function sf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function of(e){return od(e)&&!id()}function lf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=Xh(e,n),s=e=>{const r=e.currentTarget;if(!of(e))return;rf.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),rf.has(r)&&rf.delete(r),of(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||tf(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),ef(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=af(()=>{if(rf.has(n))return;sf(n,"down");const e=af(()=>{sf(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>sf(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a)),t=e,nf.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function cf(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&js.postRender(()=>a(t,ld(t)))}const uf=["root"],df=new WeakMap,hf=new WeakMap,ff=e=>{const t=df.get(e.target);t&&t(e)},pf=e=>{e.forEach(ff)};function mf(e,t,n){const r=function(e){let{root:t}=e,n=i(e,uf);const r=t||document;hf.has(r)||hf.set(r,{});const a=hf.get(r),s=JSON.stringify(n);return a[s]||(a[s]=new IntersectionObserver(pf,u({root:t},n))),a[s]}(t);return df.set(e,n),r.observe(e),()=>{df.delete(e),r.unobserve(e)}}const gf={some:0,all:1};const yf={inView:{Feature:class extends td{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:gf[r]};return mf(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends td{mount(){const{current:e}=this.node;e&&(this.unmount=lf(e,(e,t)=>(cf(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return cf(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends td{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(dH){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic(sd(this.node.current,"focus",()=>this.onFocus()),sd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends td{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=Xh(e,n),s=e=>{if(!Jh(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Jh(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,a)};return r.forEach(e=>{e.addEventListener("pointerenter",s,a)}),i}(e,(e,t)=>(Zh(this.node,t,"Start"),e=>Zh(this.node,e,"End"))))}unmount(){}}}},vf={layout:{ProjectionNode:Yh,MeasureLayout:Ud}},xf=Ql(u(u(u(u({},rd),yf),$h),vf),dl),bf=e=>{let{onNavigate:t}=e;return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,hl.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,hl.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:"\ud83c\udf93 Fluence"}),(0,hl.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 mb-2",children:"Master Your Studies with AI"}),(0,hl.jsx)("p",{className:"text-gray-500",children:"Personalized quizzes \u2022 Spaced Repetition \u2022 Real-time Progress"})]}),(0,hl.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,hl.jsxs)(xf.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:[(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf93"}),(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Students"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Take daily quizzes, track your progress, and compete with classmates"})]}),(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsx)("button",{onClick:()=>t("student-register"),className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-colors",children:"Join a Class"}),(0,hl.jsx)("button",{onClick:()=>t("student-login"),className:"w-full bg-white hover:bg-gray-50 text-green-600 font-medium py-3 px-6 rounded-xl border-2 border-green-500 transition-colors",children:"Student Login"})]}),(0,hl.jsxs)("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[(0,hl.jsx)("p",{children:"\u2713 Personalized AI-generated quizzes"}),(0,hl.jsx)("p",{children:"\u2713 Track concept mastery"}),(0,hl.jsx)("p",{children:"\u2713 Weekly leaderboards"})]})]}),(0,hl.jsxs)(xf.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:[(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Teachers"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Manage students, view analytics, and track class performance"})]}),(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsx)("button",{onClick:()=>t("teacher-login"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors",children:"Teacher Login"}),(0,hl.jsx)("button",{onClick:()=>window.location.href="/contact",className:"w-full bg-white hover:bg-gray-50 text-blue-600 font-medium py-3 px-6 rounded-xl border-2 border-blue-600 transition-colors",children:"New Institution?"})]}),(0,hl.jsxs)("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[(0,hl.jsx)("p",{children:"\u2713 Student management dashboard"}),(0,hl.jsx)("p",{children:"\u2713 Performance analytics"}),(0,hl.jsx)("p",{children:"\u2713 Question editing"})]})]})]}),(0,hl.jsx)(xf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center text-sm text-gray-500",children:(0,hl.jsx)("p",{children:"\xa9 2025 Fluence \u2022 Built with \u2764\ufe0f for better learning"})})]})})};function wf(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function jf(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=wf(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():wf(t[e],null)}}}}(...n),n)}class _f extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=ef(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kf(e){let{children:n,isPresent:r,anchorX:a,root:i}=e;const s=(0,t.useId)(),o=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(ml),u=jf(o,null===n||void 0===n?void 0:n.ref);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!o.current||!e||!t)return;const h="left"===a?"left: ".concat(u):"right: ".concat(d);o.current.dataset.motionPopId=s;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==i&&void 0!==i?i:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[r]),(0,hl.jsx)(_f,{isPresent:r,childRef:o,sizeRef:l,children:t.cloneElement(n,{ref:u})})}const Sf=e=>{let{children:n,initial:r,isPresent:a,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:d}=e;const h=Tl(Nf),f=(0,t.useId)();let p=!0,m=(0,t.useMemo)(()=>(p=!1,{id:f,initial:r,isPresent:a,custom:s,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[a,h,i]);return o&&p&&(m=u({},m)),(0,t.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[a]),t.useEffect(()=>{!a&&!h.size&&i&&i()},[a]),"popLayout"===l&&(n=(0,hl.jsx)(kf,{isPresent:a,anchorX:c,root:d,children:n})),(0,hl.jsx)(Al.Provider,{value:m,children:n})};function Nf(){return new Map}const Ef=e=>e.key||"";function Of(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const Pf=e=>{let{children:n,custom:r,initial:a=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=Id(l),f=(0,t.useMemo)(()=>Of(n),[n]),p=l&&!d?[]:f.map(Ef),m=(0,t.useRef)(!0),g=(0,t.useRef)(f),y=Tl(()=>new Map),[v,x]=(0,t.useState)(f),[b,w]=(0,t.useState)(f);Vl(()=>{m.current=!1,g.current=f;for(let e=0;e<b.length;e++){const t=Ef(b[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[b,p.length,p.join("-")]);const j=[];if(f!==v){let e=[...f];for(let t=0;t<b.length;t++){const n=b[t],r=Ef(n);p.includes(r)||(e.splice(t,0,n),j.push(n))}return"wait"===o&&j.length&&(e=j),w(Of(e)),x(f),null}const{forceRender:_}=(0,t.useContext)(fl);return(0,hl.jsx)(hl.Fragment,{children:b.map(e=>{const t=Ef(e),n=!(l&&!d)&&(f===b||p.includes(t));return(0,hl.jsx)(Sf,{isPresent:n,initial:!(m.current&&!a)&&void 0,custom:r,presenceAffectsLayout:s,mode:o,root:u,onExitComplete:n?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===_||void 0===_||_(),w(g.current),l&&(null===h||void 0===h||h()),i&&i())},anchorX:c,children:e},t)})})},Af=e=>{var n;let{onSuccess:r}=e;const[a,i]=(0,t.useState)(1),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)({fullName:"",username:"",pin:"",confirmPin:"",phoneNumber:"",email:""}),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),_=e=>{const{name:t,value:n}=e.target;p(e=>u(u({},e),{},{[t]:n})),"username"===t&&v(null)};return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,hl.jsx)(Pf,{mode:"wait",children:1===a?(0,hl.jsx)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full max-w-md",children:(0,hl.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,hl.jsxs)("div",{className:"text-center mb-8",children:[(0,hl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83c\udf93 Join Your Class"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Enter the class code provided by your teacher"})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j(""),!s.trim())return void j("Please enter a class code");c(!0);const t=await ii(s);c(!1),t.success?(h(t.class),i(2)):j(t.error||"Invalid class code")},children:[(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Code"}),(0,hl.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value.toUpperCase()),placeholder:"FLUENCE-CLASS6-2025",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none text-lg font-medium text-center",disabled:l,autoFocus:!0}),(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\ud83d\udca1 Ask your teacher for the class code"})]}),w&&(0,hl.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:w}),(0,hl.jsx)("button",{type:"submit",disabled:l||!s.trim(),className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:l?"Verifying...":"Continue \u2192"})]}),(0,hl.jsx)("div",{className:"mt-6 text-center",children:(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,hl.jsx)("a",{href:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Login here"})]})})]})},"step1"):(0,hl.jsx)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full max-w-md",children:(0,hl.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsx)("button",{onClick:()=>i(1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Back"}),(0,hl.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:[(0,hl.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,hl.jsx)("span",{className:"font-medium",children:"Joining:"})," ",null===d||void 0===d?void 0:d.class_name]}),(0,hl.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Teacher: ",null===d||void 0===d||null===(n=d.teacher)||void 0===n?void 0:n.full_name," \u2022 Session: ",null===d||void 0===d?void 0:d.session]})]}),(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Your Account"})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j(""),!(!f.fullName.trim()||f.fullName.length<3?(j("Full name must be at least 3 characters"),0):!f.username.trim()||f.username.length<3?(j("Username must be at least 3 characters"),0):/^[a-zA-Z0-9_]+$/.test(f.username)?y?/^\d{4}$/.test(f.pin)?f.pin!==f.confirmPin?(j("PINs do not match"),0):/^(\+91)?[6-9]\d{9}$/.test(f.phoneNumber.replace(/[\s\-]/g,""))?!f.email||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(j("Please enter a valid email address"),0):(j("Please enter a valid 10-digit mobile number"),0):(j("PIN must be exactly 4 digits"),0):(j("Username is not available or not checked"),0):(j("Username can only contain letters, numbers, and underscores"),0)))return;b(!0);let t=f.phoneNumber.replace(/[\s\-]/g,"");t.startsWith("+91")||(t="+91".concat(t));const n=await(async e=>{try{const{classCode:t,fullName:n,username:r,pin:a,phoneNumber:i,email:s,session:o}=e,l=await ii(t);if(!l.success)return l;const c=l.class,u=c.institution_id;if(!(await si(u,r)).available)return{success:!1,error:"Username already taken in this institution"};const d=await ai.hash(a,10),{data:h,error:f}=await Ca.from("students").insert({institution_id:u,full_name:n,username:r.toLowerCase(),pin_hash:d,phone_number:i,email:s||null,session:o,active:!0}).select().single();if(f)return console.error("[registerStudent] Student creation error:",f),{success:!1,error:"Failed to create student account"};const{error:p}=await Ca.from("student_class_enrollments").insert({student_id:h.id,class_id:c.id,status:"active"});return p?(console.error("[registerStudent] Enrollment error:",p),{success:!1,error:"Failed to enroll in class"}):{success:!0,student:h,class:c,session:oi(h,c)}}catch(w){return console.error("[registerStudent] Exception:",w),{success:!1,error:"Registration failed"}}})({classCode:d.class_code,fullName:f.fullName.trim(),username:f.username.trim().toLowerCase(),pin:f.pin,phoneNumber:t,email:f.email.trim()||null,session:d.session});b(!1),n.success?r&&r(n.student,n.session):j(n.error||"Registration failed")},className:"space-y-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,hl.jsx)("input",{type:"text",name:"fullName",value:f.fullName,onChange:_,placeholder:"Anaya Agrawal",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none",required:!0})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Create Username *"}),(0,hl.jsx)("input",{type:"text",name:"username",value:f.username,onChange:_,onBlur:async()=>{if(!f.username.trim()||!d)return;g(!0);const e=await si(d.institution_id,f.username);g(!1),e.available?v(!0):e.taken?(v(!1),j("Username already taken. Try another one.")):j(e.error||"Failed to check username")},placeholder:"anaya01",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none",required:!0}),m&&(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Checking availability..."}),!0===y&&(0,hl.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"\u2713 Username available!"}),!1===y&&(0,hl.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"\u2717 Username already taken"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number * (Yours or Parent's)"}),(0,hl.jsx)("input",{type:"tel",name:"phoneNumber",value:f.phoneNumber,onChange:_,placeholder:"+91 98765 43210",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none",required:!0})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional - for PIN recovery)"}),(0,hl.jsx)("input",{type:"email",name:"email",value:f.email,onChange:_,placeholder:"anaya@example.com",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Create 4-Digit PIN *"}),(0,hl.jsx)("input",{type:"password",name:"pin",value:f.pin,onChange:_,placeholder:"\u2022\u2022\u2022\u2022",maxLength:"4",pattern:"\\d{4}",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none text-center text-2xl tracking-widest",required:!0}),(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Choose something you'll remember (like your birth date: 0509)"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm PIN *"}),(0,hl.jsx)("input",{type:"password",name:"confirmPin",value:f.confirmPin,onChange:_,placeholder:"\u2022\u2022\u2022\u2022",maxLength:"4",pattern:"\\d{4}",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none text-center text-2xl tracking-widest",required:!0})]}),w&&(0,hl.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:w}),(0,hl.jsx)("button",{type:"submit",disabled:x||!y,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed mt-6",children:x?"Creating Account...":"Create Account & Join Class"})]})]})},"step2")})})},Tf=e=>{let{onSuccess:n}=e;const[r,a]=(0,t.useState)({classCode:"",username:"",pin:""}),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),h=e=>{const{name:t,value:n}=e.target;a(e=>u(u({},e),{},{[t]:n})),d("")};return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,hl.jsxs)("div",{className:"text-center mb-8",children:[(0,hl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83c\udf93 Fluence"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Student Login"})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),!r.classCode.trim())return void d("Please enter your class code");if(!r.username.trim())return void d("Please enter your username");if(!/^\d{4}$/.test(r.pin))return void d("PIN must be 4 digits");const t=await(async(e,t)=>{try{const n=new Date(Date.now()-9e5).toISOString(),{data:r,error:a}=await Ca.from("login_attempts").select("*").eq("identifier",e).eq("class_code",t).eq("success",!1).gte("attempted_at",n);if(a)return console.error("[checkRateLimit] Error:",a),{allowed:!0};const i=(null===r||void 0===r?void 0:r.length)||0;return i>=3?{allowed:!1,message:"Too many failed attempts. Please try again in 15 minutes.",retryAfter:900}:{allowed:!0,failedAttempts:i}}catch(c){return console.error("[checkRateLimit] Exception:",c),{allowed:!0}}})(r.username,r.classCode);if(!t.allowed)return void d(t.message);l(!0);const i=await(async(e,t,n)=>{try{const r=await ii(e);if(!r.success)return r;const a=r.class,{data:i,error:s}=await Ca.from("students").select("*").eq("institution_id",a.institution_id).eq("username",t.toLowerCase()).eq("active",!0).single();if(s||!i)return console.error("[loginStudent] Student not found:",s),await li(t,e,!1,"Student not found"),{success:!1,error:"Invalid username or PIN"};if(!await ai.compare(n,i.pin_hash))return console.error("[loginStudent] PIN mismatch"),await li(t,e,!1,"Invalid PIN"),{success:!1,error:"Invalid username or PIN"};const{data:o,error:l}=await Ca.from("student_class_enrollments").select("*").eq("student_id",i.id).eq("class_id",a.id).eq("status","active").maybeSingle();return l||!o?(console.error("[loginStudent] Not enrolled in class:",l),{success:!1,error:"You are not enrolled in this class"}):(await Ca.from("students").update({last_login_at:(new Date).toISOString()}).eq("id",i.id),await li(t,e,!0,null),{success:!0,student:i,class:a,session:oi(i,a)})}catch(c){return console.error("[loginStudent] Exception:",c),{success:!1,error:"Login failed"}}})(r.classCode.toUpperCase(),r.username.toLowerCase(),r.pin);l(!1),i.success?n&&n(i.student,i.session):(d(i.error||"Login failed"),a(e=>u(u({},e),{},{pin:""})))},className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Code"}),(0,hl.jsx)("input",{type:"text",name:"classCode",value:r.classCode,onChange:h,placeholder:"FLUENCE-CLASS6-2025",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none text-center font-medium",disabled:o,autoFocus:!0,required:!0})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,hl.jsx)("input",{type:"text",name:"username",value:r.username,onChange:h,placeholder:"anaya01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none",disabled:o,required:!0})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIN"}),(0,hl.jsx)("input",{type:"password",name:"pin",value:r.pin,onChange:h,placeholder:"\u2022\u2022\u2022\u2022",maxLength:"4",pattern:"\\d{4}",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none text-center text-2xl tracking-widest",disabled:o,required:!0})]}),(0,hl.jsxs)("div",{className:"flex items-center",children:[(0,hl.jsx)("input",{type:"checkbox",id:"rememberMe",checked:i,onChange:e=>s(e.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),(0,hl.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-gray-700",children:"Remember me on this device"})]}),c&&(0,hl.jsx)(xf.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),(0,hl.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:o?"Logging in...":"Login"})]}),(0,hl.jsxs)("div",{className:"mt-6 space-y-2 text-center",children:[(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Forgot your PIN?"," ",(0,hl.jsx)("a",{href:"/forgot-pin",className:"text-green-600 hover:text-green-700 font-medium",children:"Contact your teacher"})]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["New student?"," ",(0,hl.jsx)("a",{href:"/register",className:"text-green-600 hover:text-green-700 font-medium",children:"Join a class"})]})]})]}),(0,hl.jsx)("div",{className:"mt-4 p-4 bg-white/50 rounded-xl backdrop-blur-sm text-center",children:(0,hl.jsxs)("p",{className:"text-xs text-gray-600",children:["\ud83d\udca1 ",(0,hl.jsx)("strong",{children:"Tip:"})," Your username and PIN were provided during registration. If you forgot them, ask your teacher for help."]})})]})})},Cf=e=>{let{onSuccess:n}=e;const[r,a]=(0,t.useState)({email:"",password:""}),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),p=e=>{const{name:t,value:n}=e.target;a(e=>u(u({},e),{},{[t]:n})),d("")};return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,hl.jsxs)("div",{className:"text-center mb-8",children:[(0,hl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83d\udc68\u200d\ud83c\udfeb Fluence"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Teacher Portal Login"})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email))return void d("Please enter a valid email address");if(r.password.length<6)return void d("Password must be at least 6 characters");l(!0);const t=await(async(e,t)=>{try{const{data:n,error:r}=await Ca.from("teachers").select("\n        *,\n        institution:institutions(*)\n      ").eq("email",e.toLowerCase()).eq("active",!0).single();return r||!n?(console.error("[loginTeacher] Teacher not found:",r),await li(e,null,!1,"Teacher not found"),{success:!1,error:"Invalid email or password"}):await ai.compare(t,n.password_hash)?(await Ca.from("teachers").update({last_login_at:(new Date).toISOString()}).eq("id",n.id),await li(e,null,!0,null),{success:!0,teacher:n,session:ci(n)}):(console.error("[loginTeacher] Password mismatch"),await li(e,null,!1,"Invalid password"),{success:!1,error:"Invalid email or password"})}catch(c){return console.error("[loginTeacher] Exception:",c),{success:!1,error:"Login failed"}}})(r.email.toLowerCase(),r.password);l(!1),t.success?n&&n(t.teacher,t.session):(d(t.error||"Login failed"),a(e=>u(u({},e),{},{password:""})))},className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,hl.jsx)("input",{type:"email",name:"email",value:r.email,onChange:p,placeholder:"aman@fluence.ac",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none",disabled:o,autoFocus:!0,required:!0})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,hl.jsxs)("div",{className:"relative",children:[(0,hl.jsx)("input",{type:h?"text":"password",name:"password",value:r.password,onChange:p,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none pr-12",disabled:o,required:!0}),(0,hl.jsx)("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]})]}),(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center",children:[(0,hl.jsx)("input",{type:"checkbox",id:"rememberMe",checked:i,onChange:e=>s(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,hl.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),(0,hl.jsx)("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),c&&(0,hl.jsx)(xf.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),(0,hl.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:o?"Logging in...":"Login to Dashboard"})]}),(0,hl.jsxs)("div",{className:"mt-6 space-y-2 text-center",children:[(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Student?"," ",(0,hl.jsx)("a",{href:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Login here"})]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["New institution?"," ",(0,hl.jsx)("a",{href:"/contact",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact us"})]})]})]}),!1]})})},Mf=e=>{let{onAuthenticated:n}=e;const[r,a]=(0,t.useState)("landing"),[i,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=ui();e?n(e):s(!1)},[n]);const o=e=>{a(e)},l=(e,t)=>{console.log("[AuthRouter] Student authenticated:",e),n(t)},c=(e,t)=>{console.log("[AuthRouter] Teacher authenticated:",e),n(t)};if(i)return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf93"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});switch(r){case"student-register":return(0,hl.jsx)(Af,{onSuccess:l});case"student-login":return(0,hl.jsx)(Tf,{onSuccess:l});case"teacher-login":return(0,hl.jsx)(Cf,{onSuccess:c});default:return(0,hl.jsx)(bf,{onNavigate:o})}},Df=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),If=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Lf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zf=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ff=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:d}=e,h=i(e,zf);return(0,t.createElement)("svg",u(u(u({ref:n},Lf),{},{width:a,height:a,stroke:r,strokeWidth:o?24*Number(s)/Number(a):s,className:Rf("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(c)?c:[c]])}),qf=["className"],Bf=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:s}=r,o=i(r,qf);return(0,t.createElement)(Ff,u({ref:a,iconNode:n,className:Rf("lucide-".concat(Df(If(e))),"lucide-".concat(e),s)},o))});return r.displayName=If(e),r},Uf=Bf("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Vf=Bf("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Hf=Bf("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Wf=Bf("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Kf=e=>{let{message:t="Loading..."}=e;return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-800 flex items-center justify-center",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-white text-lg",children:t})]})})},Gf=Bf("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Qf=Bf("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yf=Bf("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),$f=Bf("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xf=Bf("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Jf=Bf("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zf=Bf("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),ep=Bf("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),tp=Bf("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var np,rp,ap=n(5047);function ip(e,t){return e+Math.random()*(t-e)}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(np||(np={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(rp||(rp={}));const sp=1e3/60;class op{constructor(e,t,n,r){this.getOptions=t;const{colors:a,initialVelocityX:i,initialVelocityY:s}=this.getOptions();this.context=e,this.x=n,this.y=r,this.w=ip(5,20),this.h=ip(5,20),this.radius=ip(5,10),this.vx="number"===typeof i?ip(-i,i):ip(i.min,i.max),this.vy="number"===typeof s?ip(-s,0):ip(s.min,s.max),this.shape=function(e,t){return Math.floor(e+Math.random()*(t-e+1))}(0,2),this.angle=function(e){return e*Math.PI/180}(ip(0,360)),this.angularSpin=ip(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=ip(0,1),this.rotationDirection=ip(0,1)?rp.Positive:rp.Negative}update(e){const{gravity:t,wind:n,friction:r,opacity:a,drawShape:i}=this.getOptions(),s=e/sp;this.x+=this.vx*s,this.y+=this.vy*s,this.vy+=t*s,this.vx+=n*s,this.vx*=r**s,this.vy*=r**s,this.rotateY>=1&&this.rotationDirection===rp.Positive?this.rotationDirection=rp.Negative:this.rotateY<=-1&&this.rotationDirection===rp.Negative&&(this.rotationDirection=rp.Positive);const o=.1*this.rotationDirection*s;if(this.rotateY+=o,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,i&&"function"===typeof i)i.call(this,this.context);else switch(this.shape){case np.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case np.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case np.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class lp{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{const e=ip(this.x,this.w+this.x),t=ip(this.y,this.h+this.y);return new op(this.context,this.getOptions,e,t)},this.animate=e=>{const{canvas:t,context:n,particlesGenerated:r,lastNumberOfPieces:a}=this,{run:i,recycle:s,numberOfPieces:o,debug:l,tweenFunction:c,tweenDuration:u}=this.getOptions();if(!i)return!1;const d=this.particles.length,h=s?d:r;if(h<o){a!==o&&(this.tweenProgress=0,this.tweenFrom=h,this.lastNumberOfPieces=o),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+e));const t=c(this.tweenProgress,this.tweenFrom,o,u),n=Math.round(t-h);for(let e=0;e<n;e++)this.particles.push(this.getParticle());this.particlesGenerated+=n}l&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText("Particles: ".concat(d),t.width-10,t.height-20));for(let f=this.particles.length-1;f>=0;f--){const n=this.particles[f];n.update(e),(n.y>t.height||n.y<-100||n.x>t.width+100||n.x<-100)&&(s&&h<=o?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return d>0||h<o},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const cp={width:"undefined"!==typeof window?window.innerWidth:300,height:"undefined"!==typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:ap.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class up{constructor(e,t){var n=this;this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options=u(u(u({},t),cp),e),Object.assign(this,e.confettiSource)},this.update=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{options:{run:t,onConfettiComplete:r,frameRate:a},canvas:i,context:s}=n,o=Math.min(e-n.lastFrameTime,50);a&&o<1e3/a?n.rafId=requestAnimationFrame(n.update):(n.lastFrameTime=e-(a?o%a:0),t&&(s.fillStyle="white",s.clearRect(0,0,i.width,i.height)),n.generator.animate(o)?n.rafId=requestAnimationFrame(n.update):(r&&"function"===typeof r&&n.generator.particlesGenerated>0&&r.call(n,n),n._options.run=!1))},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new lp(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var t,n;const r=null===(t=this._options)||void 0===t?void 0:t.run,a=null===(n=this._options)||void 0===n?void 0:n.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"===typeof e.recycle&&e.recycle&&!1===a&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"===typeof e.run&&e.run&&!1===r&&this.update()}}const dp=t.createRef();class hp extends t.Component{constructor(e){super(e),this.canvas=t.createRef(),this.canvas=e.canvasRef||dp}componentDidMount(){if(this.canvas.current){const e=fp(this.props)[0];this.confetti=new up(this.canvas.current,e)}}componentDidUpdate(){const e=fp(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=fp(this.props),n=u({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},t.style);return(0,hl.jsx)("canvas",u(u({width:e.width,height:e.height,ref:this.canvas},t),{},{style:n}))}}function fp(e){const t={},n={},r=[...Object.keys(cp),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const i in e){const s=e[i];r.includes(i)?t[i]=s:a.includes(i)?a[i]=s:n[i]=s}return[t,n,{}]}hp.defaultProps=u({},cp),hp.displayName="ReactConfetti";const pp=t.forwardRef((e,t)=>(0,hl.jsx)(hp,u({canvasRef:t},e))),mp=(Bf("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Bf("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])),gp=async()=>{const e=ui();if(!e)throw new Error("No active session. Please login first.");console.log("[getActiveQuestions] Fetching for:",{user_id:e.user_id,institution_id:e.institution_id,class_id:e.class_id});try{const{data:t,error:n}=await Ca.from("quiz_questions").select("*").eq("institution_id",e.institution_id).eq("active",!0).or("student_id.eq.".concat(e.user_id,",and(class_id.eq.").concat(e.class_id,",student_id.is.null)")).order("created_at",{ascending:!1}).limit(30);if(n)throw console.error("[getActiveQuestions] Error:",n),n;return console.log("[getActiveQuestions] Fetched",(null===t||void 0===t?void 0:t.length)||0,"questions"),t&&0!==t.length||console.warn("[getActiveQuestions] No active questions found. Has a class been processed today?"),t||[]}catch(t){throw console.error("[getActiveQuestions] Exception:",t),t}},yp=async e=>{try{const t=ui();if(!t)return console.warn("[getTotalPoints] No session found"),0;console.log("[getTotalPoints] Fetching total points for student:",e);const{data:n,error:r}=await Ca.from("quiz_results").select("total_points").eq("student_id",e).eq("institution_id",t.institution_id);if(r)return console.error("[getTotalPoints] Error fetching points:",r),0;const a=(n||[]).reduce((e,t)=>e+(t.total_points||0),0);return console.log("[getTotalPoints] Total points calculated:",a),a}catch(t){return console.error("[getTotalPoints] Error:",t),0}},vp=()=>{const e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1),r=new Date(e.setDate(n));r.setHours(0,0,0,0,0);const a=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(s)},xp=e=>{let{currentStudentId:n,currentScore:r}=e;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),l=(0,t.useCallback)(async()=>{try{console.log("[Leaderboard Component] Loading leaderboard...");const e=await(async()=>{const e=ui();if(!e)return console.error("[getTodaysLeaderboard] No session found"),[];const t=new Date,n=t.getDay(),r=t.getDate()-n+(0===n?-6:1),a=new Date(t.setDate(r));a.setHours(0,0,0,0,0);const i=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),l="".concat(i,"-").concat(s,"-").concat(o);console.log("[getTodaysLeaderboard] Fetching weekly leaderboard for week starting:",l);const{data:c,error:u}=await Ca.from("weekly_leaderboard").select("\n      *,\n      students (\n        username,\n        full_name\n      )\n    ").eq("week_start_date",l).eq("institution_id",e.institution_id).order("rank",{ascending:!0});return u?(console.error("[getTodaysLeaderboard] Error:",u),[]):(console.log("[getTodaysLeaderboard] Fetched:",(null===c||void 0===c?void 0:c.length)||0,"entries"),c||[])})();console.log("[Leaderboard Component] Leaderboard data received:",e),i(e)}catch(e){console.error("[Leaderboard Component] Error loading leaderboard:",e)}finally{o(!1)}},[]);(0,t.useEffect)(()=>{l();const e=(e=>{const t=new Date,n=t.getDay(),r=t.getDate()-n+(0===n?-6:1),a=new Date(t.setDate(r));a.setHours(0,0,0,0,0);const i=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),l="".concat(i,"-").concat(s,"-").concat(o);return Ca.channel("weekly-leaderboard-changes").on("postgres_changes",{event:"*",schema:"public",table:"weekly_leaderboard",filter:"week_start_date=eq.".concat(l)},t=>{e(t)}).subscribe()})(()=>{l()});return()=>{e.unsubscribe()}},[l]);const c=e=>{switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return"#".concat(e)}};return s?(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-8",children:[(0,hl.jsxs)("h2",{className:"text-3xl font-black text-cyan-300 mb-4 flex items-center gap-2 uppercase neon-text-cyan",children:[(0,hl.jsx)(Gf,{className:"w-8 h-8"}),"Leaderboard"]}),(0,hl.jsx)("p",{className:"text-white/60",children:"Loading..."})]}):(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-8",children:[(0,hl.jsxs)("h2",{className:"text-3xl font-black text-cyan-300 mb-6 flex items-center gap-2 uppercase neon-text-cyan",children:[(0,hl.jsx)(Gf,{className:"w-8 h-8"}),"Leaderboard"]}),0===a.length?(0,hl.jsx)("p",{className:"text-white/60 text-center",children:"No scores yet today. Be the first!"}):(0,hl.jsx)("div",{className:"space-y-3",children:a.map(e=>{var t,r,a,i;const s=e.student_id===n,o=e.rank<=3;return(0,hl.jsx)("div",{className:"p-4 rounded-2xl transition-all duration-200 ".concat(s?"neon-border-pink bg-pink-900/40 scale-105":o?"neon-border-cyan bg-purple-900/40":"neon-border-purple bg-purple-900/20"),children:(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center text-xl font-black text-white",children:((null===(t=e.students)||void 0===t?void 0:t.full_name)||(null===(r=e.students)||void 0===r?void 0:r.username)||"U")[0]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("span",{className:"text-2xl",children:c(e.rank)}),(0,hl.jsx)("span",{className:"text-white font-bold text-lg",children:(null===(a=e.students)||void 0===a?void 0:a.full_name)||(null===(i=e.students)||void 0===i?void 0:i.username)||"Unknown"})]}),s&&(0,hl.jsx)("span",{className:"text-cyan-300 text-sm font-semibold",children:"(You)"})]})]}),(0,hl.jsx)("div",{className:"text-right",children:(0,hl.jsx)("div",{className:"coin-badge px-3 py-1 rounded-full inline-block",children:(0,hl.jsxs)("span",{className:"text-white font-black text-lg",children:[Math.round(e.avg_score||e.score||0),"%"]})})})]})},e.id)})}),null!==r&&!a.find(e=>e.student_id===n)&&(0,hl.jsx)("div",{className:"mt-4 p-4 neon-border-cyan bg-cyan-900/30 rounded-2xl",children:(0,hl.jsxs)("p",{className:"text-white text-center font-semibold",children:["Your score: ",(0,hl.jsxs)("span",{className:"text-cyan-300 font-black text-xl",children:[Math.round(r),"%"]}),(0,hl.jsx)("br",{}),(0,hl.jsx)("span",{className:"text-sm text-cyan-300/80",children:"Submit to see your rank!"})]})})]})},bp=Bf("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),wp=e=>{let{feedback:t,score:n,onContinue:r,onPractice:a}=e;if(!t)return(0,hl.jsx)("div",{className:"p-6 text-center",children:(0,hl.jsx)("p",{className:"text-gray-400",children:"Feedback not available"})});const{strengths:i=[],weaknesses:s=[],ai_insights:o=""}=t,l=(c=n)>=90?{emoji:"\ud83c\udf89",message:"Outstanding!"}:c>=75?{emoji:"\ud83c\udf1f",message:"Great Job!"}:c>=60?{emoji:"\ud83d\udc4d",message:"Good Work!"}:c>=40?{emoji:"\ud83d\udcaa",message:"Keep Going!"}:{emoji:"\ud83d\udcda",message:"Practice More!"};var c;return(0,hl.jsxs)("div",{className:"p-6 space-y-6",children:[(0,hl.jsxs)(xf.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-center",children:[(0,hl.jsx)("div",{className:"text-6xl mb-2",children:l.emoji}),(0,hl.jsx)("h2",{className:"text-3xl font-black text-white mb-1",children:l.message}),(0,hl.jsxs)("p",{className:"text-cyan-300 text-lg",children:["Score: ",Math.round(n),"%"]})]}),i.length>0&&(0,hl.jsxs)(xf.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"bg-gradient-to-br from-green-900/40 to-green-800/40 backdrop-blur-lg rounded-2xl p-5 border-2 border-green-500/30",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-green-300",children:"\ud83d\udcaa Your Strengths"})]}),(0,hl.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,hl.jsxs)(xf.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+.1*t},className:"flex items-center gap-2 text-white bg-green-500/20 rounded-lg p-3",children:[(0,hl.jsx)("span",{className:"text-green-400",children:"\u2713"}),(0,hl.jsx)("span",{className:"font-semibold",children:e})]},t))})]}),s.length>0&&(0,hl.jsxs)(xf.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 backdrop-blur-lg rounded-2xl p-5 border-2 border-orange-500/30",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,hl.jsx)(Qf,{className:"w-6 h-6 text-orange-400"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-orange-300",children:"\ud83d\udcda Practice These"})]}),(0,hl.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>(0,hl.jsxs)(xf.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5+.1*t},className:"flex items-center gap-2 text-white bg-orange-500/20 rounded-lg p-3",children:[(0,hl.jsx)("span",{className:"text-orange-400",children:"\u2192"}),(0,hl.jsx)("span",{className:"font-semibold",children:e})]},t))})]}),o&&(0,hl.jsxs)(xf.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 backdrop-blur-lg rounded-2xl p-5 border-2 border-blue-500/30",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,hl.jsx)(bp,{className:"w-6 h-6 text-blue-400"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-blue-300",children:"\ud83d\udca1 AI Insights"})]}),(0,hl.jsx)("div",{className:"text-white bg-blue-500/20 rounded-lg p-4 leading-relaxed",children:(0,hl.jsx)("p",{className:"font-medium whitespace-pre-wrap",children:o})})]}),(0,hl.jsxs)(xf.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"flex gap-4 pt-4",children:[a&&s.length>0&&(0,hl.jsxs)("button",{onClick:a,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold py-4 px-6 rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5"}),"Practice Now"]}),(0,hl.jsx)("button",{onClick:r,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold py-4 px-6 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Continue"})]}),(0,hl.jsx)(xf.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-sm text-cyan-400/60 pt-2",children:(0,hl.jsx)("p",{children:"\ud83e\udde0 Keep practicing to strengthen your neural pathways!"})})]})};var jp=n(9885);const _p=new class{constructor(){const e="/fluence-daily-quiz-v3",t=(t,n)=>["".concat(e,"/sounds/").concat(t,".mp3"),n],n="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",r="https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3",a="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3",i="https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3",s="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3",o="https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3";this.sounds={correct:new jp.Howl({src:t("correct",n),volume:.5,preload:!0,onload:()=>console.log("[SoundService] \u2705 correct sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for correct sound")}}),wrong:new jp.Howl({src:t("wrong",r),volume:.4,preload:!0,onload:()=>console.log("[SoundService] \u2705 wrong sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for wrong sound")}}),tick:new jp.Howl({src:t("tick",a),volume:.2,loop:!0,preload:!0,onload:()=>console.log("[SoundService] \u2705 tick sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for tick sound")}}),powerup:new jp.Howl({src:t("powerup",i),volume:.6,preload:!0,onload:()=>console.log("[SoundService] \u2705 powerup sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for powerup sound")}}),levelup:new jp.Howl({src:t("levelup",s),volume:.7,preload:!0,onload:()=>console.log("[SoundService] \u2705 levelup sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for levelup sound")}}),complete:new jp.Howl({src:t("complete",o),volume:.8,preload:!0,onload:()=>console.log("[SoundService] \u2705 complete sound loaded"),onloaderror:(e,t)=>{console.warn("[SoundService] Using fallback for complete sound")}})},this.bgMusic=new jp.Howl({src:["".concat(e,"/sounds/background-music.mp3")],loop:!0,volume:.2,html5:!0,preload:!0,format:["mp3"],onload:()=>{console.log("[SoundService] \u2705 Background music loaded successfully!")},onloaderror:(e,t)=>{console.warn("[SoundService] background-music.mp3 not found - see public/sounds/SOUND-SOURCES.md")},onplayerror:(e,t)=>{console.error("[SoundService] \u274c Playback error:",t),console.log("[SoundService] Click anywhere on the page first (browser requires user interaction)")}}),this.enabled=!0,this.musicEnabled=!1}startBackgroundMusic(){this.musicEnabled=!0,this.bgMusic.play()}stopBackgroundMusic(){this.musicEnabled=!1,this.bgMusic.stop()}play(e){this.enabled&&this.sounds[e]&&this.sounds[e].play()}stop(e){this.sounds[e]&&this.sounds[e].stop()}toggleMusic(){return this.musicEnabled=!this.musicEnabled,this.musicEnabled?this.bgMusic.play():this.bgMusic.stop(),this.musicEnabled}toggleSFX(){return this.enabled=!this.enabled,this.enabled}isMusicEnabled(){return this.musicEnabled}isSFXEnabled(){return this.enabled}},kp=e=>{let{score:n,correctAnswers:r,incorrectAnswers:a=0,totalQuestions:i,timeTaken:s,studentId:o,onRestart:l,lives:c=0,maxStreak:u=0,totalScore:d=0,onSubmit:h,submitting:f=!1,submitted:p=!1,submitError:m=null,isReplayMode:g=!1,feedback:y=null}=e;const v=Math.round(n),[x,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{_p.play("complete"),v>=70&&(b(!0),setTimeout(()=>b(!1),5e3)),console.log("[ResultScreen] Props received:",{submitted:p,isReplayMode:g,hasFeedback:!!y,feedback:y})},[v,p,y,g]);const w=v>=90?{text:"Outstanding! \ud83c\udf1f",color:"text-yellow-400"}:v>=75?{text:"Great Job! \ud83c\udf89",color:"text-green-400"}:v>=60?{text:"Good Work! \ud83d\udc4d",color:"text-blue-400"}:{text:"Keep Practicing! \ud83d\udcaa",color:"text-orange-400"};return(0,hl.jsxs)("div",{className:"min-h-screen game-bg p-4 flex items-center justify-center",children:[x&&(0,hl.jsx)(pp,{recycle:!1,numberOfPieces:500}),(0,hl.jsxs)("div",{className:"max-w-4xl w-full space-y-6",children:[(0,hl.jsxs)(xf.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-8 text-center shadow-2xl",children:[(0,hl.jsx)(xf.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:2},children:(0,hl.jsx)(Gf,{className:"w-20 h-20 text-yellow-400 mx-auto mb-4"})}),(0,hl.jsx)("h1",{className:"text-5xl font-bold mb-4 ".concat(w.color),children:w.text}),(0,hl.jsxs)("div",{className:"text-7xl font-bold text-white mb-6",children:[v,"%"]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"neon-border-cyan bg-cyan-900/30 rounded-2xl p-4",children:[(0,hl.jsx)(Qf,{className:"w-8 h-8 text-cyan-300 mx-auto mb-2"}),(0,hl.jsx)("div",{className:"text-cyan-300 text-sm font-semibold",children:"Score"}),(0,hl.jsxs)("div",{className:"text-white font-black text-2xl",children:[r,"/",i]})]}),(0,hl.jsxs)("div",{className:"neon-border-purple bg-purple-900/30 rounded-2xl p-4",children:[(0,hl.jsx)(Yf,{className:"w-8 h-8 text-purple-300 mx-auto mb-2"}),(0,hl.jsx)("div",{className:"text-purple-300 text-sm font-semibold",children:"Accuracy"}),(0,hl.jsxs)("div",{className:"text-white font-black text-2xl",children:[v,"%"]})]}),(0,hl.jsxs)("div",{className:"neon-border-pink bg-red-900/30 rounded-2xl p-4",children:[(0,hl.jsx)($f,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),(0,hl.jsx)("div",{className:"text-red-300 text-sm font-semibold",children:"Incorrect"}),(0,hl.jsx)("div",{className:"text-white font-black text-2xl",children:a})]}),(0,hl.jsxs)("div",{className:"neon-border-purple bg-orange-900/30 rounded-2xl p-4",children:[(0,hl.jsx)(Xf,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),(0,hl.jsx)("div",{className:"text-orange-300 text-sm font-semibold",children:"Best Streak"}),(0,hl.jsx)("div",{className:"text-white font-black text-2xl",children:u})]})]}),d>0&&!g&&(0,hl.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl p-4 mb-6 border border-purple-400/30",children:[(0,hl.jsx)("div",{className:"text-white/80 text-sm mb-1",children:"Total Points Earned"}),(0,hl.jsx)("div",{className:"text-white font-bold text-3xl",children:d})]}),g&&(0,hl.jsxs)("div",{className:"bg-cyan-500/20 border border-cyan-400 rounded-xl p-4 mb-6 flex items-center justify-center gap-2",children:[(0,hl.jsx)(Jf,{className:"w-6 h-6 text-cyan-400"}),(0,hl.jsx)("span",{className:"text-cyan-400 font-bold",children:"Review Complete - No Points Awarded"})]}),!g&&(0,hl.jsxs)("div",{className:"space-y-4 mb-6",children:[!p&&!m&&(0,hl.jsx)("button",{onClick:h,disabled:f,className:"neon-border-pink bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-black text-lg py-4 px-8 rounded-full hover:from-yellow-500 hover:to-orange-500 transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none uppercase tracking-wider",children:f?(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Zf,{className:"w-5 h-5 animate-spin"}),"Submitting Results..."]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(ep,{className:"w-5 h-5"}),"Submit Results"]})}),p&&(0,hl.jsxs)("div",{className:"bg-green-500/20 border border-green-400 rounded-xl p-4 flex items-center justify-center gap-2",children:[(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"}),(0,hl.jsx)("span",{className:"text-green-400 font-bold",children:"Results Submitted Successfully!"})]}),m&&(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsxs)("div",{className:"bg-red-500/20 border border-red-400 rounded-xl p-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,hl.jsx)($f,{className:"w-6 h-6 text-red-400"}),(0,hl.jsx)("span",{className:"text-red-400 font-bold",children:"Submission Failed"})]}),(0,hl.jsx)("p",{className:"text-red-300 text-sm",children:m})]}),(0,hl.jsx)("button",{onClick:h,disabled:f,className:"bg-gradient-to-r from-red-400 to-pink-500 text-white font-bold py-3 px-6 rounded-xl hover:from-red-500 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Zf,{className:"w-5 h-5 animate-spin"}),"Retrying..."]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(ep,{className:"w-5 h-5"}),"Retry Submission"]})})]})]}),(0,hl.jsxs)("button",{onClick:l,className:"neon-border-cyan bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-black text-lg py-4 px-8 rounded-full hover:from-cyan-500 hover:to-blue-500 transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center gap-2 mx-auto uppercase tracking-wider",children:[(0,hl.jsx)(tp,{className:"w-6 h-6"}),"Back to Home"]})]}),y&&p&&!g&&(0,hl.jsx)(xf.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.5},className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden",children:(0,hl.jsx)(wp,{feedback:y,score:n,onContinue:l,onPractice:()=>{alert("Practice mode coming soon! \ud83d\ude80")}})}),(0,hl.jsx)(xp,{currentStudentId:o,currentScore:n})]})]})},Sp=Bf("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Np=e=>{let{question:t,selectedAnswer:n,onAnswerSelect:r,showResult:a,isCorrect:i,hiddenOptions:s=[],showCorrectAnswer:o=!1}=e,l=[];try{Array.isArray(t.options)?l=t.options:"string"===typeof t.options&&t.options.trim()&&(l=JSON.parse(t.options))}catch(dH){console.error("[MCQQuestion] Failed to parse options:",dH)}Array.isArray(l)||(l=[]);const c=["A","B","C","D","E","F"];return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center leading-relaxed",children:t.question_text}),(0,hl.jsx)("div",{className:"space-y-3",children:l.map((e,l)=>{const u=n===e,d=e===t.correct_answer,h=s.some(t=>String(t).trim()===String(e).trim()),f=o&&d;if(h)return(0,hl.jsx)("div",{className:"w-full p-4 rounded-2xl bg-purple-900/20 border-2 border-purple-700/30 opacity-40",children:(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("span",{className:"neon-border-purple bg-purple-800/40 text-purple-300 font-black text-sm w-8 h-8 rounded-full flex items-center justify-center",children:c[l]}),(0,hl.jsx)("span",{className:"text-white/40 font-medium italic",children:"Hidden by 50:50"})]})},l);let p="neon-border-purple bg-purple-900/40",m=null;return a&&u?i?(p="neon-border-cyan bg-green-900/40 scale-105",m=(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"})):(p="neon-border-pink bg-red-900/40",m=(0,hl.jsx)(Sp,{className:"w-6 h-6 text-red-400"})):a&&d?(p="neon-border-cyan bg-green-900/40",m=(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"})):u?p="neon-border-cyan bg-cyan-900/40":f&&(p="neon-border-pink bg-yellow-900/40 animate-pulse"),(0,hl.jsx)("button",{onClick:()=>!a&&r(e),disabled:a,className:"w-full p-4 rounded-2xl ".concat(p,"\n                hover:scale-[1.02] transition-all duration-200\n                ").concat(!a&&"hover:brightness-110 cursor-pointer","\n                ").concat(a&&"cursor-not-allowed"),children:(0,hl.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,hl.jsx)("span",{className:"coin-badge text-white font-black text-sm w-8 h-8 rounded-full flex items-center justify-center shrink-0",children:c[l]}),(0,hl.jsx)("span",{className:"text-white font-semibold text-left",children:e})]}),m]})},l)})}),a&&t.explanation&&(0,hl.jsx)("div",{className:"mt-6 p-5 rounded-2xl ".concat(i?"neon-border-cyan bg-green-900/30":"neon-border-purple bg-purple-900/30"),children:(0,hl.jsxs)("div",{className:"flex items-start gap-3",children:[(0,hl.jsx)(Jf,{className:"w-5 h-5 text-cyan-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:t.explanation})]})]})})]})},Ep=Bf("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Op=Bf("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pp=e=>{let{question:t,selectedAnswer:n,onAnswerSelect:r,showResult:a,isCorrect:i,showCorrectAnswer:s=!1}=e;const o=(e,o,l,c)=>{const u=n===e,d=t.correct_answer.toLowerCase()===e.toLowerCase(),h=s&&d;let f="neon-border-purple bg-purple-900/40",p=null;return a&&u?i?(f="neon-border-cyan bg-green-900/40 scale-105",p=(0,hl.jsx)(Jf,{className:"w-8 h-8 text-green-400 absolute top-4 right-4"})):(f="neon-border-pink bg-red-900/40",p=(0,hl.jsx)(Sp,{className:"w-8 h-8 text-red-400 absolute top-4 right-4"})):a&&d?(f="neon-border-cyan bg-green-900/40",p=(0,hl.jsx)(Jf,{className:"w-8 h-8 text-green-400 absolute top-4 right-4"})):u?f="neon-border-cyan bg-cyan-900/40":h&&(f="neon-border-pink bg-yellow-900/40 animate-pulse"),(0,hl.jsxs)("button",{onClick:()=>!a&&r(e),disabled:a,className:"flex-1 p-8 rounded-3xl ".concat(f," relative\n          hover:scale-[1.02] transition-all duration-200 flex flex-col items-center gap-4\n          ").concat(!a&&"hover:brightness-110 cursor-pointer","\n          ").concat(a&&"cursor-not-allowed"),children:[p,(0,hl.jsx)("div",{className:"w-20 h-20 rounded-full ".concat(c," flex items-center justify-center neon-border-").concat(c.includes("green")?"cyan":"pink"),children:o}),(0,hl.jsx)("span",{className:"text-3xl font-black text-white tracking-wider",children:l})]})};return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white mb-8 text-center leading-relaxed",children:t.question_text}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[o("true",(0,hl.jsx)(Ep,{className:"w-12 h-12 text-white"}),"TRUE","bg-green-600/30"),o("false",(0,hl.jsx)(Op,{className:"w-12 h-12 text-white"}),"FALSE","bg-red-600/30")]}),a&&t.explanation&&(0,hl.jsx)("div",{className:"mt-6 p-5 rounded-2xl ".concat(i?"neon-border-cyan bg-green-900/30":"neon-border-purple bg-purple-900/30"),children:(0,hl.jsxs)("div",{className:"flex items-start gap-3",children:[(0,hl.jsx)(bp,{className:"w-5 h-5 text-cyan-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:t.explanation})]})]})})]})},Ap=e=>{let{question:n,selectedAnswer:r,onAnswerSelect:a,showResult:i,isCorrect:s}=e;const[o,l]=(0,t.useState)(r||"");(0,t.useEffect)(()=>{l(r||"")},[r]);return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center leading-relaxed",children:n.question_text}),(0,hl.jsxs)("div",{className:"relative",children:[(0,hl.jsx)("textarea",{value:o,onChange:e=>{const t=e.target.value;t.length<=500&&l(t)},onBlur:()=>{o.trim()&&a(o)},disabled:i,placeholder:"Type your answer here... \u270d\ufe0f",className:"w-full p-4 rounded-2xl bg-purple-900/40 text-white font-medium text-lg\n            placeholder-cyan-300/50 resize-none focus:outline-none\n            transition-all duration-200\n            ".concat(i&&s&&"neon-border-cyan bg-green-900/40","\n            ").concat(i&&!s&&"neon-border-pink bg-red-900/40","\n            ").concat(!i&&"neon-border-purple focus:neon-border-cyan"),rows:"5"}),(0,hl.jsxs)("div",{className:"absolute bottom-3 right-3 coin-badge px-2 py-1 rounded-full text-xs font-bold",children:[o.length,"/",500]})]}),i&&(0,hl.jsxs)("div",{className:"p-5 rounded-2xl ".concat(s?"neon-border-cyan bg-green-900/30":"neon-border-purple bg-purple-900/30"),children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s?(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"}):(0,hl.jsx)(Sp,{className:"w-6 h-6 text-red-400"}),(0,hl.jsx)("span",{className:"font-black text-lg ".concat(s?"text-green-400":"text-red-400"),children:s?"Correct!":"Not Quite"})]}),!s&&(0,hl.jsxs)("div",{className:"flex items-start gap-3 mt-3",children:[(0,hl.jsx)(bp,{className:"w-5 h-5 text-yellow-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Expected Answer:"}),(0,hl.jsx)("p",{className:"text-white font-medium",children:n.correct_answer})]})]}),n.explanation&&(0,hl.jsxs)("div",{className:"flex items-start gap-3 ".concat(s?"":"mt-3 pt-3 border-t border-purple-500/30"),children:[(0,hl.jsx)(bp,{className:"w-5 h-5 text-cyan-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:n.explanation})]})]})]})]})},Tp=Bf("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Cp=Bf("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Mp=e=>{let{question:n,selectedAnswer:r,onAnswerSelect:a,showResult:i}=e;const[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(r||""),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)("");(0,t.useEffect)(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return void f("Speech recognition not supported in this browser. Please use Chrome or Edge.");const t=new e;t.lang="en-IN",t.continuous=!1,t.interimResults=!1,t.onresult=e=>{const t=e.results[0][0].transcript;c(t),a(t),o(!1)},t.onerror=e=>{console.error("Speech recognition error:",e.error),f("Error: ".concat(e.error)),o(!1)},t.onend=()=>{o(!1)},d(t)},[a]);return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center leading-relaxed",children:n.question_text}),(0,hl.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[!h&&(0,hl.jsxs)("button",{onClick:s?()=>{u&&s&&(u.stop(),o(!1))}:()=>{u&&!i&&(f(""),o(!0),u.start())},disabled:i,className:"relative p-12 rounded-full transition-all duration-300 ".concat(s?"neon-border-pink bg-red-900/40 animate-pulse scale-110":"neon-border-cyan bg-cyan-900/40 hover:scale-105"," ").concat(i&&"opacity-50 cursor-not-allowed neon-border-purple bg-purple-900/40"),children:[s?(0,hl.jsx)(Tp,{className:"w-16 h-16 text-white fill-white"}):(0,hl.jsx)(Cp,{className:"w-16 h-16 text-white"}),s&&(0,hl.jsx)("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full animate-pulse"})]}),(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"text-white text-xl font-black",children:s?"\ud83d\udd34 Recording... Speak now!":"\ud83c\udfa4 Click to record your answer"}),(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mt-2",children:s?"Click again to stop":"Speak clearly in English"})]}),h&&(0,hl.jsxs)("div",{className:"w-full p-5 neon-border-pink bg-red-900/30 rounded-2xl",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,hl.jsx)($f,{className:"w-6 h-6 text-red-400"}),(0,hl.jsx)("p",{className:"text-white font-bold",children:"Error"})]}),(0,hl.jsx)("p",{className:"text-white/90 mb-3",children:h}),(0,hl.jsx)("p",{className:"text-white/70 text-sm",children:"Try typing your answer in a short answer instead."})]}),l&&(0,hl.jsxs)("div",{className:"w-full p-5 neon-border-cyan bg-purple-900/30 rounded-2xl",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,hl.jsx)(Jf,{className:"w-5 h-5 text-cyan-300"}),(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-bold",children:"Your Answer:"})]}),(0,hl.jsxs)("p",{className:"text-white font-semibold text-lg bg-purple-900/40 p-4 rounded-xl",children:['"',l,'"']})]})]}),i&&n.explanation&&(0,hl.jsxs)("div",{className:"mt-4 p-5 neon-border-purple bg-purple-900/30 rounded-2xl",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-bold mb-2",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white font-medium",children:n.explanation})]})]})},Dp=e=>{let{question:n,selectedAnswer:r,onAnswerSelect:a,showResult:i,isCorrect:s}=e;const o=/_{2,}/g,l=(n.question_text.match(o)||[]).length,c=()=>{if(r)try{const e=JSON.parse(r);return Array.isArray(e)?e:[r]}catch(hH){return[r]}return Array(Math.max(1,l)).fill("")},[u,d]=(0,t.useState)(c);(0,t.useEffect)(()=>{d(c())},[r,l]);const h=()=>{if(i)return;if(!u.some(e=>e.trim()))return;const e=l>1?JSON.stringify(u):u[0];a(e)},f=()=>{u.every(e=>e.trim())&&!i&&h()};return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{className:"bg-purple-900/30 neon-border-purple rounded-2xl p-6",children:[(()=>{const e=n.question_text.split(o);let r=0;return(0,hl.jsx)("div",{className:"text-2xl font-bold text-white mb-2 flex items-center flex-wrap gap-3 justify-center",children:e.map((n,a)=>(0,hl.jsxs)(t.Fragment,{children:[n&&(0,hl.jsx)("span",{className:"text-cyan-300",children:n}),a<e.length-1&&(0,hl.jsxs)("div",{className:"inline-block",children:[(0,hl.jsx)("input",{id:"blank-".concat(r),type:"text",value:u[r]||"",onChange:e=>((e,t)=>{const n=[...u];n[e]=t,d(n)})(r,e.target.value),onBlur:f,onKeyPress:e=>((e,t)=>{if("Enter"===e.key&&!i)if(t===u.length-1||1===u.length)u.every(e=>e.trim())&&h();else{const e=document.getElementById("blank-".concat(t+1));e&&e.focus()}})(e,r),disabled:i,className:"px-4 py-3 rounded-xl text-white text-center font-black text-xl\n                    placeholder-cyan-300/50 focus:outline-none min-w-[200px]\n                    transition-all duration-200\n                    ".concat(i&&s&&"neon-border-cyan bg-green-900/40","\n                    ").concat(i&&!s&&"neon-border-pink bg-red-900/40","\n                    ").concat(!i&&"neon-border-purple bg-purple-900/60 focus:neon-border-cyan"),placeholder:"Blank ".concat(r+1),autoFocus:0===r&&!i}),(r++,null)]},"input-".concat(r))]},a))})})(),l>1&&!i&&(0,hl.jsxs)("p",{className:"text-cyan-300/70 text-sm text-center mt-4",children:["Fill in all ",l," blanks \u2022 Press Enter to move to next"]})]}),i&&(0,hl.jsxs)("div",{className:"p-5 rounded-2xl ".concat(s?"neon-border-cyan bg-green-900/30":"neon-border-purple bg-purple-900/30"),children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s?(0,hl.jsx)(Jf,{className:"w-6 h-6 text-green-400"}):(0,hl.jsx)(Sp,{className:"w-6 h-6 text-red-400"}),(0,hl.jsx)("span",{className:"font-black text-lg ".concat(s?"text-green-400":"text-red-400"),children:s?"Perfect!":"Not Quite"})]}),!s&&(0,hl.jsxs)("div",{className:"flex items-start gap-3 mt-3",children:[(0,hl.jsx)(bp,{className:"w-5 h-5 text-yellow-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:["Correct Answer",l>1?"s":"",":"]}),(0,hl.jsx)("p",{className:"text-white font-black text-xl",children:n.correct_answer})]})]}),n.explanation&&(0,hl.jsxs)("div",{className:"flex items-start gap-3 mt-4 pt-4 border-t border-purple-500/30",children:[(0,hl.jsx)(bp,{className:"w-5 h-5 text-cyan-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:n.explanation})]})]})]})]})},Ip=e=>{var n,r;let{question:a,selectedAnswer:i,onAnswerSelect:s,showResult:o,isCorrect:l}=e,c={left:[],right:[]};try{"string"===typeof a.options?c=JSON.parse(a.options||'{"left":[],"right":[]}'):a.options&&(c=a.options)}catch(dH){console.error("[MatchQuestion] Failed to parse options:",dH)}const d={left:Array.isArray(null===(n=c)||void 0===n?void 0:n.left)?c.left:[],right:Array.isArray(null===(r=c)||void 0===r?void 0:r.right)?c.right:[]},h="string"===typeof a.correct_answer?JSON.parse(a.correct_answer||"{}"):a.correct_answer||{},[f,p]=(0,t.useState)({}),[m,g]=(0,t.useState)(a.id),[y,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{a.id!==m&&(console.log("[MatchQuestion] NEW question detected, resetting matches. Old ID:",m,"New ID:",a.id),g(a.id),p({}),v(!1),setTimeout(()=>{v(!0)},50))},[a.id,m]),(0,t.useEffect)(()=>{if(i&&"string"===typeof i&&m===a.id&&y)try{const e=JSON.parse(i);0===Object.keys(f).length&&Object.keys(e).length>0&&(console.log("[MatchQuestion] Restoring previous answer:",e),p(e))}catch(dH){console.error("[MatchQuestion] Failed to parse selectedAnswer:",dH)}},[i,m,a.id,y,f]),(0,t.useEffect)(()=>{var e;const t=(null===(e=d.left)||void 0===e?void 0:e.length)||0,n=Object.keys(f).length,r=m===a.id;t>0&&n>0&&n===t&&!o&&r&&(console.log("[MatchQuestion] All items matched, auto-submitting...",{leftItemsCount:t,matchedCount:n,matches:f,currentQuestionId:m,questionId:a.id}),s(JSON.stringify(f)))},[f,d.left,s,o,m,a.id]);return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center leading-relaxed",children:a.question_text}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-2 text-center",children:"Match These"}),d.left.map((e,t)=>{const n=f[e],r=o&&h[e]===n,a=!!n;let i="neon-border-purple bg-purple-900/40",s=null;return o&&r?(i="neon-border-cyan bg-green-900/40 scale-105",s=(0,hl.jsx)(Jf,{className:"w-5 h-5 text-green-400"})):o&&a?(i="neon-border-pink bg-red-900/40",s=(0,hl.jsx)(Sp,{className:"w-5 h-5 text-red-400"})):a&&(i="neon-border-cyan bg-cyan-900/40"),(0,hl.jsx)("div",{className:"p-4 rounded-2xl ".concat(i," transition-all duration-200 relative"),children:(0,hl.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,hl.jsx)("span",{className:"text-white font-semibold",children:e}),(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Wf,{className:"w-4 h-4 text-cyan-300"}),(0,hl.jsx)("span",{className:"text-white/90 text-sm font-medium",children:n})]}),s]})]})},t)})]}),(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-2 text-center",children:"With These"}),d.right.map((e,t)=>{const n=Object.values(f).includes(e);return(0,hl.jsx)("button",{onClick:()=>{const t=d.left.find(e=>!f[e]);var n,r;t&&(n=t,r=e,o||p(e=>u(u({},e),{},{[n]:r})))},disabled:o||n,className:"w-full p-4 rounded-2xl text-left transition-all duration-200\n                  ".concat(n?"neon-border-purple bg-purple-900/20 opacity-40":"neon-border-purple bg-purple-900/40","\n                  ").concat(!o&&!n&&"hover:neon-border-cyan hover:bg-cyan-900/30 hover:scale-[1.02] cursor-pointer","\n                  ").concat(o&&"cursor-not-allowed"),children:(0,hl.jsx)("span",{className:"text-white font-semibold",children:e})},t)})]})]}),o&&(0,hl.jsxs)("div",{className:"mt-4 p-5 rounded-2xl neon-border-cyan bg-purple-900/30",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,hl.jsx)(Jf,{className:"w-5 h-5 text-cyan-300"}),(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-bold",children:"Correct Matches:"})]}),Object.entries(h).map((e,t)=>{let[n,r]=e;return(0,hl.jsxs)("div",{className:"flex items-center gap-3 text-white mb-2 last:mb-0 bg-purple-900/40 p-3 rounded-xl",children:[(0,hl.jsx)("span",{className:"font-semibold",children:n}),(0,hl.jsx)(Wf,{className:"w-4 h-4 text-cyan-300"}),(0,hl.jsx)("span",{className:"font-semibold text-cyan-300",children:r})]},t)}),a.explanation&&(0,hl.jsxs)("div",{className:"flex items-start gap-3 mt-4 pt-4 border-t border-purple-500/30",children:[(0,hl.jsx)(Jf,{className:"w-5 h-5 text-cyan-400 mt-1 shrink-0"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm font-semibold mb-1",children:"Explanation:"}),(0,hl.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:a.explanation})]})]})]})]})},Rp=e=>{let{lives:t,correctCount:n=0,incorrectCount:r=0,streak:a,score:i,onlyTimer:s=!1}=e;return s?(0,hl.jsx)("div",{className:"flex items-center gap-2",children:(0,hl.jsxs)(xf.div,{className:"neon-border-yellow bg-orange-900/60 rounded-full px-3 py-2 flex items-center gap-1.5 ".concat(a>0?"opacity-100":"opacity-50"),animate:{scale:a>0?[1,1.1,1]:1},transition:{duration:.3},children:[(0,hl.jsx)("span",{className:"text-xl",children:"\ud83d\udd25"}),(0,hl.jsx)("span",{className:"text-base font-black ".concat(a>0?"text-yellow-300":"text-gray-400"),children:a})]})}):null},Lp=e=>{let{current:t,total:n}=e;const r=t/n*100;return(0,hl.jsxs)("div",{className:"mb-3",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,hl.jsxs)("span",{className:"text-white/70 text-xs font-semibold",children:["Question ",t," of ",n]}),(0,hl.jsxs)("span",{className:"text-white/70 text-xs font-semibold",children:[Math.round(r),"%"]})]}),(0,hl.jsx)("div",{className:"relative h-2 bg-purple-900/40 rounded-full overflow-hidden neon-border-purple",children:(0,hl.jsx)(xf.div,{className:"h-full bg-gradient-to-r from-cyan-400 to-blue-500",initial:{width:0},animate:{width:"".concat(r,"%")},transition:{duration:.5,ease:"easeOut"}})})]})},zp=Bf("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Fp=Bf("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),qp=Bf("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Bp=Bf("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Up=Bf("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Vp=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ca.from("quiz_history").select("*").eq("student_id",e).order("quiz_date",{ascending:!1});t.subject&&(n=n.eq("subject",t.subject)),t.startDate&&(n=n.gte("quiz_date",t.startDate)),t.endDate&&(n=n.lte("quiz_date",t.endDate));const{data:r,error:a}=await n;return a?(console.error("Error fetching quiz history:",a),[]):r||[]},Hp=Bf("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Wp=e=>{let{student:n,onClose:r}=e;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("30");(0,t.useEffect)(()=>{n&&u()},[n,l]);const u=async()=>{o(!0);try{const e=await Vp(n.id),t=new Date;t.setDate(t.getDate()-parseInt(l));const r=e.filter(e=>new Date(e.quiz_date)>=t).sort((e,t)=>new Date(e.quiz_date)-new Date(t.quiz_date));i(r)}catch(e){console.error("Error loading history:",e)}finally{o(!1)}},d=(()=>{if(0===a.length)return null;const e=a.map(e=>e.score),t=e.reduce((e,t)=>e+t,0)/e.length,n=e[e.length-1],r=e[0],i=n-r,s=i>0?"up":i<0?"down":"stable";return{average:t.toFixed(1),latest:n.toFixed(1),first:r.toFixed(1),change:Math.abs(i).toFixed(1),trend:s,totalQuizzes:a.length}})(),h=(()=>{if(0===a.length)return"";const e=a.map(e=>e.score),t=Math.max(...e),n=Math.min(...e),r=t-n||1;return a.map((e,t)=>{const i=20+60*t/(a.length-1||1),s=80-(e.score-n)/r*60;return"".concat(i,",").concat(s)}).join(" ")})();return(0,hl.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/95 to-blue-900/95 rounded-3xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto neon-border-cyan",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-3xl font-black text-white mb-1",children:"\ud83d\udcc8 Progress Chart"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Your learning journey over time"})]}),(0,hl.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-all",children:(0,hl.jsx)(Op,{className:"w-6 h-6 text-white"})})]}),(0,hl.jsx)("div",{className:"flex gap-2 mb-6",children:["7","30","90"].map(e=>(0,hl.jsxs)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-xl font-bold transition-all ".concat(l===e?"bg-cyan-500 text-white neon-border-cyan":"bg-white/10 text-cyan-300 hover:bg-white/20"),children:["Last ",e," Days"]},e))}),s?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-cyan-400 mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-white",children:"Loading your progress..."})]}):0===a.length?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(zp,{className:"w-20 h-20 text-cyan-400 mx-auto mb-4 opacity-50"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Data Yet"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Complete more quizzes to see your progress!"})]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"bg-white/10 rounded-2xl p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1",children:"Total Quizzes"}),(0,hl.jsx)("p",{className:"text-white font-black text-3xl",children:d.totalQuizzes})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-2xl p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1",children:"Average Score"}),(0,hl.jsxs)("p",{className:"text-white font-black text-3xl",children:[d.average,"%"]})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-2xl p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1",children:"Latest Score"}),(0,hl.jsxs)("p",{className:"text-white font-black text-3xl",children:[d.latest,"%"]})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-2xl p-4 text-center ".concat("up"===d.trend?"neon-border-green":"down"===d.trend?"neon-border-pink":""),children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1",children:"Trend"}),(0,hl.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["up"===d.trend&&(0,hl.jsx)(Yf,{className:"w-6 h-6 text-green-400"}),"down"===d.trend&&(0,hl.jsx)(Hp,{className:"w-6 h-6 text-red-400"}),(0,hl.jsxs)("p",{className:"font-black text-2xl ".concat("up"===d.trend?"text-green-400":"down"===d.trend?"text-red-400":"text-gray-400"),children:[d.change,"%"]})]})]})]}),(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-2xl p-6 neon-border-purple",children:[(0,hl.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-64",preserveAspectRatio:"none",children:[(0,hl.jsx)("line",{x1:"10",y1:"20",x2:"90",y2:"20",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.2"}),(0,hl.jsx)("line",{x1:"10",y1:"40",x2:"90",y2:"40",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.2"}),(0,hl.jsx)("line",{x1:"10",y1:"60",x2:"90",y2:"60",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.2"}),(0,hl.jsx)("line",{x1:"10",y1:"80",x2:"90",y2:"80",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.2"}),h&&(0,hl.jsx)("polygon",{points:"10,90 ".concat(h," 90,90"),fill:"url(#gradient)",opacity:"0.3"}),h&&(0,hl.jsx)("polyline",{points:h,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"0.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((e,t)=>{const n=a.map(e=>e.score),r=Math.max(...n),i=Math.min(...n),s=r-i||1,o=10+80*t/(a.length-1||1),l=90-(e.score-i)/s*70;return(0,hl.jsx)("circle",{cx:o,cy:l,r:"0.8",fill:"#06b6d4",className:"drop-shadow-lg"},t)}),(0,hl.jsxs)("defs",{children:[(0,hl.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,hl.jsx)("stop",{offset:"0%",style:{stopColor:"#06b6d4",stopOpacity:.8}}),(0,hl.jsx)("stop",{offset:"100%",style:{stopColor:"#06b6d4",stopOpacity:0}})]}),(0,hl.jsxs)("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,hl.jsx)("stop",{offset:"0%",style:{stopColor:"#06b6d4",stopOpacity:1}}),(0,hl.jsx)("stop",{offset:"50%",style:{stopColor:"#a855f7",stopOpacity:1}}),(0,hl.jsx)("stop",{offset:"100%",style:{stopColor:"#ec4899",stopOpacity:1}})]})]})]}),(0,hl.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-cyan-300",children:[(0,hl.jsx)("span",{children:new Date(a[0].quiz_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.length>2&&(0,hl.jsx)("span",{children:new Date(a[Math.floor(a.length/2)].quiz_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,hl.jsx)("span",{children:new Date(a[a.length-1].quiz_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),(0,hl.jsxs)("div",{className:"mt-6",children:[(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Performance"}),(0,hl.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.slice().reverse().map((e,t)=>(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 flex items-center justify-between hover:bg-white/20 transition-all",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-white font-bold",children:new Date(e.quiz_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),(0,hl.jsxs)("p",{className:"text-cyan-300 text-sm",children:[e.correct_answers,"/",e.total_questions," correct"]})]}),(0,hl.jsxs)("div",{className:"text-right",children:[(0,hl.jsxs)("p",{className:"text-white font-black text-2xl",children:[e.score.toFixed(0),"%"]}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Score"})]})]},e.id))})]})]}),(0,hl.jsx)("button",{onClick:r,className:"w-full mt-6 bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:from-cyan-500 hover:to-blue-500 transition-all",children:"Close"})]})})},Kp=e=>{let{student:n,onBack:r,onReplayQuiz:a}=e;const[i,s]=(0,t.useState)("calendar"),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)(!1),x=async e=>{try{const t=await(async(e,t)=>{var n;const{data:r,error:a}=await Ca.from("quiz_results").select("answers_json").eq("student_id",e).eq("quiz_date",t).order("created_at",{ascending:!1}).limit(1).single();if(a||null===r||void 0===r||null===(n=r.answers_json)||void 0===n||!n.questions){console.error("Error fetching quiz questions:",a);const{data:n,error:r}=await Ca.from("quiz_questions").select("*").eq("student_id",e).lte("created_at","".concat(t,"T23:59:59")).order("created_at",{ascending:!1}).limit(30);return r?(console.error("Error fetching fallback questions:",r),[]):n||[]}const i=r.answers_json.questions.map((n,r)=>({id:n.question_id||"replay-".concat(r),student_id:e,question_text:n.question_text,question_type:n.question_type,options:n.options||null,correct_answer:n.correct_answer,concept_name:n.concept_name||null,difficulty_level:n.difficulty_level||"medium",explanation:n.explanation||null,active:!1,created_at:t}));console.log("[getQuestionsByDate] Reconstructed questions:",i.slice(0,2));const s=i.filter(e=>("mcq"===e.question_type||"match"===e.question_type)&&!e.options||!e.explanation);if(s.length>0){console.warn("[getQuestionsByDate] Some questions missing options/explanations, fetching from quiz_questions...");const e=s.map(e=>e.id).filter(e=>!e.startsWith("replay-"));if(e.length>0){const{data:t}=await Ca.from("quiz_questions").select("id, options, explanation").in("id",e);t&&i.forEach(e=>{const n=t.find(t=>t.id===e.id);n&&(!e.options&&n.options&&(e.options=n.options,console.log("[getQuestionsByDate] \u2705 Retrieved options for question ".concat(e.id))),!e.explanation&&n.explanation&&(e.explanation=n.explanation,console.log("[getQuestionsByDate] \u2705 Retrieved explanation for question ".concat(e.id))))})}}return i})(n.id,e.quiz_date);t&&t.length>0?a&&a(t,e):alert("Questions for this quiz are no longer available.")}catch(t){console.error("Error loading quiz for replay:",t),alert("Failed to load quiz. Please try again.")}};(0,t.useEffect)(()=>{n&&b()},[n]);const b=async()=>{p(!0);try{const e=await Vp(n.id),t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ca.from("notes_history").select("*").eq("student_id",e).order("note_date",{ascending:!1});t.subject&&(n=n.eq("subject",t.subject)),t.startDate&&(n=n.gte("note_date",t.startDate)),t.endDate&&(n=n.lte("note_date",t.endDate));const{data:r,error:a}=await n;return a?(console.error("Error fetching notes history:",a),[]):r||[]}(n.id);u(e||[]),h(t||[])}catch(e){console.error("Error loading history:",e)}finally{p(!1)}},w=e=>({quizzes:c.filter(t=>t.quiz_date===e),notes:d.filter(t=>t.note_date===e)});return(0,hl.jsxs)("div",{className:"min-h-screen game-bg p-4",children:[y&&(0,hl.jsx)(Wp,{student:n,onClose:()=>v(!1)}),(0,hl.jsxs)("div",{className:"max-w-4xl mx-auto py-6",children:[(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsxs)("button",{onClick:"detail"===i?()=>s("calendar"):r,className:"flex items-center gap-2 text-cyan-300 hover:text-cyan-200 transition-all mb-4",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"detail"===i?"Back to Calendar":"Back to Menu"]}),(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-2",children:"Learning History"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Track your progress and review past lessons"})]}),"calendar"===i&&c.length>0&&(0,hl.jsx)("div",{className:"text-center",children:(0,hl.jsxs)("button",{onClick:()=>v(!0),className:"neon-border-cyan bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-bold py-3 px-6 rounded-full hover:from-cyan-500 hover:to-blue-500 transition-all duration-300 transform hover:scale-105 shadow-xl flex items-center gap-2 mx-auto",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5"}),"View Progress Chart"]})})]}),(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-6",children:["calendar"===i&&(()=>{const e=(()=>{const e=c.map(e=>e.quiz_date),t=d.map(e=>e.note_date);return[...new Set([...e,...t])].sort().reverse()})();return f?(0,hl.jsx)(Kf,{message:"Loading your history..."}):0===e.length?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(zp,{className:"w-20 h-20 text-cyan-400 mx-auto mb-4 opacity-50"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No History Yet"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Complete quizzes to see your learning journey!"})]}):(0,hl.jsx)("div",{className:"space-y-4",children:(0,hl.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map((e,t)=>{const{quizzes:n,notes:r}=w(e),a=new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,hl.jsxs)("button",{onClick:()=>{l(e),s("detail")},className:"neon-border-cyan bg-cyan-900/20 p-6 rounded-2xl hover:bg-cyan-800/30 transition-all text-left",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,hl.jsx)("h3",{className:"text-lg font-bold text-white",children:a}),(0,hl.jsxs)("div",{className:"flex gap-2",children:[n.length>0&&(0,hl.jsxs)("span",{className:"bg-pink-500/20 text-pink-300 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[(0,hl.jsx)(Gf,{className:"w-4 h-4"}),n.length," Quiz",n.length>1?"zes":""]}),r.length>0&&(0,hl.jsxs)("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[(0,hl.jsx)(Fp,{className:"w-4 h-4"}),r.length," Note",r.length>1?"s":""]})]})]}),n.length>0&&(0,hl.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,hl.jsxs)("div",{className:"bg-white/10 p-2 rounded-lg",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Score"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:[n[n.length-1].score.toFixed(0),"%"]})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-2 rounded-lg",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Questions"}),(0,hl.jsx)("p",{className:"text-white font-bold",children:n[n.length-1].total_questions})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-2 rounded-lg",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Streak"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:["\ud83d\udd25 ",n[n.length-1].highest_streak||0]})]})]})]},e)})})})})(),"detail"===i&&(()=>{if(!o)return null;const{quizzes:e,notes:t}=w(o),n=new Date(o+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsx)("h2",{className:"text-2xl font-black text-white mb-2",children:n}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Your learning activities from this day"})]}),e.length>0&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Gf,{className:"w-6 h-6 text-pink-400"}),"Quiz Results"]}),(0,hl.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,hl.jsxs)("div",{className:"neon-border-pink bg-pink-900/20 p-6 rounded-2xl",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h4",{className:"text-lg font-bold text-white",children:[e.subject||"General"," Quiz"]}),(0,hl.jsxs)("p",{className:"text-pink-300 text-sm",children:["Completed at ",new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),(0,hl.jsxs)("div",{className:"text-right",children:[(0,hl.jsxs)("div",{className:"text-3xl font-black text-white",children:[e.score.toFixed(0),"%"]}),(0,hl.jsx)("p",{className:"text-pink-300 text-sm",children:"Score"})]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Qf,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:[e.correct_answers,"/",e.total_questions]}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Correct"})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(qp,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:[Math.floor(e.time_taken_seconds/60),"m ",e.time_taken_seconds%60,"s"]}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Time"})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Bp,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:["\ud83d\udd25 ",e.highest_streak||0]}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Best Streak"})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Gf,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),(0,hl.jsx)("p",{className:"text-white font-bold",children:e.total_score||0}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Points"})]})]}),e.concept_names&&e.concept_names.length>0&&(0,hl.jsxs)("div",{className:"mt-4",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-2",children:"Concepts Covered:"}),(0,hl.jsx)("div",{className:"flex flex-wrap gap-2",children:e.concept_names.map((e,t)=>(0,hl.jsx)("span",{className:"bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full text-xs",children:e},t))})]}),(0,hl.jsxs)("button",{onClick:()=>x(e),className:"w-full mt-4 bg-gradient-to-r from-pink-600 to-purple-600 text-white font-bold py-3 px-6 rounded-xl hover:from-pink-500 hover:to-purple-500 transition-all duration-300 flex items-center justify-center gap-2",children:[(0,hl.jsx)(Up,{className:"w-5 h-5"}),"Replay This Quiz (Review Mode)"]})]},e.id))})]}),a&&(0,hl.jsx)(hl.Fragment,{}),t.length>0&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Fp,{className:"w-6 h-6 text-yellow-400"}),"Class Notes"]}),(0,hl.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,hl.jsxs)("div",{className:"neon-border-yellow bg-yellow-900/20 p-6 rounded-2xl",children:[(0,hl.jsxs)("div",{className:"mb-4",children:[(0,hl.jsx)("h4",{className:"text-lg font-bold text-white mb-1",children:e.title||"".concat(e.subject," Notes")}),(0,hl.jsx)("p",{className:"text-yellow-300 text-sm",children:e.subject&&"Subject: ".concat(e.subject)})]}),e.concepts_covered&&e.concepts_covered.length>0&&(0,hl.jsxs)("div",{className:"mb-4",children:[(0,hl.jsx)("p",{className:"text-yellow-300 text-sm mb-2",children:"Topics Covered:"}),(0,hl.jsx)("div",{className:"flex flex-wrap gap-2",children:e.concepts_covered.map((e,t)=>(0,hl.jsx)("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-xs",children:e},t))})]}),(0,hl.jsx)("button",{onClick:()=>window.open("#","_blank"),className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold py-3 px-6 rounded-xl hover:from-yellow-500 hover:to-orange-500 transition-all",children:"View Notes"})]},e.id))})]}),0===e.length&&0===t.length&&(0,hl.jsx)("div",{className:"text-center py-12",children:(0,hl.jsx)("p",{className:"text-cyan-300",children:"No activities found for this date."})})]})})()]})]})]})},Gp=Bf("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Qp={BEGINNER:{name:"Beginner League",minPoints:0,maxPoints:1500,color:"from-orange-600 to-orange-800",icon:"\ud83e\udd49",bgGradient:"from-orange-900/40 to-orange-800/40",borderColor:"border-orange-500/30",textColor:"text-orange-300"},INTERMEDIATE:{name:"Intermediate League",minPoints:1500,maxPoints:3e3,color:"from-gray-400 to-gray-600",icon:"\ud83e\udd48",bgGradient:"from-gray-900/40 to-gray-800/40",borderColor:"border-gray-500/30",textColor:"text-gray-300"},ADVANCED:{name:"Advanced League",minPoints:3e3,maxPoints:5e3,color:"from-yellow-500 to-yellow-700",icon:"\ud83e\udd47",bgGradient:"from-yellow-900/40 to-yellow-800/40",borderColor:"border-yellow-500/30",textColor:"text-yellow-300"},MASTER:{name:"Master League",minPoints:5e3,maxPoints:1/0,color:"from-purple-500 to-pink-600",icon:"\ud83d\udc51",bgGradient:"from-purple-900/40 to-pink-900/40",borderColor:"border-purple-500/30",textColor:"text-purple-300"}},Yp=e=>e>=Qp.MASTER.minPoints?Qp.MASTER:e>=Qp.ADVANCED.minPoints?Qp.ADVANCED:e>=Qp.INTERMEDIATE.minPoints?Qp.INTERMEDIATE:Qp.BEGINNER,$p=Bf("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Xp=e=>{let{student:n,onClose:r}=e;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("7");(0,t.useEffect)(()=>{u()},[l]);const u=async()=>{o(!0);try{const e=(new Date).toISOString().split("T")[0],t=new Date;t.setDate(t.getDate()-parseInt(l));const n=t.toISOString().split("T")[0],{data:r,error:a}=await Ca.from("weekly_leaderboard").select("\n          *,\n          students (\n            username,\n            full_name\n          )\n        ").gte("week_start_date",n).lte("week_start_date",e).order("week_start_date",{ascending:!1}).order("rank",{ascending:!0});if(a)throw a;const s={};r.forEach(e=>{s[e.week_start_date]||(s[e.week_start_date]=[]),s[e.week_start_date].push(e)});const o=Object.entries(s).map(e=>{let[t,n]=e;return{date:t,entries:n.slice(0,3),totalParticipants:n.length}}).sort((e,t)=>new Date(t.date)-new Date(e.date));i(o)}catch(e){console.error("Error loading historical leaderboard:",e)}finally{o(!1)}},d=e=>{switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return"#".concat(e)}},h=e=>{switch(e){case 1:return"from-yellow-500 to-orange-500";case 2:return"from-gray-300 to-gray-500";case 3:return"from-orange-400 to-red-500";default:return"from-cyan-500 to-purple-600"}},f=(()=>{if(!n||0===a.length)return null;let e=0,t=0,r=0,i=0;return a.forEach(a=>{const s=a.entries.find(e=>e.student_id===n.id);s&&(i++,1===s.rank&&e++,2===s.rank&&t++,3===s.rank&&r++)}),{firstPlaces:e,secondPlaces:t,thirdPlaces:r,totalAppearances:i,winRate:i>0?(e/i*100).toFixed(1):0}})();return(0,hl.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/95 to-blue-900/95 rounded-3xl p-6 max-w-5xl w-full max-h-[90vh] overflow-y-auto neon-border-yellow",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-gradient-to-br from-purple-900/95 to-blue-900/95 z-10 pb-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h2",{className:"text-3xl font-black text-white mb-1 flex items-center gap-2",children:[(0,hl.jsx)(Gf,{className:"w-8 h-8 text-yellow-400"}),"Weekly Champions"]}),(0,hl.jsx)("p",{className:"text-yellow-300",children:"See who dominated each week!"})]}),(0,hl.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-all",children:(0,hl.jsx)(Op,{className:"w-6 h-6 text-white"})})]}),(0,hl.jsx)("div",{className:"flex gap-2 mb-6",children:["7","30","90"].map(e=>(0,hl.jsxs)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-xl font-bold transition-all ".concat(l===e?"bg-yellow-500 text-black neon-border-yellow":"bg-white/10 text-yellow-300 hover:bg-white/20"),children:["Last ",e," Days"]},e))}),s?(0,hl.jsx)(Kf,{message:"Loading champions history..."}):0===a.length?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(zp,{className:"w-20 h-20 text-yellow-400 mx-auto mb-4 opacity-50"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Historical Data"}),(0,hl.jsx)("p",{className:"text-yellow-300",children:"Complete more quizzes to see the champions!"})]}):(0,hl.jsxs)(hl.Fragment,{children:[f&&f.totalAppearances>0&&(0,hl.jsxs)("div",{className:"mb-6 neon-border-pink bg-gradient-to-r from-pink-900/40 to-purple-900/40 backdrop-blur-lg rounded-3xl p-6",children:[(0,hl.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5 text-pink-400"}),"Your Performance (Last ",l," Days)"]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,hl.jsx)("p",{className:"text-yellow-300 text-sm mb-1",children:"\ud83e\udd47 1st Place"}),(0,hl.jsx)("p",{className:"text-white font-black text-2xl",children:f.firstPlaces})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,hl.jsx)("p",{className:"text-gray-300 text-sm mb-1",children:"\ud83e\udd48 2nd Place"}),(0,hl.jsx)("p",{className:"text-white font-black text-2xl",children:f.secondPlaces})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,hl.jsx)("p",{className:"text-orange-300 text-sm mb-1",children:"\ud83e\udd49 3rd Place"}),(0,hl.jsx)("p",{className:"text-white font-black text-2xl",children:f.thirdPlaces})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1",children:"Total"}),(0,hl.jsx)("p",{className:"text-white font-black text-2xl",children:f.totalAppearances})]}),(0,hl.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[(0,hl.jsx)("p",{className:"text-green-300 text-sm mb-1",children:"Win Rate"}),(0,hl.jsxs)("p",{className:"text-white font-black text-2xl",children:[f.winRate,"%"]})]})]})]}),(0,hl.jsx)("div",{className:"space-y-4",children:a.map((e,t)=>{const r=new Date(e.date+"T00:00:00").toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),a=new Date,i=a.getDay(),s=a.getDate()-i+(0===i?-6:1),o=new Date(a.setDate(s)).toISOString().split("T")[0],l=e.date===o;return(0,hl.jsxs)("div",{className:"rounded-3xl p-6 transition-all ".concat(l?"neon-border-yellow bg-gradient-to-br from-yellow-900/40 to-orange-900/40":"neon-border-purple bg-gradient-to-br from-purple-900/40 to-blue-900/40"),children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)(zp,{className:"w-6 h-6 ".concat(l?"text-yellow-400":"text-cyan-400")}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-white",children:["Week of ",r]}),(0,hl.jsxs)("p",{className:"text-sm ".concat(l?"text-yellow-300":"text-cyan-300"),children:[e.totalParticipants," ",1===e.totalParticipants?"participant":"participants"]})]})]}),l&&(0,hl.jsx)("span",{className:"bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"THIS WEEK"})]}),(0,hl.jsx)("div",{className:"grid grid-cols-3 gap-4",children:e.entries.map((e,t)=>{var r,a;const i=e.student_id===(null===n||void 0===n?void 0:n.id),s=e.rank;return(0,hl.jsxs)("div",{className:"relative ".concat(i?"neon-border-pink bg-pink-900/40 scale-105":"bg-white/10"," rounded-2xl p-4 text-center transition-all hover:scale-105"),children:[(0,hl.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-br ".concat(h(s)," flex items-center justify-center text-3xl font-black"),children:d(s)}),(0,hl.jsxs)("p",{className:"font-bold text-sm mb-1 ".concat(i?"text-pink-300":"text-white"),children:[(null===(r=e.students)||void 0===r?void 0:r.full_name)||(null===(a=e.students)||void 0===a?void 0:a.username)||"Unknown",i&&(0,hl.jsx)("span",{className:"block text-xs text-pink-400 mt-1",children:"(You)"})]}),(0,hl.jsxs)("p",{className:"text-2xl font-black text-white mb-1",children:[Math.round(e.avg_score||e.score||0),"%"]}),(0,hl.jsxs)("p",{className:"text-xs text-cyan-300 font-bold",children:[e.total_points||0," pts"]}),(0,hl.jsxs)("p",{className:"text-xs text-gray-300",children:[e.quizzes_taken||0," ",1===e.quizzes_taken?"quiz":"quizzes"]}),1===s&&(0,hl.jsx)("div",{className:"absolute -top-3 -right-3",children:(0,hl.jsx)($p,{className:"w-8 h-8 text-yellow-400 animate-pulse"})})]},e.id)})})]},e.date)})})]}),(0,hl.jsx)("button",{onClick:r,className:"w-full mt-6 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold py-3 px-6 rounded-xl hover:from-yellow-500 hover:to-orange-500 transition-all sticky bottom-0",children:"Close"})]})})},Jp=e=>{let{student:n,onBack:r}=e;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("week"),[u,d]=(0,t.useState)(!1),h=(0,t.useCallback)(async()=>{try{const e=await(async()=>{const e=vp(),t=ui();if(!t)return console.error("[getWeeklyLeaderboard] No session found"),[];console.log("[getWeeklyLeaderboard] Fetching for week starting:",e);const{data:n,error:r}=await Ca.from("weekly_leaderboard").select("\n      *,\n      students (\n        username,\n        full_name\n      )\n    ").eq("week_start_date",e).eq("institution_id",t.institution_id).order("rank",{ascending:!0});return r?(console.error("[getWeeklyLeaderboard] Error:",r),[]):(console.log("[getWeeklyLeaderboard] Fetched:",(null===n||void 0===n?void 0:n.length)||0,"entries"),n||[])})();i(e)}catch(e){console.error("Error loading leaderboard:",e)}finally{o(!1)}},[]);(0,t.useEffect)(()=>{h();const e=(e=>{const t=vp();return Ca.channel("weekly-leaderboard-changes").on("postgres_changes",{event:"*",schema:"public",table:"weekly_leaderboard",filter:"week_start_date=eq.".concat(t)},t=>{e(t)}).subscribe()})(()=>{h()});return()=>{null===e||void 0===e||e.unsubscribe()}},[h]);const f=e=>{switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return"#".concat(e)}},p=e=>{switch(e){case 1:return"from-yellow-500 to-orange-500";case 2:return"from-gray-300 to-gray-500";case 3:return"from-orange-400 to-red-500";default:return"from-cyan-500 to-purple-600"}},m=a.find(e=>e.student_id===(null===n||void 0===n?void 0:n.id));return s?(0,hl.jsx)(Kf,{message:"Loading leaderboard..."}):(0,hl.jsxs)("div",{className:"min-h-screen game-bg p-4",children:[u&&(0,hl.jsx)(Xp,{student:n,onClose:()=>d(!1)}),(0,hl.jsxs)("div",{className:"max-w-4xl mx-auto py-6",children:[(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsxs)("button",{onClick:r,className:"flex items-center gap-2 text-cyan-300 hover:text-cyan-200 transition-all mb-4",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Back to Menu"]}),(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsxs)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 mb-2 flex items-center justify-center gap-3",children:[(0,hl.jsx)(Gf,{className:"w-10 h-10 text-yellow-400"}),"Leaderboard"]}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Compete with your friends!"})]}),a.length>0&&(0,hl.jsx)("div",{className:"text-center",children:(0,hl.jsxs)("button",{onClick:()=>d(!0),className:"neon-border-yellow bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold py-3 px-6 rounded-full hover:from-yellow-500 hover:to-orange-500 transition-all duration-300 transform hover:scale-105 shadow-xl flex items-center gap-2 mx-auto",children:[(0,hl.jsx)(Gp,{className:"w-5 h-5"}),"View Historical Champions"]})})]}),m&&(e=>{const t=(e=>{const t=Yp(e);if(t===Qp.MASTER)return{currentLeague:t,nextLeague:null,progress:100,pointsNeeded:0,pointsInCurrentLeague:e-t.minPoints};const n=Object.keys(Qp),r=n.findIndex(e=>Qp[e]===t),a=Qp[n[r+1]],i=e-t.minPoints,s=a.minPoints-e,o=i/(a.minPoints-t.minPoints)*100;return{currentLeague:t,nextLeague:a,progress:Math.round(o),pointsNeeded:s,pointsInCurrentLeague:i}})(m.total_points||0),r=t.currentLeague;return(0,hl.jsxs)("div",{className:"mb-6 neon-border-pink bg-gradient-to-r from-pink-900/40 to-purple-900/40 backdrop-blur-lg rounded-3xl p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,hl.jsx)("h3",{className:"text-sm font-bold text-pink-300 uppercase tracking-wide",children:"Your Weekly Ranking"}),(0,hl.jsxs)("span",{className:"bg-gradient-to-r ".concat(r.color," px-3 py-1 rounded-full text-sm font-bold text-white flex items-center gap-1"),children:[r.icon," ",r.name]})]}),(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-4",children:[(0,hl.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br ".concat(p(m.rank)," flex items-center justify-center"),children:(0,hl.jsx)("span",{className:"text-3xl",children:f(m.rank)})}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-white font-bold text-2xl",children:n.display_name||n.full_name}),(0,hl.jsxs)("p",{className:"text-pink-300 text-sm",children:["Rank #",m.rank]})]})]}),(0,hl.jsxs)("div",{className:"text-right",children:[(0,hl.jsx)("p",{className:"text-white font-black text-4xl",children:m.total_points}),(0,hl.jsx)("p",{className:"text-pink-300 text-sm",children:"Points"})]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Gf,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),(0,hl.jsx)("p",{className:"text-white font-bold",children:m.quizzes_taken||0}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Quizzes"})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Qf,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,hl.jsxs)("p",{className:"text-white font-bold",children:[Math.round(m.avg_score||0),"%"]}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"Avg Score"})]}),(0,hl.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg text-center",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),(0,hl.jsx)("p",{className:"text-white font-bold",children:1===m.rank?"Top!":"+".concat((null===(e=a[0])||void 0===e?void 0:e.total_points)-m.total_points)}),(0,hl.jsx)("p",{className:"text-cyan-300 text-xs",children:"To #1"})]})]}),t.nextLeague&&(0,hl.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,hl.jsx)("span",{className:"text-sm text-white font-semibold",children:"Next League Progress"}),(0,hl.jsxs)("span",{className:"text-xs text-cyan-300",children:[t.pointsNeeded," pts to ",t.nextLeague.icon]})]}),(0,hl.jsx)("div",{className:"w-full bg-white/10 rounded-full h-3 overflow-hidden",children:(0,hl.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(t.nextLeague.color," transition-all duration-500"),style:{width:"".concat(t.progress,"%")}})}),(0,hl.jsxs)("p",{className:"text-xs text-gray-400 mt-1 text-center",children:[t.progress,"% to ",t.nextLeague.name]})]})]})})(),(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:[(0,hl.jsx)(zp,{className:"w-6 h-6 text-cyan-400"}),"This Week's Rankings"]}),(0,hl.jsx)("span",{className:"bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full text-sm font-bold",children:"Live"})]}),0===a.length?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(Gf,{className:"w-20 h-20 text-cyan-400 mx-auto mb-4 opacity-50"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Scores Yet"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Be the first to complete a quiz this week!"})]}):(0,hl.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>{var r,a;const i=e.student_id===(null===n||void 0===n?void 0:n.id),s=e.rank<=3;return(0,hl.jsx)("div",{className:"p-5 rounded-2xl transition-all duration-200 ".concat(i?"neon-border-pink bg-pink-900/40 scale-[1.02]":s?"neon-border-cyan bg-purple-900/40":"neon-border-purple bg-purple-900/20"),children:(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-4",children:[(0,hl.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br ".concat(p(e.rank)," flex items-center justify-center font-black text-2xl"),children:e.rank<=3?f(e.rank):"#".concat(e.rank)}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,hl.jsx)("span",{className:"text-white font-bold text-xl",children:(null===(r=e.students)||void 0===r?void 0:r.full_name)||(null===(a=e.students)||void 0===a?void 0:a.username)||"Unknown"}),i&&(0,hl.jsx)("span",{className:"bg-pink-500/30 text-pink-300 px-2 py-0.5 rounded-full text-xs font-bold",children:"YOU"}),(()=>{const t=Yp(e.total_points||0);return(0,hl.jsxs)("span",{className:"bg-gradient-to-r ".concat(t.color," px-2 py-0.5 rounded-full text-xs font-bold text-white flex items-center gap-1"),children:[t.icon," ",t.name.replace(" League","")]})})()]}),(0,hl.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,hl.jsxs)("span",{className:"text-yellow-300 text-sm flex items-center gap-1",children:[(0,hl.jsx)(Gf,{className:"w-3 h-3"}),e.total_points," pts"]}),(0,hl.jsxs)("span",{className:"text-cyan-300 text-sm flex items-center gap-1",children:[(0,hl.jsx)(Qf,{className:"w-3 h-3"}),Math.round(e.avg_score||0),"% avg"]}),(0,hl.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["\ud83d\udcdd ",e.quizzes_taken||0," quizzes"]})]})]})]}),s&&(0,hl.jsx)("div",{className:"px-4 py-2 rounded-full bg-gradient-to-r ".concat(p(e.rank)),children:(0,hl.jsx)("span",{className:"text-white font-black text-lg",children:1===e.rank?"\ud83d\udc51":2===e.rank?"\u2b50":"\ud83c\udf96\ufe0f"})})]})},e.id)})})]}),!m&&a.length>0&&(0,hl.jsxs)("div",{className:"mt-6 neon-border-yellow bg-yellow-900/20 rounded-2xl p-6 text-center",children:[(0,hl.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Ready to Compete?"}),(0,hl.jsx)("p",{className:"text-yellow-300 mb-4",children:"Complete quizzes this week to climb the leaderboard!"}),(0,hl.jsx)("button",{onClick:r,className:"bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold py-3 px-6 rounded-full hover:from-yellow-500 hover:to-orange-500 transition-all",children:"Take Quiz Now"})]})]})]})},Zp=Bf("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),em=Bf("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tm=Bf("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),nm=e=>{let{student:n,musicEnabled:r,setMusicEnabled:a,sfxEnabled:i,setSfxEnabled:s,onBack:o}=e;const[l,c]=(0,t.useState)(80),[u,d]=(0,t.useState)(50),[h,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("sfxVolume"),t=localStorage.getItem("musicVolume");e&&c(parseInt(e)),t&&d(parseInt(t))},[]);const p=()=>{localStorage.setItem("sfxVolume",l.toString()),localStorage.setItem("musicVolume",u.toString()),localStorage.setItem("musicEnabled",r.toString()),localStorage.setItem("sfxEnabled",i.toString())};return(0,t.useEffect)(()=>{p()},[l,u,r,i]),(0,hl.jsx)("div",{className:"min-h-screen game-bg p-4",children:(0,hl.jsxs)("div",{className:"max-w-3xl mx-auto py-6",children:[(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsxs)("button",{onClick:o,className:"flex items-center gap-2 text-cyan-300 hover:text-cyan-200 transition-all mb-4",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Back to Menu"]}),(0,hl.jsxs)("div",{className:"text-center mb-6",children:[(0,hl.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 mb-2",children:"Settings"}),(0,hl.jsx)("p",{className:"text-cyan-300",children:"Customize your quiz experience"})]})]}),(0,hl.jsxs)("div",{className:"neon-border-cyan bg-gradient-to-br from-cyan-900/40 to-blue-900/40 backdrop-blur-lg rounded-3xl p-6 mb-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,hl.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center text-3xl font-black text-white",children:((null===n||void 0===n?void 0:n.display_name)||"U")[0]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white",children:(null===n||void 0===n?void 0:n.display_name)||"Guest"}),(0,hl.jsx)("p",{className:"text-cyan-300 text-sm",children:(null===n||void 0===n?void 0:n.grade)||"Student"})]})]}),(null===n||void 0===n?void 0:n.subjects)&&n.subjects.length>0&&(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-2",children:"Subjects:"}),(0,hl.jsx)("div",{className:"flex flex-wrap gap-2",children:n.subjects.map((e,t)=>(0,hl.jsx)("span",{className:"bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full text-xs font-bold",children:e},t))})]})]}),(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-6 mb-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,hl.jsx)(Uf,{className:"w-6 h-6 text-pink-400"}),"Audio Settings"]}),(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(Zp,{className:"w-5 h-5 ".concat(r?"text-pink-400":"text-gray-500")}),(0,hl.jsx)("span",{className:"text-white font-bold",children:"Background Music"})]}),(0,hl.jsx)("button",{onClick:()=>a(!r),className:"relative w-14 h-7 rounded-full transition-all ".concat(r?"bg-pink-500":"bg-gray-600"),children:(0,hl.jsx)("div",{className:"absolute top-1 w-5 h-5 bg-white rounded-full transition-all ".concat(r?"left-8":"left-1")})})]}),r&&(0,hl.jsxs)("div",{className:"ml-7",children:[(0,hl.jsx)("input",{type:"range",min:"0",max:"100",value:u,onChange:e=>d(parseInt(e.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, rgb(236 72 153) 0%, rgb(236 72 153) ".concat(u,"%, rgb(75 85 99) ").concat(u,"%, rgb(75 85 99) 100%)")}}),(0,hl.jsxs)("p",{className:"text-cyan-300 text-sm mt-2",children:["Volume: ",u,"%"]})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(em,{className:"w-5 h-5 ".concat(i?"text-yellow-400":"text-gray-500")}),(0,hl.jsx)("span",{className:"text-white font-bold",children:"Sound Effects"})]}),(0,hl.jsx)("button",{onClick:()=>s(!i),className:"relative w-14 h-7 rounded-full transition-all ".concat(i?"bg-yellow-500":"bg-gray-600"),children:(0,hl.jsx)("div",{className:"absolute top-1 w-5 h-5 bg-white rounded-full transition-all ".concat(i?"left-8":"left-1")})})]}),i&&(0,hl.jsxs)("div",{className:"ml-7",children:[(0,hl.jsx)("input",{type:"range",min:"0",max:"100",value:l,onChange:e=>c(parseInt(e.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, rgb(234 179 8) 0%, rgb(234 179 8) ".concat(l,"%, rgb(75 85 99) ").concat(l,"%, rgb(75 85 99) 100%)")}}),(0,hl.jsxs)("p",{className:"text-cyan-300 text-sm mt-2",children:["Volume: ",l,"%"]})]})]})]})]}),(0,hl.jsxs)("div",{className:"neon-border-cyan bg-gradient-to-br from-cyan-900/40 to-blue-900/40 backdrop-blur-lg rounded-3xl p-6",children:[(0,hl.jsxs)("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between text-left",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(tm,{className:"w-6 h-6 text-cyan-400"}),(0,hl.jsx)("h2",{className:"text-2xl font-bold text-white",children:"About Fluence Quiz"})]}),(0,hl.jsx)("span",{className:"text-cyan-300",children:h?"\u2212":"+"})]}),h&&(0,hl.jsxs)("div",{className:"mt-4 space-y-3 text-cyan-300",children:[(0,hl.jsxs)("p",{className:"text-sm",children:[(0,hl.jsx)("span",{className:"font-bold text-white",children:"Version:"})," 2.0.0"]}),(0,hl.jsxs)("p",{className:"text-sm",children:[(0,hl.jsx)("span",{className:"font-bold text-white",children:"Developer:"})," Fluence Education"]}),(0,hl.jsx)("p",{className:"text-sm leading-relaxed",children:"Fluence Quiz is an AI-powered learning platform designed to make education fun, engaging, and personalized. With gamification, spaced repetition, and real-time leaderboards, learning has never been more exciting!"}),(0,hl.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,hl.jsx)("span",{className:"bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full text-xs font-bold",children:"React 19"}),(0,hl.jsx)("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-xs font-bold",children:"Supabase"}),(0,hl.jsx)("span",{className:"bg-pink-500/20 text-pink-300 px-3 py-1 rounded-full text-xs font-bold",children:"n8n"})]})]})]}),(0,hl.jsx)("div",{className:"mt-6 text-center",children:(0,hl.jsx)("button",{onClick:()=>{p(),o()},className:"neon-border-pink bg-gradient-to-r from-pink-600 to-purple-600 text-white font-black text-lg py-4 px-8 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 shadow-2xl uppercase tracking-wider",children:"Save & Return"})})]})})},rm={NODE_ENV:"production",PUBLIC_URL:"/fluence-daily-quiz-v3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_ANON_KEY:"sb_publishable_73u_1S7JUs4FTEufLy2b0Q_yXIRwrHB",REACT_APP_SUPABASE_URL:"https://qhvxijsrtzpirjbuoicy.supabase.co"}.REACT_APP_N8N_WEBHOOK_URL,am=(e,t,n)=>{if(!e||""===e.trim())return!1;switch(n){case"mcq":case"true_false":case"fill_blank":return e.trim().toLowerCase()===t.trim().toLowerCase();case"short_answer":const n=e.toLowerCase().split(/\s+/),r=t.toLowerCase().split(/\s+/);return r.filter(e=>n.some(t=>t.includes(e)||e.includes(t))).length>=.6*r.length;case"voice":return!0;case"match":try{const n=JSON.parse(e),r=JSON.parse(t);return JSON.stringify(n)===JSON.stringify(r)}catch(hH){return!1}default:return!1}},im=(e,t)=>{if(!e)return 0;return(100+20*t)/10};const sm=new class{constructor(){this.synthesis=window.speechSynthesis,this.utterance=null,this.enabled=!0,this.lang="en-US",this.rate=1,this.pitch=1,this.volume=1,this.isSupported="speechSynthesis"in window,this.isSupported||console.warn("[SpeechService] Web Speech API not supported in this browser"),this.voices=[],this.isSupported&&(this.loadVoices(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=()=>{this.loadVoices()}))}loadVoices(){this.voices=this.synthesis.getVoices(),console.log("[SpeechService] Loaded ".concat(this.voices.length," voices"));const e=this.voices.find(e=>"en-US"===e.lang||e.lang.startsWith("en"));e&&console.log("[SpeechService] Using voice: ".concat(e.name))}speak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSupported||!this.enabled||!e)return;this.stop();const n=this.cleanText(e);this.utterance=new SpeechSynthesisUtterance(n),this.utterance.lang=t.lang||this.lang,this.utterance.rate=t.rate||this.rate,this.utterance.pitch=t.pitch||this.pitch,this.utterance.volume=t.volume||this.volume;const r=this.voices.find(e=>e.lang===this.utterance.lang);r&&(this.utterance.voice=r),this.utterance.onstart=()=>{console.log("[SpeechService] Started speaking")},this.utterance.onend=()=>{console.log("[SpeechService] Finished speaking")},this.utterance.onerror=e=>{console.error("[SpeechService] Error:",e.error)},this.synthesis.speak(this.utterance)}readQuestion(e){if(!e)return;let t="";if(e.question_number&&(t+="Question ".concat(e.question_number,". ")),e.question_text&&(t+=e.question_text),"mcq"===e.question_type&&e.options){t+=". Options are: ";t+=JSON.parse(e.options).join(", ")}"true_false"===e.question_type&&(t+=". True or False?"),"fill_blank"===e.question_type&&(t=t.replace(/_{2,}/g," blank ")),this.speak(t)}cleanText(e){let t=e;return t=t.replace(/<[^>]*>/g,""),t=t.replace(/&/g," and "),t=t.replace(/@/g," at "),t=t.replace(/#/g," number "),t=t.replace(/\$/g," dollars "),t=t.replace(/etc\./g,"etcetera"),t=t.replace(/e\.g\./g,"for example"),t=t.replace(/i\.e\./g,"that is"),t=t.replace(/\s+/g," ").trim(),t}stop(){this.isSupported&&this.synthesis.cancel()}pause(){this.isSupported&&this.synthesis.speaking&&this.synthesis.pause()}resume(){this.isSupported&&this.synthesis.paused&&this.synthesis.resume()}isSpeaking(){return this.isSupported&&this.synthesis.speaking}toggle(){return this.enabled=!this.enabled,this.enabled||this.stop(),this.enabled}setRate(e){this.rate=Math.max(.1,Math.min(10,e))}setPitch(e){this.pitch=Math.max(0,Math.min(2,e))}setVolume(e){this.volume=Math.max(0,Math.min(1,e))}isEnabled(){return this.enabled&&this.isSupported}getBrowserSupport(){return this.isSupported}};const om=function(e){let{session:n,onBack:r}=e;const[a,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(0),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)(0),[_,k]=(0,t.useState)(0),[S,N]=(0,t.useState)(0),[E,O]=(0,t.useState)(0),[P,A]=(0,t.useState)(0),[T,C]=(0,t.useState)(0),[M,D]=(0,t.useState)(null),[I,R]=(0,t.useState)([]),[L,z]=(0,t.useState)(!1),[F,q]=(0,t.useState)("menu"),[B,U]=(0,t.useState)(!1),[V,H]=(0,t.useState)(null),[W,K]=(0,t.useState)(!1),[G,Q]=(0,t.useState)(!1),[Y,$]=(0,t.useState)(!0),[X,J]=(0,t.useState)(!0),[Z,ee]=(0,t.useState)(!1),[te,ne]=(0,t.useState)(!1),[re,ae]=(0,t.useState)(0),[ie,se]=(0,t.useState)(!1),[oe,le]=(0,t.useState)(!1),[ce,ue]=(0,t.useState)(null),[de,he]=(0,t.useState)(null),[fe,pe]=(0,t.useState)(null),{powerUps:me,useFiftyFifty:ge,useBlaster:ye,useExtraTime:ve,resetQuestionPowerUps:xe,resetAllPowerUps:be}=(()=>{const[e,n]=(0,t.useState)({fiftyFifty:{count:2,used:!1},blaster:{count:2,used:!1},extraTime:{count:2,used:!1}});return{powerUps:e,useFiftyFifty:t=>e.fiftyFifty.count>0&&!e.fiftyFifty.used&&(_p.play("powerup"),n(e=>u(u({},e),{},{fiftyFifty:{count:e.fiftyFifty.count-1,used:!0}})),t&&t(),!0),useBlaster:t=>e.blaster.count>0&&!e.blaster.used&&(_p.play("powerup"),n(e=>u(u({},e),{},{blaster:{count:e.blaster.count-1,used:!0}})),t&&t(),!0),useExtraTime:t=>e.extraTime.count>0&&!e.extraTime.used&&(_p.play("powerup"),n(e=>u(u({},e),{},{extraTime:{count:e.extraTime.count-1,used:!0}})),t&&t(30),!0),resetQuestionPowerUps:()=>{n(e=>u(u({},e),{},{fiftyFifty:u(u({},e.fiftyFifty),{},{used:!1}),blaster:u(u({},e.blaster),{},{used:!1}),extraTime:u(u({},e.extraTime),{},{used:!1})}))},resetAllPowerUps:()=>{n({fiftyFifty:{count:2,used:!1},blaster:{count:2,used:!1},extraTime:{count:2,used:!1}})}}})();(0,t.useEffect)(()=>{if(n){const e={id:n.user_id,username:n.username,full_name:n.full_name,display_name:n.full_name,institution_id:n.institution_id,class_id:n.class_id};return i(e),o(n.full_name),void je()}const e=new URLSearchParams(window.location.search).get("student");e&&we(e)},[n]),(0,t.useEffect)(()=>{(async()=>{if(a&&"menu"===F)try{const e=await yp(a.id);c(e)}catch(e){console.error("Error reloading points:",e)}})()},[a,F]),(0,t.useEffect)(()=>{if(d[f]&&"playing"===F&&X){const e=setTimeout(()=>{sm.readQuestion(d[f])},300);return()=>{clearTimeout(e),sm.stop()}}},[f,d,F,X]);const we=async e=>{U(!0),H(null);try{const t=await(async e=>{const t=ui(),{data:n,error:r}=await Ca.from("students").select("*").eq("institution_id",null===t||void 0===t?void 0:t.institution_id).ilike("username",e).single();return r?(console.error("[getStudentByName] Error:",r),null):n})(e);if(t){i(t),o(t.display_name),await je(t.id);const e=await yp(t.id);c(e)}else H('Student "'.concat(e,'" not found'))}catch(t){console.error("Error loading student:",t),H("Failed to load student data. Please try again.")}finally{U(!1)}},je=async e=>{try{const e=await gp();if(!e||0===e.length)return void H("No active quiz questions found. Please contact your teacher.");h(e);const t={},n={};e.forEach((e,r)=>{t[r]="",n[r]=0}),g(t),v(n)}catch(t){console.error("Error loading questions:",t),H("Failed to load quiz questions. Please try again.")}},_e=async()=>{s.trim()?await we(s.trim()):H("Please enter your name")},ke=()=>{0!==d.length?(q("playing"),b(Date.now()),p(0),K(!1),ne(!1),k(0),N(0),O(0),A(0),C(0),D(Date.now()),R([]),z(!1),be(),G&&_p.startBackgroundMusic()):H("No questions available")},Se=e=>{g(t=>u(u({},t),{},{[f]:e}));const t=d[f],n=am(e,t.correct_answer,t.question_type);if(K(!0),n){Y&&_p.play("correct"),k(e=>e+1);const e=im(!0,E);C(t=>t+e);const t=E+1;O(t),t>P&&A(t),t%5===0&&Y&&_p.play("levelup")}else Y&&_p.play("wrong"),N(e=>e+1),O(0)},Ne=async()=>{_p.stopBackgroundMusic();const e=Date.now(),t=Math.floor((e-x)/1e3);j(t);let n=0;const r=d.map((e,t)=>{const r=m[t],a=am(r,e.correct_answer,e.question_type);a&&n++;const i=y[t]||0,s=Math.max(0,60-i),o=a?im(!0,s):0;return{question_id:e.id,question_text:e.question_text,question_type:e.question_type,options:e.options,student_answer:r,correct_answer:e.correct_answer,is_correct:a,time_spent:i,points_earned:o,concept_name:e.concept_name,difficulty_level:e.difficulty_level,explanation:e.explanation}}),i=n/d.length*100;ae(i);const s={student_id:a.id,student_name:a.display_name,quiz_date:(new Date).toISOString().split("T")[0],total_questions:d.length,correct_answers:n,incorrect_answers:d.length-n,score:i,time_taken_seconds:t,highest_streak:P,total_score:T,total_points:T,power_ups_used:{fifty_fifty:0,blaster:0,extra_time:0},answers_json:{questions:r,metadata:{correct_count:_,incorrect_count:S,questions_attempted:d.length,completion_rate:100}},concept_names:[...new Set(d.map(e=>e.concept_name).filter(Boolean))]};he(s),q("results")},Ee=async()=>{if(de){se(!0),ue(null);try{var e;const t=await(async e=>{if(!rm)return console.error("[webhookService] Webhook URL not configured"),{success:!1,error:"Webhook URL not configured in environment variables"};const t=ui();if(!t)return console.error("[webhookService] No active session found"),{success:!1,error:"No active session. Please login again."};const n=u(u({},e),{},{institution_id:t.institution_id,class_id:t.class_id});console.log("[webhookService] Submitting quiz results with V3 fields:"),console.log("  - student_id:",n.student_id),console.log("  - institution_id:",n.institution_id),console.log("  - class_id:",n.class_id),console.log("  - score:",n.score),console.log("  - total_questions:",n.total_questions);try{const e=await fetch(rm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok){const t=await e.text();throw console.error("[webhookService] Submission failed:",e.status,t),new Error("Webhook submission failed: ".concat(e.status," - ").concat(t))}const t=e.headers.get("content-type");let r=null;if(t&&t.includes("application/json")){const t=await e.text();if(t&&t.trim().length>0)try{r=JSON.parse(t),console.log("[webhookService] Success response:",r)}catch(dH){console.warn("[webhookService] Failed to parse JSON response, but request was successful")}}return{success:!0,data:r}}catch(V){return console.error("[webhookService] Error submitting to webhook:",V),{success:!1,error:(null===V||void 0===V?void 0:V.message)||"Unknown error occurred during submission"}}})(de);if(!t||!t.success)throw new Error((null===t||void 0===t?void 0:t.error)||"Failed to submit to webhook");console.log("Quiz results submitted to webhook successfully"),console.log("Webhook response data:",JSON.stringify(t.data,null,2));const n=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;n&&n.feedback?(console.log("\u2705 AI Feedback received:",JSON.stringify(n.feedback,null,2)),pe(n.feedback)):console.warn("\u26a0\ufe0f No feedback in webhook response. Full data:",JSON.stringify(t,null,2));const r={student_id:de.student_id,class_id:a.class_id||null,institution_id:a.institution_id||null,quiz_date:de.quiz_date,questions_json:d,answers_json:de.answers_json,total_questions:de.total_questions,correct_answers:de.correct_answers,score:de.score,time_taken_seconds:de.time_taken_seconds,total_score:de.total_score,concept_names:de.concept_names,streak_count:0,bonus_points:0,total_points:de.total_score},i=await(async e=>{try{const{data:t,error:n}=await Ca.from("quiz_history").insert([e]).select().single();return n?(console.error("Error saving quiz to history:",n),{success:!1,error:n.message||"Failed to save quiz to history"}):{success:!0,data:t}}catch(V){return console.error("Error saving quiz to history:",V),{success:!1,error:(null===V||void 0===V?void 0:V.message)||"Unknown error occurred while saving to history"}}})(r);if(!i||!i.success)throw new Error((null===i||void 0===i?void 0:i.error)||"Failed to save to history");console.log("Quiz saved to history successfully"),c(e=>e+de.total_score),le(!0)}catch(t){console.error("Error submitting quiz:",t),ue((null===t||void 0===t?void 0:t.message)||"An unexpected error occurred")}finally{se(!1)}}},Oe=()=>{q("menu"),p(0),K(!1),ae(0);const e={},t={};d.forEach((n,r)=>{e[r]="",t[r]=0}),g(e),v(t),k(0),N(0),O(0),A(0),C(0),R([]),z(!1),be()};if(B)return(0,hl.jsx)(Kf,{message:"Loading quiz..."});if("history"===F){const e=(e,t)=>{h(e),p(0),K(!1),ne(!0),k(0),N(0),O(0),A(0),C(0),g({}),v({}),R([]),z(!1),be();const n={},r={};e.forEach((e,t)=>{n[t]="",r[t]=0}),g(n),v(r),b(Date.now()),D(Date.now()),q("playing"),setTimeout(()=>{alert("\ud83d\udcda Review Mode: This quiz won't affect your score or leaderboard position. Use it to practice and review!")},500)};return(0,hl.jsx)(Kp,{student:a,onBack:()=>q("menu"),onReplayQuiz:e})}return"leaderboard"===F?(0,hl.jsx)(Jp,{student:a,onBack:()=>q("menu")}):"settings"===F?(0,hl.jsx)(nm,{student:a,musicEnabled:G,setMusicEnabled:Q,sfxEnabled:Y,setSfxEnabled:$,onBack:()=>q("menu")}):"results"===F?(0,hl.jsx)(kp,{score:re,correctAnswers:_,incorrectAnswers:S,totalQuestions:d.length,timeTaken:w,studentId:null===a||void 0===a?void 0:a.id,maxStreak:P,totalScore:T,onRestart:Oe,onSubmit:Ee,submitting:ie,submitted:oe,submitError:ce,isReplayMode:te,feedback:fe}):"menu"===F?(0,hl.jsx)("div",{className:"min-h-screen game-bg flex items-center justify-center p-4",children:(0,hl.jsx)("div",{className:"max-w-md w-full",children:(0,hl.jsxs)("div",{className:"neon-border-purple bg-gradient-to-br from-purple-900/40 to-purple-800/40 backdrop-blur-lg rounded-3xl p-8 text-center",children:[(0,hl.jsxs)("div",{className:"mb-8",children:[(0,hl.jsxs)("h1",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 mb-4 neon-text-pink",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px"},children:["Fluence",(0,hl.jsx)("br",{}),"Daily Quiz"]}),a?(0,hl.jsxs)("p",{className:"text-cyan-300 text-lg font-semibold",children:["Welcome, ",a.display_name,"! \ud83c\udfae"]}):(0,hl.jsx)("p",{className:"text-cyan-300 text-lg font-semibold",children:"Enter your name to begin"})]}),V&&(0,hl.jsx)("div",{className:"mb-4 p-3 neon-border-pink bg-red-900/30 rounded-xl",children:(0,hl.jsx)("p",{className:"text-red-300 text-sm font-semibold",children:V})}),!a&&(0,hl.jsx)("div",{className:"mb-6",children:(0,hl.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&_e(),placeholder:"Your Name...",className:"w-full px-4 py-4 rounded-2xl neon-border-cyan bg-purple-900/50 text-white text-center text-lg font-bold placeholder-cyan-300/50 focus:outline-none focus:neon-border-pink transition-all"})}),a&&d.length>0&&(0,hl.jsxs)("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[(0,hl.jsxs)("div",{className:"p-4 neon-border-cyan bg-cyan-900/20 rounded-2xl",children:[(0,hl.jsx)("p",{className:"text-cyan-300 text-sm mb-1 font-semibold",children:"Questions Ready"}),(0,hl.jsx)("p",{className:"text-white font-black text-3xl",children:d.length})]}),(0,hl.jsxs)("div",{className:"p-4 neon-border-yellow bg-yellow-900/20 rounded-2xl",children:[(0,hl.jsx)("p",{className:"text-yellow-300 text-sm mb-1 font-semibold",children:"Total Points"}),(0,hl.jsx)("p",{className:"text-white font-black text-3xl",children:l.toLocaleString()})]})]}),a?(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("button",{onClick:ke,disabled:0===d.length,className:"w-full neon-border-pink bg-gradient-to-r from-pink-600 to-purple-600 text-white font-black text-xl py-5 px-8 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 shadow-2xl mb-4 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none uppercase tracking-wider",children:"PLAY QUIZ"}),(0,hl.jsxs)("button",{onClick:()=>alert("\ud83d\udd25 Rapid Fire Mode Coming Soon!\n\nGet ready for:\n\u2022 \u23f1\ufe0f 30-second rapid questions\n\u2022 \ud83c\udfae Power-ups (50:50, Blaster, +30s)\n\u2022 \u2764\ufe0f 3 lives system\n\u2022 \u26a1 Infinite questions\n\u2022 \ud83c\udfc6 High score challenge\n\nStay tuned!"),className:"relative w-full neon-border-yellow bg-gradient-to-r from-orange-600 to-red-600 text-white font-black text-xl py-5 px-8 rounded-full hover:from-orange-500 hover:to-red-500 transition-all duration-300 transform hover:scale-105 shadow-2xl mb-6 uppercase tracking-wider",children:[(0,hl.jsx)("span",{className:"flex items-center justify-center gap-2",children:"\ud83d\udd25 RAPID FIRE"}),(0,hl.jsx)("span",{className:"absolute top-1 right-4 bg-yellow-300 text-purple-900 text-xs font-black px-2 py-1 rounded-full animate-pulse",children:"COMING SOON"})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,hl.jsxs)("button",{onClick:()=>q("settings"),className:"neon-border-cyan bg-cyan-900/30 p-4 rounded-2xl hover:bg-cyan-800/40 transition-all",children:[(0,hl.jsx)("div",{className:"text-3xl mb-2",children:"\u2699\ufe0f"}),(0,hl.jsx)("div",{className:"text-white font-bold text-sm",children:"Settings"})]}),(0,hl.jsxs)("button",{onClick:()=>alert("Bonus: Daily challenges and special rewards will be available here."),className:"neon-border-cyan bg-cyan-900/30 p-4 rounded-2xl hover:bg-cyan-800/40 transition-all",children:[(0,hl.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf81"}),(0,hl.jsx)("div",{className:"text-white font-bold text-sm",children:"Bonus"})]}),(0,hl.jsxs)("button",{onClick:()=>q("history"),className:"neon-border-cyan bg-cyan-900/30 p-4 rounded-2xl hover:bg-cyan-800/40 transition-all",children:[(0,hl.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcdc"}),(0,hl.jsx)("div",{className:"text-white font-bold text-sm",children:"History"})]}),(0,hl.jsxs)("button",{onClick:()=>q("leaderboard"),className:"neon-border-cyan bg-cyan-900/30 p-4 rounded-2xl hover:bg-cyan-800/40 transition-all",children:[(0,hl.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udfc6"}),(0,hl.jsx)("div",{className:"text-white font-bold text-sm",children:"Leaderboard"})]})]})]}):(0,hl.jsx)("button",{onClick:_e,className:"w-full neon-border-purple bg-gradient-to-r from-purple-600 to-pink-600 text-white font-black text-xl py-5 px-8 rounded-full hover:from-purple-500 hover:to-pink-500 transition-all duration-300 transform hover:scale-105 shadow-2xl uppercase tracking-wider",children:"Tap to Continue"}),(0,hl.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,hl.jsx)("button",{onClick:()=>Q(!G),className:"p-3 neon-border-purple bg-purple-900/50 rounded-full hover:bg-purple-800/60 transition-all",children:G?(0,hl.jsx)(Uf,{className:"w-6 h-6 text-cyan-300"}):(0,hl.jsx)(Vf,{className:"w-6 h-6 text-pink-400"})}),(0,hl.jsx)("button",{onClick:()=>$(!Y),className:"p-3 neon-border-purple bg-purple-900/50 rounded-full hover:bg-purple-800/60 transition-all",children:Y?(0,hl.jsx)(Uf,{className:"w-6 h-6 text-cyan-300"}):(0,hl.jsx)(Vf,{className:"w-6 h-6 text-pink-400"})})]})]})})}):(0,hl.jsx)("div",{className:"min-h-screen game-bg p-3",children:(0,hl.jsxs)("div",{className:"max-w-4xl mx-auto py-4",children:[(0,hl.jsx)(Lp,{current:f+1,total:d.length}),(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,hl.jsx)("div",{className:"flex-shrink-0",children:(0,hl.jsx)(Rp,{correctCount:_,incorrectCount:S,streak:E,score:T,onlyTimer:!0})}),(0,hl.jsx)("div",{className:"flex-shrink-0",children:(0,hl.jsx)("button",{onClick:()=>{const e=sm.toggle();J(e)},className:"p-2 rounded-xl transition-all ".concat(X?"bg-green-500/20 text-green-400 hover:bg-green-500/30 neon-border-cyan":"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30 neon-border-purple"),title:X?"Disable question reading":"Enable question reading",children:(0,hl.jsx)(Uf,{className:"w-5 h-5"})})}),(0,hl.jsx)("div",{className:"flex-shrink-0",children:(0,hl.jsxs)("div",{className:"coin-badge px-4 py-2 rounded-full flex items-center gap-2",children:[(0,hl.jsx)("div",{className:"w-6 h-6 bg-yellow-300 rounded-full flex items-center justify-center text-base",children:"\ud83d\udcb0"}),(0,hl.jsx)("span",{className:"text-white font-black text-lg",children:T.toLocaleString()})]})})]}),(0,hl.jsx)(Pf,{mode:"wait",children:(0,hl.jsxs)(xf.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"neon-border-purple bg-gradient-to-br from-purple-900/60 to-purple-800/60 backdrop-blur-lg rounded-3xl p-6 mb-4 shadow-2xl min-h-[350px] relative overflow-hidden ".concat(Z?"blaster-animation":""),children:[Z&&(0,hl.jsx)("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:[...Array(20)].map((e,t)=>{const n=t/20*2*Math.PI,r=300*Math.cos(n),a=300*Math.sin(n),i=["bg-cyan-400","bg-green-400","bg-yellow-400","bg-pink-400","bg-purple-400","bg-blue-400"],s=i[t%i.length],o=8*Math.random()+4;return(0,hl.jsx)(xf.div,{initial:{scale:0,opacity:1},animate:{scale:1,opacity:0},transition:{duration:1,ease:"easeOut"},className:"particle absolute ".concat(s," rounded-full"),style:{width:"".concat(o,"px"),height:"".concat(o,"px"),"--tx":"".concat(r,"px"),"--ty":"".concat(a,"px"),filter:"drop-shadow(0 0 8px currentColor)",animationDelay:"".concat(.1*Math.random(),"s")}},t)})}),(()=>{if(!d[f])return null;const e=d[f],t=m[f],n=am(t,e.correct_answer,e.question_type),r={question:e,selectedAnswer:t,onAnswerSelect:Se,showResult:W,isCorrect:n,hiddenOptions:I,showCorrectAnswer:L};switch(e.question_type){case"mcq":return(0,hl.jsx)(Np,u({},r));case"true_false":return(0,hl.jsx)(Pp,u({},r));case"short_answer":return(0,hl.jsx)(Ap,u({},r));case"voice":return(0,hl.jsx)(Mp,u({},r));case"fill_blank":return(0,hl.jsx)(Dp,u({},r));case"match":return(0,hl.jsx)(Ip,u({},r));default:return(0,hl.jsxs)("div",{className:"text-white",children:["Unsupported question type: ",e.question_type]})}})()]},f)}),(0,hl.jsxs)("div",{className:"flex gap-4",children:[(0,hl.jsxs)("button",{onClick:()=>{f>0&&(K(!1),p(e=>e-1))},disabled:0===f,className:"flex-1 bg-white/20 text-white font-bold py-4 px-6 rounded-xl border-2 border-white/30 hover:bg-white/30 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Previous"]}),(0,hl.jsxs)("button",{onClick:()=>{const e=Math.floor((Date.now()-M)/1e3);v(t=>u(u({},t),{},{[f]:e})),K(!1),R([]),z(!1),f<d.length-1?(p(e=>e+1),D(Date.now()),xe()):Ne()},disabled:!m[f]||""===m[f],className:"flex-1 bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold py-4 px-6 rounded-xl hover:from-green-500 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[f===d.length-1?"Finish Quiz":"Next",(0,hl.jsx)(Wf,{className:"w-5 h-5"})]})]}),ie&&(0,hl.jsxs)("div",{className:"mt-4 text-center text-white",children:[(0,hl.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-4 border-b-4 border-white mx-auto mb-2"}),(0,hl.jsx)("p",{children:"Submitting your results..."})]})]})})},lm=Bf("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),cm=Bf("file-pen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]),um=Bf("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dm=Bf("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),hm=Bf("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),fm=Bf("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),pm=async e=>{try{console.log("[getStudentsByInstitution] Fetching students for institution:",e);const{data:t,error:n}=await Ca.from("students").select("*").eq("institution_id",e).eq("active",!0).order("full_name");if(n)throw console.error("[getStudentsByInstitution] Error fetching students:",n),n;if(!t||0===t.length)return console.log("[getStudentsByInstitution] No students found"),[];const r=t.map(e=>e.id),{data:a,error:i}=await Ca.from("student_class_enrollments").select("\n        student_id,\n        class_id,\n        status,\n        classes (\n          id,\n          class_name,\n          subject,\n          session\n        )\n      ").in("student_id",r).eq("status","active");i&&console.error("[getStudentsByInstitution] Error fetching enrollments:",i);const{data:s}=await Ca.from("quiz_results").select("student_id, score").in("student_id",r),o={};null===s||void 0===s||s.forEach(e=>{o[e.student_id]||(o[e.student_id]={count:0,totalScore:0}),o[e.student_id].count++,o[e.student_id].totalScore+=e.score||0});const l=t.map(e=>{var t,n,r,i;const s=((null===a||void 0===a?void 0:a.filter(t=>t.student_id===e.id))||[]).map(e=>e.classes).filter(Boolean),l=o[e.id]||{count:0,totalScore:0},c=l.count>0?l.totalScore/l.count:0;return u(u({},e),{},{classes:s,class_id:(null===(t=s[0])||void 0===t?void 0:t.id)||null,class_name:(null===(n=s[0])||void 0===n?void 0:n.class_name)||"No class",subject:(null===(r=s[0])||void 0===r?void 0:r.subject)||null,session:(null===(i=s[0])||void 0===i?void 0:i.session)||null,quiz_count:l.count,avg_score:Math.round(10*c)/10})});return console.log("[getStudentsByInstitution] Fetched:",l.length,"students with class data and quiz stats"),l}catch(t){return console.error("[getStudentsByInstitution] Error:",t),[]}},mm=async e=>{try{console.log("[getClassesByInstitution] Fetching classes for institution:",e);const{data:t,error:n}=await Ca.from("classes").select("*").eq("institution_id",e).eq("active",!0).order("class_name");if(n)throw console.error("[getClassesByInstitution] Error:",n),n;return console.log("[getClassesByInstitution] Fetched:",(null===t||void 0===t?void 0:t.length)||0,"classes"),t||[]}catch(t){return console.error("[getClassesByInstitution] Error:",t),[]}},gm=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{console.log("[getScoreTrends] Fetching score trends for institution:",e,"timeRange:",t);const n=new Date;n.setDate(n.getDate()-t);const r=n.toISOString().split("T")[0],{data:a,error:i}=await Ca.from("quiz_results").select("quiz_date, score").eq("institution_id",e).gte("quiz_date",r).order("quiz_date");if(i)throw console.error("[getScoreTrends] Error:",i),i;const s={};a.forEach(e=>{const t=e.quiz_date;s[t]||(s[t]={scores:[],count:0}),s[t].scores.push(e.score),s[t].count++});const o=Object.keys(s).map(e=>{const t=s[e].scores,n=t.reduce((e,t)=>e+t,0)/t.length;return{date:e,avg_score:Math.round(n),quiz_count:s[e].count}}).sort((e,t)=>new Date(e.date)-new Date(t.date));return console.log("[getScoreTrends] Fetched",o.length,"data points"),o}catch(n){return console.error("[getScoreTrends] Error:",n),[]}},ym=async e=>{try{console.log("[getConceptAnalytics] Fetching concept analytics for institution:",e);const{data:t,error:n}=await Ca.from("concept_mastery").select("concept_name, mastery_score, student_id").eq("institution_id",e);if(n)throw console.error("[getConceptAnalytics] Error:",n),n;const r={};t.forEach(e=>{r[e.concept_name]||(r[e.concept_name]={scores:[],students:new Set}),r[e.concept_name].scores.push(e.mastery_score),r[e.concept_name].students.add(e.student_id)});const a=Object.keys(r).map(e=>{const t=r[e].scores,n=t.reduce((e,t)=>e+t,0)/t.length;return{concept_name:e,avg_mastery:Math.round(n),student_count:r[e].students.size}});a.sort((e,t)=>e.avg_mastery-t.avg_mastery);const i=a.slice(0,10);return console.log("[getConceptAnalytics] Fetched",a.length,"concepts, returning top 10 weakest"),i}catch(t){return console.error("[getConceptAnalytics] Error:",t),[]}},vm=async e=>{try{console.log("[getEngagementMetrics] Fetching engagement metrics for institution:",e);const{data:t,error:n}=await Ca.from("students").select("id").eq("institution_id",e).eq("active",!0);if(n)throw console.error("[getEngagementMetrics] Error fetching students:",n),n;const r=new Date;r.setDate(r.getDate()-7);const a=r.toISOString().split("T")[0],{data:i,error:s}=await Ca.from("quiz_results").select("student_id").eq("institution_id",e).gte("quiz_date",a);if(s)throw console.error("[getEngagementMetrics] Error fetching active students:",s),s;const o=new Set(i.map(e=>e.student_id)),l=o.size,c=t.length-l,u=[{name:"Active (Last 7 Days)",value:l},{name:"Inactive",value:c}];return console.log("[getEngagementMetrics] Active:",l,"Inactive:",c),u}catch(t){return console.error("[getEngagementMetrics] Error:",t),[{name:"Active (Last 7 Days)",value:0},{name:"Inactive",value:0}]}},xm=async e=>{try{const t=new Date;t.setDate(t.getDate()-7);const n=t.toISOString().split("T")[0],{data:r,error:a}=await Ca.from("quiz_results").select("score").eq("student_id",e).gte("quiz_date",n);if(a)throw a;if(!r||0===r.length)return{avg_score:0,quiz_count:0};const i=r.reduce((e,t)=>e+t.score,0)/r.length;return{avg_score:i,quiz_count:r.length}}catch(t){return console.error("[getWeeklyPerformance] Error:",t),{avg_score:0,quiz_count:0}}},bm=async e=>{try{const{data:t,error:n}=await Ca.from("quiz_results").select("quiz_date").eq("student_id",e).order("quiz_date",{ascending:!1}).limit(1);if(n)throw n;if(!t||0===t.length)return 999;const r=new Date(t[0].quiz_date),a=new Date,i=Math.abs(a-r);return Math.ceil(i/864e5)}catch(t){return console.error("[getDaysSinceLastQuiz] Error:",t),999}},wm=async e=>{try{new Date;const t=new Date;t.setDate(t.getDate()-7);const n=t.toISOString().split("T")[0],r=new Date;r.setDate(r.getDate()-14);const a=r.toISOString().split("T")[0],i=new Date;i.setDate(i.getDate()-7);const s=i.toISOString().split("T")[0],{data:o}=await Ca.from("quiz_results").select("score").eq("student_id",e).gte("quiz_date",n),{data:l}=await Ca.from("quiz_results").select("score").eq("student_id",e).gte("quiz_date",a).lt("quiz_date",s);if(!o||0===o.length||!l||0===l.length)return null;const c=o.reduce((e,t)=>e+t.score,0)/o.length,u=l.reduce((e,t)=>e+t.score,0)/l.length;return Math.round(c-u)}catch(t){return console.error("[getScoreDelta] Error:",t),null}},jm=async e=>{try{const t=[],{data:n}=await Ca.from("concept_mastery").select("concept_name, mastery_score, updated_at").eq("institution_id",e);if(!n)return[];const r={};n.forEach(e=>{r[e.concept_name]||(r[e.concept_name]=[]),r[e.concept_name].push(e)});for(const[e,a]of Object.entries(r)){const n=a.reduce((e,t)=>e+t.mastery_score,0)/a.length;if(n<50&&a.length>=5){const r=a.length;t.push({type:"weak_concept",severity:"warning",concept_name:e,message:"".concat(r," students struggling (").concat(Math.round(n),"% avg mastery)"),value:n,student_count:r,action:"review_concept"})}}return t}catch(t){return console.error("[getConceptAlerts] Error:",t),[]}},_m=async e=>{try{console.log("[getSRSAnalytics] Fetching SRS analytics for institution:",e);const{data:t,error:n}=await Ca.from("concept_mastery").select("*").eq("institution_id",e);if(n)throw n;if(!t||0===t.length)return{health_score:0,distribution:{struggling:0,improving:0,mastered:0},review_adherence:0,overdue_count:0};const r=t.filter(e=>e.mastery_score<40).length,a=t.filter(e=>e.mastery_score>=40&&e.mastery_score<70).length,i=t.filter(e=>e.mastery_score>=70).length,s=Math.round((100*i+60*a+20*r)/t.length),o=(new Date).toISOString().split("T")[0],l=t.filter(e=>e.next_review_date&&e.next_review_date<o).length;return{health_score:s,distribution:{struggling:r,improving:a,mastered:i},review_adherence:Math.round((t.length-l)/t.length*100),overdue_count:l,total_concepts:t.length}}catch(t){return console.error("[getSRSAnalytics] Error:",t),{health_score:0,distribution:{struggling:0,improving:0,mastered:0},review_adherence:0,overdue_count:0}}},km=async e=>{try{const t=(new Date).toISOString().split("T")[0],{data:n,error:r}=await Ca.from("concept_mastery").select("student_id, concept_name, next_review_date, students(full_name)").eq("institution_id",e).lt("next_review_date",t);if(r)throw r;if(!n)return[];const a={};n.forEach(e=>{var t;a[e.student_id]||(a[e.student_id]={student_id:e.student_id,student_name:(null===(t=e.students)||void 0===t?void 0:t.full_name)||"Unknown",overdue_concepts:[]});a[e.student_id].overdue_concepts.push(e.concept_name)});const i=Object.values(a).map(e=>u(u({},e),{},{count:e.overdue_concepts.length})).sort((e,t)=>t.count-e.count);return i}catch(t){return console.error("[getOverdueReviews] Error:",t),[]}},Sm=async e=>{try{console.log("[getClassComparison] Fetching class comparison for institution:",e);const{data:t,error:n}=await Ca.from("classes").select("id, class_name, class_code").eq("institution_id",e).eq("active",!0);if(n)throw n;if(!t)return[];const r=await Promise.all(t.map(async e=>{const t=new Date;t.setDate(t.getDate()-7);const n=t.toISOString().split("T")[0],{data:r}=await Ca.from("quiz_results").select("score, student_id").eq("class_id",e.id).gte("quiz_date",n),a=new Date;a.setDate(a.getDate()-14);const i=a.toISOString().split("T")[0],{data:s}=await Ca.from("quiz_results").select("score").eq("class_id",e.id).gte("quiz_date",i).lt("quiz_date",n),o=r&&r.length>0?r.reduce((e,t)=>e+t.score,0)/r.length:0,l=s&&s.length>0?s.reduce((e,t)=>e+t.score,0)/s.length:0,c=o-l,u=r?new Set(r.map(e=>e.student_id)).size:0;return{class_id:e.id,class_name:e.class_name,class_code:e.class_code,avg_score:Math.round(o),delta:Math.round(c),student_count:u,quiz_count:r?r.length:0}}));return r.sort((e,t)=>t.avg_score-e.avg_score),r}catch(t){return console.error("[getClassComparison] Error:",t),[]}},Nm=async e=>{try{console.log("[getQuestionTypePerformance] Fetching question type performance");const{data:t,error:n}=await Ca.from("quiz_results").select("answers_json").eq("institution_id",e).limit(1e3);if(n)throw n;if(!t)return[];const r={};t.forEach(e=>{e.answers_json&&e.answers_json.questions&&e.answers_json.questions.forEach(e=>{const t=e.question_type||"unknown";r[t]||(r[t]={type:t,total:0,correct:0}),r[t].total++,e.is_correct&&r[t].correct++})});const a=Object.values(r).map(e=>({question_type:e.type,avg_accuracy:Math.round(e.correct/e.total*100),total_questions:e.total}));return a.sort((e,t)=>t.avg_accuracy-e.avg_accuracy),a}catch(t){return console.error("[getQuestionTypePerformance] Error:",t),[]}},Em=async e=>{try{console.log("[getTopStreaks] Fetching top streaks");const{data:t,error:n}=await Ca.from("students").select("id, full_name, username").eq("institution_id",e).eq("active",!0);if(n)throw n;if(!t)return[];const r=(await Promise.all(t.map(async e=>{const{data:t}=await Ca.from("quiz_results").select("streak_count, score").eq("student_id",e.id).order("created_at",{ascending:!1}).limit(1);return{student_id:e.id,student_name:e.full_name,username:e.username,streak_count:t&&t[0]?t[0].streak_count:0,latest_score:t&&t[0]?t[0].score:0}}))).filter(e=>e.streak_count>0).sort((e,t)=>t.streak_count-e.streak_count).slice(0,10);return r}catch(t){return console.error("[getTopStreaks] Error:",t),[]}},Om=async(e,t,n)=>{console.log("[getDueConceptsForReview] Input:",{classId:e,studentId:t,reviewDate:n});try{let r=Ca.from("concept_mastery").select("\n        id,\n        student_id,\n        concept_name,\n        mastery_score,\n        next_review_date,\n        last_reviewed_date,\n        times_practiced,\n        students!inner(id, full_name, institution_id)\n      ").lte("next_review_date",n);t&&(r=r.eq("student_id",t));const{data:a,error:i}=await r;if(i)return console.error("[getDueConceptsForReview] Supabase error:",i),[];if(!a||0===a.length)return console.log("[getDueConceptsForReview] No concepts due for review"),[];e&&console.log("[getDueConceptsForReview] Class filtering skipped (no enrollment data yet)");const s={};a.forEach(e=>{const t=e.concept_name;s[t]||(s[t]={concept_name:e.concept_name,student_ids:new Set,avg_mastery:0,days_overdue:0}),s[t].student_ids.add(e.student_id),s[t].avg_mastery+=e.mastery_score;const r=Math.floor((new Date(n)-new Date(e.next_review_date))/864e5);s[t].days_overdue=Math.max(s[t].days_overdue,r)});const o=Object.values(s).map(e=>({concept_name:e.concept_name,student_count:e.student_ids.size,avg_mastery:Math.round(e.avg_mastery/e.student_ids.size),days_overdue:e.days_overdue,priority:e.days_overdue>3?"high":e.days_overdue>0?"medium":"low"}));return o.sort((e,t)=>t.days_overdue-e.days_overdue),console.log("[getDueConceptsForReview] Found concepts:",o.length),o}catch(r){throw console.error("[getDueConceptsForReview] Error:",r),r}},Pm=Bf("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Am=Bf("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Tm=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("all"),d=ui(),h=ve();(0,t.useEffect)(()=>{f()},[]);const f=async()=>{s(!0);try{const[e,t]=await Promise.all([pm(d.institution_id),mm(d.institution_id)]);n(e),a(t)}catch(e){console.error("[StudentListView] Error loading data:",e)}finally{s(!1)}},p=e.filter(e=>{const t=(e.full_name||e.username||"").toLowerCase().includes(o.toLowerCase()),n="all"===c||e.class_id===c;return t&&n}),m=e=>{h("/teacher/students/".concat(e))};return i?(0,hl.jsx)("div",{className:"space-y-6",children:(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]})})}):(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Students"}),(0,hl.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and view all students in your institution"})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,hl.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,hl.jsxs)("div",{className:"flex-1 relative",children:[(0,hl.jsx)(Pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,hl.jsx)("input",{type:"text",placeholder:"Search students by name...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,hl.jsx)("div",{className:"w-full md:w-64",children:(0,hl.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"all",children:"All Classes"}),r.map(e=>(0,hl.jsxs)("option",{value:e.id,children:[e.class_name," - ",e.session]},e.id))]})})]}),(0,hl.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Showing ",p.length," of ",e.length," students"]})]}),0===p.length?(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,hl.jsx)(lm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No students found"}),(0,hl.jsx)("p",{className:"text-gray-600",children:o||"all"!==c?"Try adjusting your search or filter criteria":"No students in your institution yet"})]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:(0,hl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,hl.jsx)("thead",{className:"bg-gray-50",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quizzes"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,hl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,hl.jsxs)("tr",{onClick:()=>m(e.id),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("div",{className:"flex items-center",children:[(0,hl.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white font-bold",children:(e.full_name||e.username||"U")[0].toUpperCase()}),(0,hl.jsxs)("div",{className:"ml-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.full_name||e.username}),(0,hl.jsx)("div",{className:"text-sm text-gray-500",children:e.email||e.phone})]})]})}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.class_name||"-"}),(0,hl.jsx)("div",{className:"text-sm text-gray-500",children:e.session||""})]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.quiz_count||0})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.quiz_count>0?"".concat(e.avg_score,"%"):"-"})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.last_login_at?new Date(e.last_login_at).toLocaleDateString():"Never"}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,hl.jsx)(Am,{className:"w-5 h-5 text-gray-400 inline-block"})})]},e.id))})]})}),(0,hl.jsx)("div",{className:"md:hidden space-y-3",children:p.map(e=>(0,hl.jsxs)("div",{onClick:()=>m(e.id),className:"bg-white rounded-lg shadow p-4 flex items-center gap-4 active:bg-gray-50 cursor-pointer transition-colors",children:[(0,hl.jsx)("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg",children:(e.full_name||e.username||"U")[0].toUpperCase()}),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:e.full_name||e.username}),(0,hl.jsxs)("div",{className:"text-sm text-gray-600",children:[e.class_name||"No class"," \u2022 ",e.session||""]}),(0,hl.jsx)("div",{className:"flex items-center gap-3 mt-1",children:(0,hl.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,hl.jsx)(zp,{className:"w-3 h-3"}),e.last_login_at?new Date(e.last_login_at).toLocaleDateString():"Never"]})})]}),(0,hl.jsx)(Am,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]},e.id))})]})]})},Cm=Bf("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mm=e=>{let{conceptMasteryData:t}=e;if(!t||0===t.length)return(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Qf,{className:"w-6 h-6 text-gray-700"}),"Concept Mastery"]}),(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(Qf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-gray-600 text-lg",children:"No concept data yet"}),(0,hl.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Student needs to complete more quizzes to see concept mastery."})]})]});Math.round(t.reduce((e,t)=>e+t.mastery_score,0)/t.length);const n=t.filter(e=>e.mastery_score>=71).length,r=t.filter(e=>e.mastery_score<41).length;return(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Qf,{className:"w-6 h-6 text-gray-700"}),"Concept Mastery"]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Concepts"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-gray-900",children:t.length})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Mastered"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-green-600",children:n}),(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u226571%"})]}),(0,hl.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Struggling"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-red-600",children:r}),(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"<41%"})]})]}),(0,hl.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6 text-sm",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded"}),(0,hl.jsx)("span",{className:"text-gray-700",children:"Struggling (0-40%)"})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("div",{className:"w-6 h-6 bg-yellow-500 rounded"}),(0,hl.jsx)("span",{className:"text-gray-700",children:"Improving (41-70%)"})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded"}),(0,hl.jsx)("span",{className:"text-gray-700",children:"Mastered (71-100%)"})]})]}),(0,hl.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,hl.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:t.map((e,t)=>{return(0,hl.jsxs)("div",{className:"".concat((n=e.mastery_score,n>=71?"bg-green-500 hover:bg-green-600":n>=41?"bg-yellow-500 hover:bg-yellow-600":"bg-red-500 hover:bg-red-600")," ").concat((e.mastery_score,"text-white"),"\n                rounded-lg p-3 cursor-pointer transition-all duration-200 transform hover:scale-105 shadow-md"),title:"".concat(e.concept_name,": ").concat(Math.round(e.mastery_score),"%"),children:[(0,hl.jsx)("div",{className:"text-xs font-semibold text-center truncate mb-1",children:e.concept_name}),(0,hl.jsxs)("div",{className:"text-xl font-black text-center",children:[Math.round(e.mastery_score),"%"]}),(0,hl.jsxs)("div",{className:"text-xs text-center opacity-90 mt-1",children:[e.attempts||0," attempts"]})]},e.id||t);var n})})}),r>0&&(0,hl.jsxs)("div",{className:"mt-6",children:[(0,hl.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:["\ud83c\udfaf Needs Attention (",r," concepts)"]}),(0,hl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,hl.jsx)("ul",{className:"space-y-2",children:t.filter(e=>e.mastery_score<41).sort((e,t)=>e.mastery_score-t.mastery_score).slice(0,5).map((e,t)=>(0,hl.jsxs)("li",{className:"flex justify-between items-center",children:[(0,hl.jsx)("span",{className:"text-gray-700 font-medium",children:e.concept_name}),(0,hl.jsxs)("span",{className:"text-red-600 font-bold",children:[Math.round(e.mastery_score),"%"]})]},e.id||t))})})]}),n>0&&(0,hl.jsxs)("div",{className:"mt-6",children:[(0,hl.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:["\u2b50 Strengths (",n," concepts)"]}),(0,hl.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,hl.jsx)("ul",{className:"space-y-2",children:t.filter(e=>e.mastery_score>=71).sort((e,t)=>t.mastery_score-e.mastery_score).slice(0,5).map((e,t)=>(0,hl.jsxs)("li",{className:"flex justify-between items-center",children:[(0,hl.jsx)("span",{className:"text-gray-700 font-medium",children:e.concept_name}),(0,hl.jsxs)("span",{className:"text-green-600 font-bold",children:[Math.round(e.mastery_score),"%"]})]},e.id||t))})})]})]})},Dm=()=>{var e,n,r,a,i,s,o,l;const{studentId:c}=xe(),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(null),y=ve();(0,t.useEffect)(()=>{v()},[c]);const v=async()=>{p(!0),g(null);try{const e=await(async e=>{try{var t,n,r,a;console.log("[getStudentDetail] Fetching details for student:",e);const{data:i,error:s}=await Ca.from("students").select("*").eq("id",e).single();if(s)throw s;if(!i)return console.warn("[getStudentDetail] Student not found:",e),null;const{data:o,error:l}=await Ca.from("student_class_enrollments").select("\n        student_id,\n        class_id,\n        status,\n        classes (\n          id,\n          class_name,\n          subject,\n          session\n        )\n      ").eq("student_id",e).eq("status","active");l&&console.error("[getStudentDetail] Error fetching enrollments:",l);const{data:c,error:d}=await Ca.from("quiz_results").select("*").eq("student_id",e).order("created_at",{ascending:!1});d&&console.error("[getStudentDetail] Error fetching quiz results:",d);const{data:h,error:f}=await Ca.from("concept_mastery").select("*").eq("student_id",e).order("mastery_score",{ascending:!0});f&&console.error("[getStudentDetail] Error fetching concept mastery:",f);const p=(c||[]).reduce((e,t)=>e+(t.total_points||0),0),m=(null===o||void 0===o?void 0:o.map(e=>e.classes).filter(Boolean))||[],g=u(u({},i),{},{classes:m,class_id:(null===(t=m[0])||void 0===t?void 0:t.id)||null,class_name:(null===(n=m[0])||void 0===n?void 0:n.class_name)||"No class",subject:(null===(r=m[0])||void 0===r?void 0:r.subject)||null,session:(null===(a=m[0])||void 0===a?void 0:a.session)||null,quiz_results:c||[],concept_mastery:h||[],total_points:p,total_quizzes:(null===c||void 0===c?void 0:c.length)||0});return console.log("[getStudentDetail] Student detail loaded successfully"),g}catch(m){return console.error("[getStudentDetail] Error:",m),null}})(c);e?h(e):g("Student not found")}catch(e){console.error("[StudentDetailView] Error loading student:",e),g("Failed to load student details")}finally{p(!1)}};if(f)return(0,hl.jsx)("div",{className:"space-y-6",children:(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,hl.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded w-full"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded w-full"})]})})});if(m||!d)return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("button",{onClick:()=>y("/teacher/students"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Back to Students"]}),(0,hl.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-red-900 mb-2",children:m||"Student not found"}),(0,hl.jsx)("p",{className:"text-red-700 mb-4",children:"The student you're looking for doesn't exist or you don't have permission to view them."}),(0,hl.jsx)("button",{onClick:()=>y("/teacher/students"),className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Return to Student List"})]})]});const x=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("button",{onClick:()=>y("/teacher/students"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Back to Students"]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("div",{className:"flex items-start gap-6",children:[(0,hl.jsx)("div",{className:"flex-shrink-0",children:(0,hl.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white font-black text-4xl shadow-lg",children:(d.full_name||d.username||"U")[0].toUpperCase()})}),(0,hl.jsxs)("div",{className:"flex-1",children:[(0,hl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.full_name||d.username}),(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[(0,hl.jsx)(Cm,{className:"w-4 h-4"}),(0,hl.jsx)("span",{children:d.email||d.phone||"No contact info"})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[(0,hl.jsx)(Qf,{className:"w-4 h-4"}),(0,hl.jsxs)("span",{children:[(null===(e=d.classes)||void 0===e?void 0:e.name)||"No class",(null===(n=d.classes)||void 0===n?void 0:n.grade)&&" \u2022 ".concat(d.classes.grade)]})]}),d.created_at&&(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,hl.jsx)(zp,{className:"w-4 h-4"}),(0,hl.jsxs)("span",{children:["Enrolled: ",x(d.created_at)]})]})]})]}),(0,hl.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 text-center",children:[(0,hl.jsx)(Gf,{className:"w-8 h-8 mx-auto text-yellow-600 mb-2"}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Points"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-gray-900",children:(null===(r=d.total_points)||void 0===r?void 0:r.toLocaleString())||0})]}),(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 text-center",children:[(0,hl.jsx)(Qf,{className:"w-8 h-8 mx-auto text-blue-600 mb-2"}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Quizzes Taken"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-gray-900",children:d.total_quizzes||0})]}),(0,hl.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 text-center",children:[(0,hl.jsx)(Gf,{className:"w-8 h-8 mx-auto text-green-600 mb-2"}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Average Score"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-gray-900",children:d.quiz_results&&d.quiz_results.length>0?"".concat(Math.round(d.quiz_results.reduce((e,t)=>e+(t.score||0),0)/d.quiz_results.length),"%"):"N/A"})]})]})]}),d.quiz_results&&d.quiz_results.length>0&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Yf,{className:"w-6 h-6 text-green-600"}),"Score Trend"]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),(0,hl.jsx)("p",{className:"text-3xl font-black text-blue-600",children:d.quiz_results.length})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Average Score"}),(0,hl.jsxs)("p",{className:"text-3xl font-black text-green-600",children:[Math.round(d.quiz_results.reduce((e,t)=>e+(t.score||0),0)/d.quiz_results.length),"%"]})]}),(0,hl.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Latest Score"}),(0,hl.jsxs)("p",{className:"text-3xl font-black text-purple-600",children:[Math.round((null===(a=d.quiz_results[d.quiz_results.length-1])||void 0===a?void 0:a.score)||0),"%"]})]}),(0,hl.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Trend"}),(0,hl.jsx)("div",{className:"flex items-center justify-center gap-1",children:((e,t)=>{const n=(null===(e=d.quiz_results[0])||void 0===e?void 0:e.score)||0,r=((null===(t=d.quiz_results[d.quiz_results.length-1])||void 0===t?void 0:t.score)||0)-n;return(0,hl.jsxs)(hl.Fragment,{children:[r>0&&(0,hl.jsx)(Yf,{className:"w-6 h-6 text-green-600"}),r<0&&(0,hl.jsx)(Hp,{className:"w-6 h-6 text-red-600"}),(0,hl.jsxs)("p",{className:"text-2xl font-black ".concat(r>0?"text-green-600":r<0?"text-red-600":"text-gray-600"),children:[Math.abs(r).toFixed(0),"%"]})]})})()})]})]}),(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,hl.jsxs)("svg",{viewBox:"0 0 100 50",className:"w-full h-32",preserveAspectRatio:"none",children:[(0,hl.jsx)("line",{x1:"5",y1:"10",x2:"95",y2:"10",stroke:"#e5e7eb",strokeWidth:"0.2"}),(0,hl.jsx)("line",{x1:"5",y1:"25",x2:"95",y2:"25",stroke:"#e5e7eb",strokeWidth:"0.2"}),(0,hl.jsx)("line",{x1:"5",y1:"40",x2:"95",y2:"40",stroke:"#e5e7eb",strokeWidth:"0.2"}),(()=>{const e=d.quiz_results.map(e=>e.score||0),t=Math.max(...e),n=Math.min(...e),r=t-n||1,a=d.quiz_results.map((e,t)=>{const a=5+90*t/(d.quiz_results.length-1||1),i=45-(e.score-n)/r*35;return"".concat(a,",").concat(i)}).join(" ");return(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("polyline",{points:a,fill:"none",stroke:"#10b981",strokeWidth:"0.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.quiz_results.map((e,t)=>{const a=5+90*t/(d.quiz_results.length-1||1),i=45-(e.score-n)/r*35;return(0,hl.jsx)("circle",{cx:a,cy:i,r:"0.8",fill:"#10b981"},t)})]})})()]}),(0,hl.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[(0,hl.jsx)("span",{children:x((null===(i=d.quiz_results[0])||void 0===i?void 0:i.quiz_date)||(null===(s=d.quiz_results[0])||void 0===s?void 0:s.created_at))}),(0,hl.jsx)("span",{children:x((null===(o=d.quiz_results[d.quiz_results.length-1])||void 0===o?void 0:o.quiz_date)||(null===(l=d.quiz_results[d.quiz_results.length-1])||void 0===l?void 0:l.created_at))})]})]})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(qp,{className:"w-6 h-6 text-gray-700"}),"Quiz History"]}),d.quiz_results&&0!==d.quiz_results.length?(0,hl.jsxs)("div",{className:"space-y-3",children:[(0,hl.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,hl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,hl.jsx)("thead",{className:"bg-gray-50",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Questions"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Taken"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),(0,hl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.quiz_results.map((e,t)=>(0,hl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(e.quiz_date||e.created_at)}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ".concat(e.score>=70?"bg-green-100 text-green-800":e.score>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[Math.round(e.score||0),"%"]})}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.correct_answers||0,"/",e.total_questions||0]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.time_taken_seconds?"".concat(Math.floor(e.time_taken_seconds/60),"m ").concat(e.time_taken_seconds%60,"s"):"N/A"}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:e.total_points||0})]},e.id||t))})]})}),(0,hl.jsx)("div",{className:"md:hidden space-y-3",children:d.quiz_results.map((e,t)=>(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,hl.jsx)("div",{children:(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:x(e.quiz_date||e.created_at)})}),(0,hl.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ".concat(e.score>=70?"bg-green-100 text-green-800":e.score>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[Math.round(e.score||0),"%"]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-gray-600",children:"Questions"}),(0,hl.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.correct_answers||0,"/",e.total_questions||0]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-gray-600",children:"Time"}),(0,hl.jsx)("p",{className:"font-semibold text-gray-900",children:e.time_taken_seconds?"".concat(Math.floor(e.time_taken_seconds/60),"m ").concat(e.time_taken_seconds%60,"s"):"N/A"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-gray-600",children:"Points"}),(0,hl.jsx)("p",{className:"font-semibold text-gray-900",children:e.total_points||0})]})]})]},e.id||t))})]}):(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(Qf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-gray-600 text-lg",children:"No quiz attempts yet"}),(0,hl.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"This student hasn't taken any quizzes yet."})]})]}),(0,hl.jsx)(Mm,{conceptMasteryData:d.concept_mastery||[]})]})},Im=Bf("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Rm=Bf("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Lm=()=>{const[e,n]=(0,t.useState)({total_students:0,quizzes_this_week:0,avg_score:0,active_this_week:0}),[r,a]=(0,t.useState)(!0),i=ui();(0,t.useEffect)(()=>{s()},[]);const s=async()=>{a(!0);try{const e=await(async e=>{try{console.log("[getDashboardStats] Fetching stats for institution:",e);const t=new Date,n=t.getDay(),r=t.getDate()-n+(0===n?-6:1),a=new Date(t.setDate(r));a.setHours(0,0,0,0);const i=a.toISOString().split("T")[0],{count:s,error:o}=await Ca.from("students").select("*",{count:"exact",head:!0}).eq("institution_id",e).eq("active",!0);if(o)throw o;const{data:l,error:c}=await Ca.from("quiz_results").select("student_id, score").eq("institution_id",e).gte("quiz_date",i);if(c)throw c;const u=(null===l||void 0===l?void 0:l.length)||0,d=u>0?l.reduce((e,t)=>e+(t.score||0),0)/u:0,h=new Set((null===l||void 0===l?void 0:l.map(e=>e.student_id))||[]).size,f={total_students:s||0,quizzes_this_week:u,avg_score:Math.round(10*d)/10,active_this_week:h};return console.log("[getDashboardStats] Stats calculated:",f),f}catch(t){return console.error("[getDashboardStats] Error:",t),{total_students:0,quizzes_this_week:0,avg_score:0,active_this_week:0}}})(i.institution_id);n(e)}catch(e){console.error("[StatsCards] Error loading stats:",e)}finally{a(!1)}};if(r)return(0,hl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(e=>(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 animate-pulse",children:[(0,hl.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded w-3/4"})]},e))});const o=[{title:"Total Students",value:e.total_students,icon:lm,bgColor:"from-blue-500 to-blue-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Quizzes This Week",value:e.quizzes_this_week,icon:Im,bgColor:"from-green-500 to-green-600",iconBg:"bg-green-100",iconColor:"text-green-600"},{title:"Average Score",value:"".concat(e.avg_score,"%"),icon:Yf,bgColor:"from-purple-500 to-purple-600",iconBg:"bg-purple-100",iconColor:"text-purple-600",subtitle:"This week"},{title:"Active Students",value:e.active_this_week,icon:Rm,bgColor:"from-orange-500 to-orange-600",iconBg:"bg-orange-100",iconColor:"text-orange-600",subtitle:"This week"}];return(0,hl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:o.map((e,t)=>(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[(0,hl.jsx)("div",{className:"".concat(e.iconBg," w-12 h-12 rounded-lg flex items-center justify-center mb-4"),children:(0,hl.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})}),(0,hl.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,hl.jsx)("p",{className:"text-3xl font-black text-gray-900 mb-1",children:e.value}),e.subtitle&&(0,hl.jsx)("p",{className:"text-xs text-gray-500",children:e.subtitle})]},t))})},zm=Bf("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Fm=Bf("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),qm=()=>{const e=(0,t.useMemo)(()=>ui(),[]),[n,r]=(0,t.useState)({group_classes:[],personal_sessions:[]}),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)("all"),[l,c]=(0,t.useState)(!0),u=(0,t.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.institution_id)try{const t=await mm(e.institution_id);i(t||[])}catch(t){console.error("[SRSTeachingPlan] Error loading classes:",t)}else console.error("[SRSTeachingPlan] No institution_id in session")},[e]),d=(0,t.useCallback)(async()=>{if(null===e||void 0===e||!e.institution_id)return console.error("[SRSTeachingPlan] No institution_id in session"),void c(!1);c(!0);const t=setTimeout(()=>{console.warn("[SRSTeachingPlan] Loading timeout after 10 seconds"),c(!1),r({group_classes:[],personal_sessions:[]})},1e4);try{const n="all"===s?null:s,a=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("[getSRSTeachingPlan] Input:",{institutionId:e,classId:t,studentId:n});try{const e=(new Date).toISOString().split("T")[0],r=await Om(t,n,e),a=[],i={};r.forEach(e=>{null===e.student_id?a.push(e):(i[e.student_id]||(i[e.student_id]={student_id:e.student_id,student_name:e.student_name,concepts:[]}),i[e.student_id].concepts.push(e))});const s={group_classes:a,personal_sessions:Object.values(i)};return console.log("[getSRSTeachingPlan] Result:",s),s}catch(r){throw console.error("[getSRSTeachingPlan] Error:",r),r}}(e.institution_id,n,null);clearTimeout(t),r(a||{group_classes:[],personal_sessions:[]})}catch(n){console.error("[SRSTeachingPlan] Error loading teaching plan:",n),clearTimeout(t),r({group_classes:[],personal_sessions:[]})}finally{c(!1)}},[e,s]);(0,t.useEffect)(()=>{u()},[u]),(0,t.useEffect)(()=>{null!==e&&void 0!==e&&e.institution_id&&d()},[e,d]);const h=e=>{switch(e){case"high":return"bg-red-50 border-red-200 text-red-900";case"medium":return"bg-yellow-50 border-yellow-200 text-yellow-900";case"low":return"bg-green-50 border-green-200 text-green-900";default:return"bg-gray-50 border-gray-200 text-gray-900"}},f=e=>{switch(e){case"high":return"Overdue";case"medium":return"Due Today";case"low":return"Upcoming";default:return""}},p=e=>{switch(e){case"high":return"bg-red-600 text-white";case"medium":return"bg-yellow-600 text-white";case"low":return"bg-green-600 text-white";default:return"bg-gray-600 text-white"}};if(l)return(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,hl.jsx)("div",{className:"h-24 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-24 bg-gray-200 rounded"})]})});const m=n.group_classes.length+n.personal_sessions.reduce((e,t)=>e+t.concepts.length,0);return 0===m?(0,hl.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)(Im,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),(0,hl.jsx)("h3",{className:"text-lg font-bold text-green-900 mb-1",children:"No Concepts Due Today!"}),(0,hl.jsx)("p",{className:"text-sm text-green-700",children:"All students are on track with their SRS schedule. Great work!"})]})}):(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,hl.jsx)(zp,{className:"w-6 h-6 text-purple-600"}),"SRS Teaching Plan for Today"]}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Concepts to review based on Spaced Repetition System"})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(lm,{className:"w-5 h-5 text-gray-500"}),(0,hl.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"all",children:"All Classes"}),a.map(e=>(0,hl.jsx)("option",{value:e.id,children:e.class_name},e.id))]})]}),(0,hl.jsxs)("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:m}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:"Total Concepts Due"})]}),(0,hl.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:n.group_classes.length}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:"Group Classes"})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,hl.jsx)("p",{className:"text-3xl font-bold text-green-600",children:n.personal_sessions.length}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:"Personal Sessions"})]})]}),n.group_classes.length>0&&(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,hl.jsx)(lm,{className:"w-5 h-5 text-blue-600"}),(0,hl.jsxs)("h4",{className:"text-lg font-bold text-gray-900",children:["Group Classes (",n.group_classes.length," concepts)"]})]}),(0,hl.jsx)("div",{className:"space-y-2",children:n.group_classes.map((e,t)=>(0,hl.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg ".concat(h(e.priority)),children:(0,hl.jsxs)("div",{className:"flex-1",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,hl.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded ".concat(p(e.priority)),children:f(e.priority)}),e.days_overdue>0&&(0,hl.jsxs)("span",{className:"text-xs text-gray-600",children:["(",e.days_overdue," ",1===e.days_overdue?"day":"days"," overdue)"]})]}),(0,hl.jsx)("p",{className:"font-bold text-lg",children:e.concept_name}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.student_count," ",1===e.student_count?"student needs":"students need"," review \u2022 Average mastery: ",e.avg_mastery,"%"]})]})},t))})]}),n.personal_sessions.length>0&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,hl.jsx)(Cm,{className:"w-5 h-5 text-green-600"}),(0,hl.jsxs)("h4",{className:"text-lg font-bold text-gray-900",children:["Personal Sessions (",n.personal_sessions.length," students)"]})]}),(0,hl.jsx)("div",{className:"space-y-4",children:n.personal_sessions.map((e,t)=>(0,hl.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-green-50",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,hl.jsx)(Cm,{className:"w-5 h-5 text-green-700"}),(0,hl.jsx)("p",{className:"font-bold text-gray-900",children:e.student_name}),(0,hl.jsxs)("span",{className:"text-xs text-gray-600",children:["(",e.concepts.length," ",1===e.concepts.length?"concept":"concepts",")"]})]}),(0,hl.jsx)("div",{className:"space-y-2 ml-7",children:e.concepts.map((e,t)=>(0,hl.jsx)("div",{className:"flex items-center justify-between p-3 border rounded ".concat(h(e.priority)),children:(0,hl.jsxs)("div",{className:"flex-1",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded ".concat(p(e.priority)),children:f(e.priority)}),(0,hl.jsx)("p",{className:"font-semibold",children:e.concept_name})]}),(0,hl.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Mastery: ",e.avg_mastery,"%",e.days_overdue>0&&" \u2022 ".concat(e.days_overdue," days overdue")]})]})},t))})]},t))})]}),(0,hl.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,hl.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[(0,hl.jsx)(Fm,{className:"w-5 h-5"}),"Upload Class Audio to Generate Quiz"]}),(0,hl.jsx)("p",{className:"text-xs text-gray-600 text-center mt-2",children:"The quiz will include review questions for concepts listed above"})]})]})},Bm=Bf("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Um=Bf("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),Vm=Bf("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Hm=Bf("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wm=e=>{let{compact:n=!1}=e;const r=ui(),a=ve(),[i,s]=(0,t.useState)({critical:[],warnings:[],positive:[]}),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)({critical:!0,warnings:!n,positive:!n});(0,t.useEffect)(()=>{h()},[]);const h=async()=>{if(null===r||void 0===r||!r.institution_id)return console.error("[AlertsPanel] No institution_id in session"),void l(!1);l(!0);try{const e=await(async e=>{try{console.log("[getStudentAlerts] Fetching alerts for institution:",e);const t={critical:[],warnings:[],positive:[]},{data:n,error:r}=await Ca.from("students").select("id, full_name, username").eq("institution_id",e).eq("active",!0);if(r)throw r;for(const e of n){const n=await xm(e.id);n.avg_score<60&&n.quiz_count>0?t.critical.push({type:"low_score",severity:"critical",student_id:e.id,student_name:e.full_name,message:"Scoring ".concat(Math.round(n.avg_score),"% average (last 7 days)"),value:n.avg_score,action:"review_progress"}):n.avg_score>=60&&n.avg_score<70&&n.quiz_count>0&&t.warnings.push({type:"moderate_score",severity:"warning",student_id:e.id,student_name:e.full_name,message:"Scoring ".concat(Math.round(n.avg_score),"% average"),value:n.avg_score,action:"monitor"});const r=await bm(e.id);999===r?t.critical.push({type:"never_started",severity:"critical",student_id:e.id,student_name:e.full_name,message:"Has not started taking quizzes yet",value:r,action:"send_reminder"}):r>=7&&r<30?t.critical.push({type:"inactive",severity:"critical",student_id:e.id,student_name:e.full_name,message:"No quiz in ".concat(r," days"),value:r,action:"send_reminder"}):r>=30&&t.critical.push({type:"very_inactive",severity:"critical",student_id:e.id,student_name:e.full_name,message:"Inactive for ".concat(r," days - requires attention"),value:r,action:"send_reminder"});const a=await wm(e.id);a&&a<-20&&t.critical.push({type:"declining_score",severity:"critical",student_id:e.id,student_name:e.full_name,message:"Score dropped ".concat(Math.abs(a),"% this week"),value:a,action:"investigate"});const{data:i}=await Ca.from("concept_mastery").select("concept_name, mastery_score").eq("student_id",e.id).lt("mastery_score",40);i&&i.length>=3&&t.critical.push({type:"struggling_concepts",severity:"critical",student_id:e.id,student_name:e.full_name,message:"Struggling with ".concat(i.length," concepts"),value:i.length,action:"assign_practice"});const{data:s}=await Ca.from("quiz_results").select("streak_count").eq("student_id",e.id).order("created_at",{ascending:!1}).limit(1);s&&s[0]&&s[0].streak_count>=7&&t.positive.push({type:"long_streak",severity:"positive",student_id:e.id,student_name:e.full_name,message:"".concat(s[0].streak_count," day streak! \ud83d\udd25"),value:s[0].streak_count,action:"celebrate"}),a&&a>20&&t.positive.push({type:"improving",severity:"positive",student_id:e.id,student_name:e.full_name,message:"Improved ".concat(a,"% this week!"),value:a,action:"encourage"})}const a=await jm(e);return t.warnings.push(...a),console.log("[getStudentAlerts] Found:",t.critical.length,"critical,",t.warnings.length,"warnings,",t.positive.length,"positive"),t}catch(t){return console.error("[getStudentAlerts] Error:",t),{critical:[],warnings:[],positive:[]}}})(r.institution_id);s(e)}catch(e){console.error("[AlertsPanel] Error loading alerts:",e)}finally{l(!1)}},f=e=>{d(t=>u(u({},t),{},{[e]:!t[e]}))},p=e=>{e.student_id&&a("/teacher/students/".concat(e.student_id))},m=e=>{switch(e){case"low_score":case"inactive":case"declining_score":case"struggling_concepts":return(0,hl.jsx)(Bm,{className:"w-5 h-5 text-red-500"});case"moderate_score":case"weak_concept":return(0,hl.jsx)($f,{className:"w-5 h-5 text-yellow-500"});case"long_streak":case"improving":return(0,hl.jsx)(Um,{className:"w-5 h-5 text-green-500"});default:return(0,hl.jsx)($f,{className:"w-5 h-5 text-gray-500"})}},g=e=>{const t={review_progress:{label:"Review Progress",color:"red"},send_reminder:{label:"Send Reminder",color:"orange"},investigate:{label:"Investigate",color:"red"},assign_practice:{label:"Assign Practice",color:"yellow"},celebrate:{label:"Send Encouragement",color:"green"},encourage:{label:"Celebrate",color:"green"}}[e.action];return t?(0,hl.jsx)("button",{className:"text-xs px-2 py-1 bg-".concat(t.color,"-50 text-").concat(t.color,"-700 rounded hover:bg-").concat(t.color,"-100 transition-colors"),children:t.label}):null},y=i.critical.length+i.warnings.length+i.positive.length;return o?(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,hl.jsx)("div",{className:"h-16 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-16 bg-gray-200 rounded"})]})}):0===y?(0,hl.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)(Um,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),(0,hl.jsx)("h3",{className:"text-lg font-bold text-green-900 mb-1",children:"All Clear! \ud83c\udf89"}),(0,hl.jsx)("p",{className:"text-sm text-green-700",children:"No alerts at the moment. Great work!"})]})}):(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,hl.jsx)(Bm,{className:"w-6 h-6 text-red-500"}),"Alerts"]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[i.critical.length," critical, ",i.warnings.length," warnings, ",i.positive.length," positive"]})]}),(0,hl.jsxs)("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4"}),"Refresh"]})]}),i.critical.length>0&&(0,hl.jsxs)("div",{className:"mb-4",children:[(0,hl.jsxs)("button",{onClick:()=>f("critical"),className:"w-full flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:[(0,hl.jsxs)("span",{className:"font-semibold text-red-900 flex items-center gap-2",children:[(0,hl.jsx)(Bm,{className:"w-5 h-5"}),"Critical (",i.critical.length,")"]}),c.critical?(0,hl.jsx)(Vm,{className:"w-5 h-5 text-red-700"}):(0,hl.jsx)(Hm,{className:"w-5 h-5 text-red-700"})]}),c.critical&&(0,hl.jsxs)("div",{className:"mt-2 space-y-2",children:[i.critical.slice(0,n?3:void 0).map((e,t)=>(0,hl.jsxs)("div",{onClick:()=>p(e),className:"flex items-center gap-3 p-3 border border-red-200 rounded-lg hover:bg-red-50 cursor-pointer transition-colors",children:[m(e.type),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.student_name||e.concept_name}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.message})]}),(0,hl.jsx)("div",{className:"flex-shrink-0",children:g(e)})]},t)),n&&i.critical.length>3&&(0,hl.jsxs)("button",{className:"w-full text-center text-sm text-red-600 hover:text-red-800 font-semibold py-2",children:["View all ",i.critical.length," critical alerts \u2192"]})]})]}),i.warnings.length>0&&(0,hl.jsxs)("div",{className:"mb-4",children:[(0,hl.jsxs)("button",{onClick:()=>f("warnings"),className:"w-full flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition-colors",children:[(0,hl.jsxs)("span",{className:"font-semibold text-yellow-900 flex items-center gap-2",children:[(0,hl.jsx)($f,{className:"w-5 h-5"}),"Warnings (",i.warnings.length,")"]}),c.warnings?(0,hl.jsx)(Vm,{className:"w-5 h-5 text-yellow-700"}):(0,hl.jsx)(Hm,{className:"w-5 h-5 text-yellow-700"})]}),c.warnings&&(0,hl.jsxs)("div",{className:"mt-2 space-y-2",children:[i.warnings.slice(0,n?3:void 0).map((e,t)=>(0,hl.jsxs)("div",{onClick:()=>p(e),className:"flex items-center gap-3 p-3 border border-yellow-200 rounded-lg hover:bg-yellow-50 cursor-pointer transition-colors",children:[m(e.type),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.student_name||e.concept_name}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.message})]}),e.student_count&&(0,hl.jsxs)("div",{className:"flex-shrink-0 text-xs font-semibold text-gray-500",children:[e.student_count," students"]})]},t)),n&&i.warnings.length>3&&(0,hl.jsxs)("button",{className:"w-full text-center text-sm text-yellow-600 hover:text-yellow-800 font-semibold py-2",children:["View all ",i.warnings.length," warnings \u2192"]})]})]}),i.positive.length>0&&!n&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("button",{onClick:()=>f("positive"),className:"w-full flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[(0,hl.jsxs)("span",{className:"font-semibold text-green-900 flex items-center gap-2",children:[(0,hl.jsx)(Um,{className:"w-5 h-5"}),"Positive (",i.positive.length,")"]}),c.positive?(0,hl.jsx)(Vm,{className:"w-5 h-5 text-green-700"}):(0,hl.jsx)(Hm,{className:"w-5 h-5 text-green-700"})]}),c.positive&&(0,hl.jsx)("div",{className:"mt-2 space-y-2",children:i.positive.slice(0,5).map((e,t)=>(0,hl.jsxs)("div",{onClick:()=>p(e),className:"flex items-center gap-3 p-3 border border-green-200 rounded-lg hover:bg-green-50 cursor-pointer transition-colors",children:[m(e.type),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.student_name}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.message})]}),(0,hl.jsx)("div",{className:"flex-shrink-0",children:g(e)})]},t))})]})]})},Km=Bf("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]),Gm=Bf("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Qm="class-audio",Ym="audioUploadForm",$m=e=>{let{onUploadComplete:n}=e;const r=ui(),[a,i]=(0,t.useState)("group"),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)((new Date).toISOString().split("T")[0]),[u,d]=(0,t.useState)("14:00"),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)([]),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)(0),[k,S]=(0,t.useState)(null),[N,E]=(0,t.useState)(""),[O,P]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem(Ym);if(e)try{const t=JSON.parse(e);t.sessionType&&i(t.sessionType),t.selectedClassId&&o(t.selectedClassId),t.selectedDate&&c(t.selectedDate),t.selectedTime&&d(t.selectedTime),t.selectedStudentId&&f(t.selectedStudentId)}catch(dH){console.error("[AudioUpload] Failed to load saved form:",dH)}},[]),(0,t.useEffect)(()=>{const e={sessionType:a,selectedClassId:s,selectedDate:l,selectedTime:u,selectedStudentId:h};localStorage.setItem(Ym,JSON.stringify(e))},[a,s,l,u,h]),(0,t.useEffect)(()=>{null!==r&&void 0!==r&&r.institution_id&&A()},[null===r||void 0===r?void 0:r.institution_id]),(0,t.useEffect)(()=>{"personal"===a&&s&&T()},[a,s]);const A=async()=>{const e=await(async e=>{try{const{data:t,error:n}=await Ca.from("classes").select("id, class_name, class_code, subject").eq("institution_id",e).eq("active",!0).order("class_name");if(n)throw n;return t||[]}catch(t){return console.error("[AudioUpload] Failed to fetch classes:",t),[]}})(r.institution_id);y(e),!s&&e.length>0&&o(e[0].id)},T=async()=>{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(t){const{data:e,error:n}=await Ca.from("student_class_enrollments").select("\n          student:students(id, full_name, username)\n        ").eq("class_id",t).eq("status","active");if(n)throw n;return(e||[]).map(e=>e.student).filter(Boolean)}{const{data:t,error:n}=await Ca.from("students").select("id, full_name, username").eq("institution_id",e).eq("active",!0).order("full_name");if(n)throw n;return t||[]}}catch(n){return console.error("[AudioUpload] Failed to fetch students:",n),[]}}(r.institution_id,s);x(e)},C=(0,t.useCallback)(e=>{const t=(e=>{if(!e)return{valid:!1,error:"No file selected"};const t=e.size/1048576;if(t>500)return{valid:!1,error:"File too large (".concat(t.toFixed(1),"MB). Maximum is ").concat(500,"MB.")};const n="."+e.name.split(".").pop().toLowerCase();return["audio/mpeg","audio/mp3","audio/wav","audio/m4a","audio/x-m4a","audio/mp4"].includes(e.type)||[".mp3",".wav",".m4a",".mp4",".mpeg"].includes(n)?{valid:!0,sizeMB:t.toFixed(2)}:{valid:!1,error:"Invalid file type. Allowed: MP3, WAV, M4A"}})(e);if(!t.valid)return S("error"),void E(t.error);m(e),S(null),E("Selected: ".concat(e.name," (").concat(t.sizeMB,"MB)"))},[]);return(0,hl.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,hl.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,hl.jsx)(Cp,{className:"w-6 h-6"})}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h3",{className:"font-bold text-lg",children:"Upload Class Recording"}),(0,hl.jsx)("p",{className:"text-green-100 text-sm",children:"Generate quiz questions from your class audio"})]})]})}),(0,hl.jsxs)("div",{className:"p-6 space-y-5",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Session Type"}),(0,hl.jsxs)("div",{className:"flex gap-2",children:[(0,hl.jsxs)("button",{type:"button",onClick:()=>i("group"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ".concat("group"===a?"bg-green-100 text-green-700 border-2 border-green-500":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"),children:[(0,hl.jsx)(lm,{className:"w-5 h-5"}),"Group Class"]}),(0,hl.jsxs)("button",{type:"button",onClick:()=>i("personal"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ".concat("personal"===a?"bg-blue-100 text-blue-700 border-2 border-blue-500":"bg-gray-50 text-gray-600 border-2 border-transparent hover:bg-gray-100"),children:[(0,hl.jsx)(Cm,{className:"w-5 h-5"}),"Personal"]})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class"}),(0,hl.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[(0,hl.jsx)("option",{value:"",children:"Select a class..."}),g.map(e=>(0,hl.jsxs)("option",{value:e.id,children:[e.class_name," (",e.class_code,")"]},e.id))]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,hl.jsx)(zp,{className:"w-4 h-4 inline mr-1"}),"Date"]}),(0,hl.jsx)("input",{type:"date",value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,hl.jsx)(qp,{className:"w-4 h-4 inline mr-1"}),"Time"]}),(0,hl.jsx)("input",{type:"time",value:u,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),"personal"===a&&(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student"}),(0,hl.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,hl.jsx)("option",{value:"",children:"Select a student..."}),v.map(e=>(0,hl.jsxs)("option",{value:e.id,children:[e.full_name," (@",e.username,")"]},e.id))]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio File"}),(0,hl.jsx)("div",{onDragOver:e=>{e.preventDefault(),P(!0)},onDragLeave:e=>{e.preventDefault(),P(!1)},onDrop:e=>{e.preventDefault(),P(!1);const t=e.dataTransfer.files[0];t&&C(t)},className:"relative border-2 border-dashed rounded-xl p-6 text-center transition-all ".concat(O?"border-green-500 bg-green-50":p?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"),children:p?(0,hl.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,hl.jsx)(Km,{className:"w-8 h-8 text-green-600"}),(0,hl.jsxs)("div",{className:"text-left",children:[(0,hl.jsx)("p",{className:"font-medium text-gray-900",children:p.name}),(0,hl.jsxs)("p",{className:"text-sm text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]}),(0,hl.jsx)("button",{onClick:()=>{m(null),E(""),S(null)},className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:(0,hl.jsx)(Op,{className:"w-5 h-5 text-gray-500"})})]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Fm,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),(0,hl.jsx)("p",{className:"text-gray-600 mb-1",children:"Drag & drop your audio file here"}),(0,hl.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"or"}),(0,hl.jsxs)("label",{className:"inline-block px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium cursor-pointer hover:bg-gray-200 transition-colors",children:["Browse Files",(0,hl.jsx)("input",{type:"file",accept:"audio/*,.mp3,.wav,.m4a",onChange:e=>{const t=e.target.files[0];t&&C(t)},className:"hidden"})]}),(0,hl.jsx)("p",{className:"text-xs text-gray-400 mt-3",children:"Supported: MP3, WAV, M4A (max 500MB)"})]})})]}),b&&(0,hl.jsxs)("div",{className:"space-y-2",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Uploading..."}),(0,hl.jsxs)("span",{className:"font-medium text-green-600",children:[j,"%"]})]}),(0,hl.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,hl.jsx)("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:"".concat(j,"%")}})})]}),N&&!b&&(0,hl.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg ".concat("success"===k?"bg-green-50 text-green-700":"error"===k?"bg-red-50 text-red-700":"bg-gray-50 text-gray-600"),children:["success"===k&&(0,hl.jsx)(Jf,{className:"w-5 h-5"}),"error"===k&&(0,hl.jsx)($f,{className:"w-5 h-5"}),(0,hl.jsx)("span",{className:"text-sm",children:N})]}),(0,hl.jsxs)("div",{className:"flex gap-3",children:[(0,hl.jsx)("button",{onClick:()=>{var e;i("group"),o((null===(e=g[0])||void 0===e?void 0:e.id)||""),c((new Date).toISOString().split("T")[0]),d("14:00"),f(""),m(null),E(""),S(null),localStorage.removeItem(Ym)},disabled:b,className:"px-4 py-3 text-gray-600 font-medium rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Clear Form"}),(0,hl.jsx)("button",{onClick:async()=>{if(!p)return S("error"),void E("Please select an audio file");if(!s)return S("error"),void E("Please select a class");if("personal"===a&&!h)return S("error"),void E("Please select a student for personal session");const e=g.find(e=>e.id===s),t=v.find(e=>e.id===h),i=(e=>{let{sessionType:t,date:n,time:r,classCode:a,studentUsername:i,originalFileName:s}=e;const o=s.split(".").pop()||"mp3",l=n.replace(/-/g,""),c=r.replace(":","");return"personal"===t&&i?"personal-".concat(l,"-").concat(c,"-").concat(a,"-").concat(i.toLowerCase(),".").concat(o):"group-".concat(l,"-").concat(c,"-").concat(a,".").concat(o)})({sessionType:a,date:l,time:u,classCode:(null===e||void 0===e?void 0:e.class_code)||"UNKNOWN",studentUsername:null===t||void 0===t?void 0:t.username,originalFileName:p.name}),o={institution_id:r.institution_id,class_id:s,student_id:"personal"===a?h:null,session_type:a,upload_date:l,class_time:u,uploaded_by:r.teacher_id||r.user_id,file_name:i,original_file_name:p.name};w(!0),_(0),S(null),E("Uploading...");try{const e=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("[AudioUpload] Uploading to Supabase Storage:",{fileName:t.file_name,fileSize:"".concat((e.size/1024/1024).toFixed(2)," MB"),metadata:t});const a="".concat(t.institution_id,"/").concat(t.file_name);if(e.size/1048576>50){console.log("[AudioUpload] File >50MB, using resumable upload (TUS protocol)");const t="https://qhvxijsrtzpirjbuoicy.supabase.co",r="sb_publishable_73u_1S7JUs4FTEufLy2b0Q_yXIRwrHB";if(!t||!r)throw new Error("Supabase configuration missing");const i="".concat(t,"/storage/v1/upload/resumable"),s=await fetch(i,{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json","x-upsert":"true"},body:JSON.stringify({bucketName:Qm,objectName:a})});if(!s.ok){const e=await s.text();throw new Error("Failed to create upload session: ".concat(e))}const{uploadId:o}=await s.json();console.log("[AudioUpload] Resumable upload session created:",o);const l=6291456;let c=0;for(;c<e.size;){const t=e.slice(c,c+l),a=Math.min(c+l,e.size),s=await fetch("".concat(i,"/").concat(o),{method:"PATCH",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/offset+octet-stream","Upload-Offset":c.toString()},body:t});if(!s.ok){const e=await s.text();throw new Error("Failed to upload chunk: ".concat(e))}c=a;const u=Math.round(c/e.size*100);console.log("[AudioUpload] Progress: ".concat(u,"%")),n&&n(u)}console.log("[AudioUpload] Resumable upload completed")}else{console.log("[AudioUpload] File \u226450MB, using standard upload");const{data:t,error:n}=await Ca.storage.from(Qm).upload(a,e,{cacheControl:"3600",upsert:!0});if(n)throw new Error("Storage upload failed: ".concat(n.message))}const{data:i}=Ca.storage.from(Qm).getPublicUrl(a),s=null===i||void 0===i?void 0:i.publicUrl;console.log("[AudioUpload] File uploaded:",s);const{data:o,error:l}=await Ca.from("audio_uploads").insert({institution_id:t.institution_id,class_id:t.class_id,student_id:t.student_id||null,file_name:t.file_name,file_url:s,file_size_mb:e.size/1048576,upload_date:t.upload_date,class_time:t.class_time,session_type:t.session_type,uploaded_by:t.uploaded_by,processing_status:"pending"}).select().single();if(l)return console.error("[AudioUpload] Database insert failed:",l),{success:!0,uploadId:null,fileUrl:s,message:"Audio uploaded but tracking failed. Please contact support.",warning:l.message};console.log("[AudioUpload] Record created:",o.id);try{const e={NODE_ENV:"production",PUBLIC_URL:"/fluence-daily-quiz-v3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_ANON_KEY:"sb_publishable_73u_1S7JUs4FTEufLy2b0Q_yXIRwrHB",REACT_APP_SUPABASE_URL:"https://qhvxijsrtzpirjbuoicy.supabase.co"}.REACT_APP_N8N_AUDIO_TRANSCRIPTION_WEBHOOK||"https://n8n.myworkflow.top/webhook/audio-transcription";console.log("[AudioUpload] Triggering transcription workflow:",e);const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({upload_id:o.id,file_url:s,metadata:{institution_id:t.institution_id,student_id:t.student_id||null,class_id:t.class_id||null,session_type:t.session_type,class_date:t.upload_date,class_time:t.class_time}})});n.ok?console.log("[AudioUpload] Transcription workflow triggered successfully"):console.warn("[AudioUpload] Transcription webhook failed (status",n.status,"), but upload succeeded. Transcription may need manual trigger.")}catch(r){console.error("[AudioUpload] Failed to trigger transcription:",r)}return{success:!0,uploadId:o.id,fileUrl:s,message:"Audio uploaded successfully! Transcription in progress..."}}catch(a){return console.error("[AudioUpload] Upload failed:",a),{success:!1,error:a.message||"Failed to upload audio"}}}(p,o,e=>{_(e),E("Uploading... ".concat(e,"%"))});_(100),e.success?(S("success"),E(e.message||"Audio uploaded successfully! Questions will be generated in 5-10 minutes."),m(null),n&&n(e)):(S("error"),E(e.error||"Upload failed. Please try again."))}catch(c){S("error"),E(c.message||"Upload failed. Please try again.")}finally{w(!1),setTimeout(()=>_(0),2e3)}},disabled:b||!p,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Gm,{className:"w-5 h-5 animate-spin"}),"Uploading..."]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Fm,{className:"w-5 h-5"}),"Upload & Generate Questions"]})})]})]})]})},Xm=Bf("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Jm=e=>{let{refreshTrigger:n}=e;const r=ui(),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),l=(0,t.useCallback)(async()=>{if(null===r||void 0===r||!r.institution_id)return;o(!0);const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let r=Ca.from("audio_uploads").select("\n        id,\n        file_name,\n        file_url,\n        file_size_mb,\n        upload_date,\n        class_time,\n        session_type,\n        processing_status,\n        questions_generated,\n        error_message,\n        created_at,\n        processed_at,\n        class:classes(id, class_name, class_code),\n        student:students(id, full_name, username)\n      ").eq("institution_id",e).order("created_at",{ascending:!1}).limit(n);t&&(r=r.eq("uploaded_by",t));const{data:a,error:i}=await r;if(i)throw i;return a||[]}catch(r){return console.error("[AudioUpload] Failed to fetch recent uploads:",r),[]}}(r.institution_id,null,10);i(e),o(!1)},[null===r||void 0===r?void 0:r.institution_id]);(0,t.useEffect)(()=>{l()},[l,n]),(0,t.useEffect)(()=>{if(a.some(e=>"pending"===e.processing_status||"processing"===e.processing_status)){const e=setInterval(l,3e4);return()=>clearInterval(e)}},[a,l]);const c=e=>{switch(e){case"completed":return(0,hl.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[(0,hl.jsx)(Jf,{className:"w-3 h-3"}),"Completed"]});case"processing":return(0,hl.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[(0,hl.jsx)(Gm,{className:"w-3 h-3 animate-spin"}),"Processing"]});case"pending":return(0,hl.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[(0,hl.jsx)(qp,{className:"w-3 h-3"}),"Pending"]});case"failed":return(0,hl.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[(0,hl.jsx)($f,{className:"w-3 h-3"}),"Failed"]});default:return(0,hl.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:e})}},u=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})},d=e=>{if(!e)return"-";const[t,n]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(a)};return s&&0===a.length?(0,hl.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,hl.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[(0,hl.jsx)(Gm,{className:"w-5 h-5 animate-spin"}),"Loading recent uploads..."]})}):0===a.length?(0,hl.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,hl.jsx)(Km,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,hl.jsx)("p",{className:"text-gray-500",children:"No uploads yet"}),(0,hl.jsx)("p",{className:"text-sm text-gray-400",children:"Upload your first class recording above"})]}):(0,hl.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,hl.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,hl.jsx)("h3",{className:"font-semibold text-gray-900",children:"Recent Uploads"}),(0,hl.jsx)("button",{onClick:l,disabled:s,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Refresh",children:(0,hl.jsx)(zm,{className:"w-4 h-4 ".concat(s?"animate-spin":"")})})]}),(0,hl.jsx)("div",{className:"overflow-x-auto",children:(0,hl.jsxs)("table",{className:"w-full",children:[(0,hl.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date / Time"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Class"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Questions"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),(0,hl.jsx)("tbody",{className:"divide-y divide-gray-200",children:a.map(e=>{var t,n;return(0,hl.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:u(e.upload_date)}),(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:d(e.class_time)})]}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.class)||void 0===t?void 0:t.class_name)||"-"}),(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:(null===(n=e.class)||void 0===n?void 0:n.class_code)||"-"})]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"personal"===e.session_type?(0,hl.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,hl.jsx)(Cm,{className:"w-4 h-4 text-blue-500"}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:"Personal"}),e.student&&(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:e.student.full_name})]})]}):(0,hl.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,hl.jsx)(lm,{className:"w-4 h-4 text-green-500"}),(0,hl.jsx)("span",{className:"text-sm text-gray-900",children:"Group"})]})}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[c(e.processing_status),e.error_message&&(0,hl.jsx)("p",{className:"text-xs text-red-500 mt-1 max-w-[200px] truncate",title:e.error_message,children:e.error_message})]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"completed"===e.processing_status?(0,hl.jsx)("span",{className:"text-sm font-semibold text-green-600",children:e.questions_generated||30}):(0,hl.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.file_url&&(0,hl.jsxs)("a",{href:e.file_url,download:e.file_name,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Download audio file",children:[(0,hl.jsx)(Xm,{className:"w-4 h-4"}),"Download"]})})]},e.id)})})]})})]})},Zm=()=>{const[e,n]=(0,t.useState)(0);return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),(0,hl.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor your institution's performance at a glance"})]}),(0,hl.jsx)(Lm,{}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,hl.jsx)($m,{onUploadComplete:e=>{console.log("[OverviewTab] Upload complete:",e),n(e=>e+1)}}),(0,hl.jsx)(Jm,{refreshTrigger:e})]}),(0,hl.jsx)(qm,{}),(0,hl.jsx)(Wm,{})]})},eg=Bf("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tg=e=>{let{isOpen:n,onClose:r,onClassCreated:a}=e;const i=ui(),[s,o]=(0,t.useState)({class_name:"",class_code:"",subject:"",session:"",max_students:100,active:!0}),[l,c]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),m=(e,t)=>{"class_code"===e&&p(!0),o(n=>{const r=u(u({},n),{},{[e]:t});return"class_name"!==e||f||(r.class_code=(e=>{if(!e)return"";const t=e.toUpperCase().replace(/[^A-Z0-9]/g,""),n=(new Date).getFullYear();return"FLUENCE-".concat(t,"-").concat(n)})(t)),r}),l[e]&&c(t=>u(u({},t),{},{[e]:null}))},g=()=>{d||(o({class_name:"",class_code:"",subject:"",session:"",max_students:100,active:!0}),c({}),p(!1),r())};return n?(0,hl.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,hl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:g}),(0,hl.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,hl.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Class"}),(0,hl.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:d,children:(0,hl.jsx)(Op,{className:"w-6 h-6"})})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.class_name.trim()||(e.class_name="Class name is required"),s.class_code.trim()?/^[A-Z0-9-]+$/.test(s.class_code)||(e.class_code="Class code can only contain uppercase letters, numbers, and hyphens"):e.class_code="Class code is required",s.subject.trim()||(e.subject="Subject is required"),s.session.trim()||(e.session="Session/Year is required"),s.max_students<=0&&(e.max_students="Max students must be greater than 0"),c(e),0===Object.keys(e).length})()){h(!0);try{const{data:e}=await Ca.from("classes").select("id").eq("institution_id",i.institution_id).eq("class_code",s.class_code).maybeSingle();if(e)return c({class_code:"This class code already exists. Please use a different code."}),void h(!1);const{data:t,error:n}=await Ca.from("classes").insert({institution_id:i.institution_id,class_name:s.class_name.trim(),class_code:s.class_code.trim(),subject:s.subject.trim(),session:s.session.trim(),max_students:s.max_students,active:s.active}).select().single();if(n)throw n;window.alert('Class "'.concat(s.class_name,'" created successfully!')),o({class_name:"",class_code:"",subject:"",session:"",max_students:100,active:!0}),p(!1),a&&a(t),r()}catch(t){console.error("[ClassCreationModal] Error creating class:",t),window.alert("Failed to create class. Please try again.")}finally{h(!1)}}},className:"p-6 space-y-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Class Name ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:s.class_name,onChange:e=>m("class_name",e.target.value),placeholder:"e.g., Class 7, Grade 10A",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(l.class_name?"border-red-500":"border-gray-300"),disabled:d}),l.class_name&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),l.class_name]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Class Code ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:s.class_code,onChange:e=>m("class_code",e.target.value.toUpperCase()),placeholder:"e.g., FLUENCE-CLASS7-2025",className:"w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(l.class_code?"border-red-500":"border-gray-300"),disabled:d}),l.class_code&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),l.class_code]}),(0,hl.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Unique identifier for this class. Auto-generated but can be customized."})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:s.subject,onChange:e=>m("subject",e.target.value),placeholder:"e.g., Mathematics, Science, English",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(l.subject?"border-red-500":"border-gray-300"),disabled:d}),l.subject&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),l.subject]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Session/Year ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:s.session,onChange:e=>m("session",e.target.value),placeholder:"e.g., 2025-26, Spring 2025",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(l.session?"border-red-500":"border-gray-300"),disabled:d}),l.session&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),l.session]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),(0,hl.jsx)("input",{type:"number",value:s.max_students,onChange:e=>m("max_students",parseInt(e.target.value)||0),min:"1",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(l.max_students?"border-red-500":"border-gray-300"),disabled:d}),l.max_students&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),l.max_students]})]}),(0,hl.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,hl.jsx)("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",disabled:d,children:"Cancel"}),(0,hl.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:d,children:d?"Creating...":"Create Class"})]})]})]})})]}):null},ng=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=ui(),d=ve();(0,t.useEffect)(()=>{h()},[]);const h=async()=>{a(!0);try{const e=await mm(c.institution_id),t=await Promise.all(e.map(async e=>{const{count:t}=await Ca.from("student_class_enrollments").select("*",{count:"exact",head:!0}).eq("class_id",e.id).eq("status","active");return u(u({},e),{},{student_count:t||0})}));n(t)}catch(e){console.error("[ClassManagement] Error loading classes:",e)}finally{a(!1)}},f=e.filter(e=>(e.class_name||"").toLowerCase().includes(i.toLowerCase())||(e.class_code||"").toLowerCase().includes(i.toLowerCase())||(e.subject||"").toLowerCase().includes(i.toLowerCase())),p=e=>{d("/teacher/classes/".concat(e))};return r?(0,hl.jsx)("div",{className:"space-y-6",children:(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]})})}):(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-start",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Classes"}),(0,hl.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage classes and student enrollments"})]}),(0,hl.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[(0,hl.jsx)(eg,{className:"w-5 h-5"}),"New Class"]})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,hl.jsxs)("div",{className:"relative",children:[(0,hl.jsx)(Pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,hl.jsx)("input",{type:"text",placeholder:"Search classes by name, code, or subject...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,hl.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Showing ",f.length," of ",e.length," classes"]})]}),0===f.length?(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,hl.jsx)(um,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i?"No classes found":"No classes yet"}),(0,hl.jsx)("p",{className:"text-gray-600",children:i?"Try adjusting your search criteria":"Create your first class to get started"})]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:(0,hl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,hl.jsx)("thead",{className:"bg-gray-50",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Code"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,hl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(e=>(0,hl.jsxs)("tr",{onClick:()=>p(e.id),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("div",{className:"flex items-center",children:[(0,hl.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold",children:(e.class_name||"C")[0].toUpperCase()}),(0,hl.jsx)("div",{className:"ml-4",children:(0,hl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.class_name})})]})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.subject||"-"})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.session||"-"})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,hl.jsx)(lm,{className:"w-4 h-4 mr-2 text-gray-400"}),e.student_count," / ",e.max_students||"\u221e"]})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded inline-block",children:e.class_code})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})})]},e.id))})]})}),(0,hl.jsx)("div",{className:"md:hidden space-y-3",children:f.map(e=>(0,hl.jsx)("div",{onClick:()=>p(e.id),className:"bg-white rounded-lg shadow p-4 cursor-pointer active:bg-gray-50 transition-colors",children:(0,hl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,hl.jsx)("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold text-lg",children:(e.class_name||"C")[0].toUpperCase()}),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:e.class_name}),(0,hl.jsxs)("div",{className:"text-sm text-gray-600",children:[e.subject," \u2022 ",e.session]}),(0,hl.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,hl.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,hl.jsx)(lm,{className:"w-3 h-3"}),e.student_count," students"]}),(0,hl.jsx)("span",{className:"text-xs font-mono bg-gray-100 px-2 py-0.5 rounded",children:e.class_code})]})]})]}),(0,hl.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})]})},e.id))})]}),(0,hl.jsx)(tg,{isOpen:o,onClose:()=>l(!1),onClassCreated:e=>{h()}})]})},rg=Bf("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ag=Bf("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ig=()=>{const{classId:e}=xe(),n=ve(),r=ui(),[a,i]=(0,t.useState)(null),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{m()},[e]);const m=async()=>{h(!0);try{const{data:t,error:n}=await Ca.from("classes").select("*").eq("id",e).single();if(n)throw n;i(t);const{data:a,error:s}=await Ca.from("student_class_enrollments").select("\n          id,\n          student_id,\n          joined_at,\n          students (\n            id,\n            full_name,\n            username,\n            email,\n            phone_number,\n            last_login_at\n          )\n        ").eq("class_id",e).eq("status","active");if(s)throw s;const l=(null===a||void 0===a?void 0:a.map(e=>u(u({},e.students),{},{enrollment_id:e.id,joined_at:e.joined_at})))||[];o(l);const d=l.map(e=>e.id),{data:h,error:f}=await Ca.from("students").select("id, full_name, username, email, phone_number").eq("institution_id",r.institution_id).eq("active",!0).not("id","in","(".concat(d.length>0?d.join(","):"null",")"));if(f)throw f;c(h||[])}catch(t){console.error("[ClassDetail] Error loading data:",t)}finally{h(!1)}};return d?(0,hl.jsx)("div",{className:"space-y-6",children:(0,hl.jsxs)("div",{className:"animate-pulse",children:[(0,hl.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,hl.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):a?(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("button",{onClick:()=>n("/teacher/classes"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,hl.jsx)(Hf,{className:"w-5 h-5"}),"Back to Classes"]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsx)("div",{className:"flex items-start justify-between",children:(0,hl.jsxs)("div",{className:"flex items-center gap-4",children:[(0,hl.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold text-2xl",children:(a.class_name||"C")[0].toUpperCase()}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:a.class_name}),(0,hl.jsxs)("p",{className:"text-gray-600 mt-1",children:[a.subject," \u2022 ",a.session]}),(0,hl.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,hl.jsxs)("span",{className:"text-sm font-mono bg-gray-100 px-3 py-1 rounded",children:["Code: ",a.class_code]}),(0,hl.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full ".concat(a.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:a.active?"Active":"Inactive"})]})]})]})}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,hl.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[(0,hl.jsx)(lm,{className:"w-5 h-5"}),(0,hl.jsx)("span",{className:"text-sm font-medium",children:"Total Students"})]}),(0,hl.jsxs)("p",{className:"text-2xl font-black text-gray-900",children:[s.length,(0,hl.jsxs)("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["/ ",a.max_students||"\u221e"]})]})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[(0,hl.jsx)(Im,{className:"w-5 h-5"}),(0,hl.jsx)("span",{className:"text-sm font-medium",children:"Subject"})]}),(0,hl.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:a.subject||"Not specified"})]}),(0,hl.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5"}),(0,hl.jsx)("span",{className:"text-sm font-medium",children:"Session"})]}),(0,hl.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:a.session||"Not specified"})]})]})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Student Roster"}),(0,hl.jsxs)("button",{onClick:()=>p(!f),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[(0,hl.jsx)(rg,{className:"w-5 h-5"}),"Add Student"]})]}),f&&(0,hl.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[(0,hl.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Available Students"}),0===l.length?(0,hl.jsx)("p",{className:"text-gray-600 text-sm",children:"All students are already enrolled in this class."}):(0,hl.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(t=>(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border hover:border-green-500 transition-colors",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"font-medium text-gray-900",children:t.full_name}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:t.username})]}),(0,hl.jsx)("button",{onClick:()=>(async t=>{try{const{error:n}=await Ca.from("student_class_enrollments").upsert({student_id:t,class_id:e,status:"active",joined_at:(new Date).toISOString()},{onConflict:"student_id,class_id"});if(n)throw n;await m(),p(!1),window.alert("Student added successfully!")}catch(n){console.error("[ClassDetail] Error adding student:",n),window.alert("Failed to add student. Please try again.")}})(t.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors",children:"Add"})]},t.id))})]}),0===s.length?(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)(lm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"No students enrolled yet"}),(0,hl.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add students to get started"})]}):(0,hl.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>(0,hl.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:t+1}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"font-medium text-gray-900",children:e.full_name}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:[e.username,e.email&&" \u2022 ".concat(e.email)]}),(0,hl.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Joined: ",new Date(e.joined_at).toLocaleDateString()]})]})]}),(0,hl.jsxs)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Remove ".concat(t," from this class?")))try{const{error:t}=await Ca.from("student_class_enrollments").update({status:"dropped"}).eq("id",e);if(t)throw t;await m(),window.alert("Student removed successfully!")}catch(n){console.error("[ClassDetail] Error removing student:",n),window.alert("Failed to remove student. Please try again.")}})(e.enrollment_id,e.full_name),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,hl.jsx)(ag,{className:"w-4 h-4"}),(0,hl.jsx)("span",{className:"text-sm font-medium",children:"Remove"})]})]},e.id))})]})]}):(0,hl.jsxs)("div",{className:"text-center py-12",children:[(0,hl.jsx)("p",{className:"text-gray-600",children:"Class not found"}),(0,hl.jsx)("button",{onClick:()=>n("/teacher/classes"),className:"mt-4 text-green-600 hover:text-green-700",children:"Back to Classes"})]})},sg=Bf("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),og=Bf("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),lg=e=>{var n,r,a,i,s,o,l;let{isOpen:c,question:d,onClose:h,onSave:f}=e;const p=ui(),[m,g]=(0,t.useState)({question_text:"",concept_name:"",difficulty_level:"medium",explanation:"",options:null,correct_answer:""}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(d){console.log("[QuestionEditModal] Initializing with question:",d);let e=d.options;if("string"===typeof e)try{e=JSON.parse(e),console.log("[QuestionEditModal] Parsed options from JSON string:",e)}catch(dH){console.error("[QuestionEditModal] Failed to parse options JSON:",dH),e=null}if("mcq"===d.question_type&&(e&&Array.isArray(e)?e.length<4?e=[...e,...Array(4-e.length).fill("")]:e.length>4&&(e=e.slice(0,4)):(console.warn("[QuestionEditModal] MCQ options not an array, using defaults. Type:",typeof e),e=["","","",""]),console.log("[QuestionEditModal] MCQ options after init:",e)),"match"===d.question_type){if(e&&"object"===typeof e)if(Array.isArray(e.left)&&Array.isArray(e.right)){const t=Math.max(e.left.length,e.right.length);e={left:[...e.left,...Array(t-e.left.length).fill("")].slice(0,t),right:[...e.right,...Array(t-e.right.length).fill("")].slice(0,t)}}else console.warn("[QuestionEditModal] Match options missing left/right arrays, using defaults:",e),e={left:Array.isArray(e.left)?e.left:["","","",""],right:Array.isArray(e.right)?e.right:["","","",""]};else console.warn("[QuestionEditModal] Match options not an object, using defaults. Type:",typeof e),e={left:["","","",""],right:["","","",""]};console.log("[QuestionEditModal] Match options after init:",e)}let t=d.correct_answer||"";"true_false"===d.question_type&&t&&(t=t.toLowerCase()),g({question_text:d.question_text||"",concept_name:d.concept_name||"",difficulty_level:d.difficulty_level||"medium",explanation:d.explanation||"",options:e,correct_answer:t}),v({})}},[d]);const w=(e,t)=>{g(n=>u(u({},n),{},{[e]:t})),y[e]&&v(t=>u(u({},t),{},{[e]:null}))},j=(e,t,n)=>{const r=u({},m.options);r[e][t]=n,g(e=>u(u({},e),{},{options:r}))},_=()=>{x||(v({}),h())};if(!c||!d)return null;let k={};if("match"===d.question_type)try{k=JSON.parse(m.correct_answer||"{}")}catch(dH){k={}}return(0,hl.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,hl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:_}),(0,hl.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,hl.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,hl.jsxs)("div",{className:"sticky top-0 bg-white flex items-center justify-between p-6 border-b z-10",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Question"}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Type: ",d.question_type.replace("_"," ").toUpperCase()]})]}),(0,hl.jsx)("button",{onClick:_,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:(0,hl.jsx)(Op,{className:"w-6 h-6"})})]}),(0,hl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var t,n,r,a,i,s,o,l,c,u;const h={};switch(null!==(t=m.question_text)&&void 0!==t&&t.trim()?m.question_text.length>500&&(h.question_text="Question text must be less than 500 characters"):h.question_text="Question text is required",null!==(n=m.concept_name)&&void 0!==n&&n.trim()||(h.concept_name="Concept name is required"),null===d||void 0===d?void 0:d.question_type){case"mcq":m.options&&4===m.options.length?(m.options.some(e=>!(null!==e&&void 0!==e&&e.trim()))&&(h.options="All options must be filled"),4!==new Set(m.options.map(e=>e.trim().toLowerCase())).size&&(h.options="All options must be unique")):h.options="MCQ must have exactly 4 options",null!==(r=m.options)&&void 0!==r&&r.includes(m.correct_answer)||(h.correct_answer="Correct answer must be one of the options");break;case"true_false":"true"!==m.correct_answer&&"false"!==m.correct_answer&&(h.correct_answer="Correct answer must be True or False");break;case"short_answer":null!==(a=m.correct_answer)&&void 0!==a&&a.trim()?m.correct_answer.length>200&&(h.correct_answer="Correct answer must be less than 200 characters"):h.correct_answer="Correct answer is required";break;case"fill_blank":null!==(i=m.question_text)&&void 0!==i&&i.includes("___")||null!==(s=m.question_text)&&void 0!==s&&s.includes("_")||(h.question_text="Question text must contain a blank marker (___  or _)"),null!==(o=m.correct_answer)&&void 0!==o&&o.trim()||(h.correct_answer="Correct answer is required");break;case"match":const t=(null===(l=m.options)||void 0===l?void 0:l.left)||[],n=(null===(c=m.options)||void 0===c?void 0:c.right)||[],d=t.filter(e=>null===e||void 0===e?void 0:e.trim()),f=n.filter(e=>null===e||void 0===e?void 0:e.trim());if(d.length<2){h.options="Match question must have at least 2 pairs";break}if(d.length!==f.length){h.options="Left and right items must have equal count";break}const p=new Set(d.map(e=>e.trim().toLowerCase())),g=new Set(f.map(e=>e.trim().toLowerCase()));p.size!==d.length&&(h.options="Left items must be unique"),g.size!==f.length&&(h.options="Right items must be unique");try{const e=JSON.parse(m.correct_answer),t=Object.keys(e).filter(e=>d.includes(e));t.length!==d.length&&(h.correct_answer="All items must be mapped"),t.every(t=>f.includes(e[t]))||(h.correct_answer="All mappings must be valid")}catch(e){h.correct_answer="Invalid mapping format"}break;case"voice":null!==(u=m.correct_answer)&&void 0!==u&&u.trim()||(h.correct_answer="Expected answer is required")}return v(h),0===Object.keys(h).length})()){b(!0);try{var t;let e=m.correct_answer;"true_false"===d.question_type&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1));let n=m.options;if("match"===d.question_type&&n){const e=n.left.filter(e=>null===e||void 0===e?void 0:e.trim()),t=n.right.filter(e=>null===e||void 0===e?void 0:e.trim());n={left:e,right:t}}const r={question_text:m.question_text.trim(),concept_name:m.concept_name.trim(),difficulty_level:m.difficulty_level,explanation:(null===(t=m.explanation)||void 0===t?void 0:t.trim())||null,options:n,correct_answer:e};await(async(e,t,n)=>{try{console.log("[updateQuestion] Updating question:",e);const{data:r,error:a}=await Ca.from("quiz_questions").update(u(u({},t),{},{edited_by:n,updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(a)throw console.error("[updateQuestion] Error:",a),a;return console.log("[updateQuestion] Question updated successfully"),r}catch(r){throw console.error("[updateQuestion] Error:",r),r}})(d.id,r,p.user_id),window.alert("Question updated successfully!"),f&&f(),h()}catch(n){console.error("[QuestionEditModal] Error:",n),window.alert("Failed to update question. Please try again.")}finally{b(!1)}}},className:"p-6 space-y-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Text ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("textarea",{value:m.question_text,onChange:e=>w("question_text",e.target.value),rows:3,maxLength:500,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(y.question_text?"border-red-500":"border-gray-300"),disabled:x}),y.question_text&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.question_text]}),(0,hl.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.question_text.length,"/500 characters"]})]}),"mcq"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Options ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("div",{className:"space-y-2",children:[0,1,2,3].map(e=>{var t;return(0,hl.jsx)("input",{type:"text",value:(null===(t=m.options)||void 0===t?void 0:t[e])||"",onChange:t=>((e,t)=>{const n=[...m.options||[]];n[e]=t,g(e=>u(u({},e),{},{options:n}))})(e,t.target.value),placeholder:"Option ".concat(String.fromCharCode(65+e)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",disabled:x},e)})}),y.options&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.options]})]}),"mcq"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Correct Answer ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsxs)("select",{value:m.correct_answer,onChange:e=>w("correct_answer",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 ".concat(y.correct_answer?"border-red-500":"border-gray-300"),disabled:x,children:[(0,hl.jsx)("option",{value:"",children:"-- Select correct answer --"}),null===(n=m.options)||void 0===n?void 0:n.map((e,t)=>(0,hl.jsx)("option",{value:e,children:e||"Option ".concat(String.fromCharCode(65+t))},t))]}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]})]}),"true_false"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Correct Answer ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsxs)("div",{className:"flex gap-4",children:[(0,hl.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,hl.jsx)("input",{type:"radio",name:"correct_answer",value:"true",checked:"true"===m.correct_answer,onChange:e=>w("correct_answer",e.target.value),className:"w-4 h-4 text-green-600 focus:ring-green-500",disabled:x}),(0,hl.jsx)("span",{children:"True"})]}),(0,hl.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,hl.jsx)("input",{type:"radio",name:"correct_answer",value:"false",checked:"false"===m.correct_answer,onChange:e=>w("correct_answer",e.target.value),className:"w-4 h-4 text-green-600 focus:ring-green-500",disabled:x}),(0,hl.jsx)("span",{children:"False"})]})]}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]})]}),"short_answer"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Answer ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("textarea",{value:m.correct_answer,onChange:e=>w("correct_answer",e.target.value),rows:3,maxLength:200,placeholder:"Expected answer with key points...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 ".concat(y.correct_answer?"border-red-500":"border-gray-300"),disabled:x}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]}),(0,hl.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.correct_answer.length,"/200 characters"]})]}),"fill_blank"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Correct Answer ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:m.correct_answer,onChange:e=>w("correct_answer",e.target.value),placeholder:"Word or phrase to fill the blank",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 ".concat(y.correct_answer?"border-red-500":"border-gray-300"),disabled:x}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]})]}),"match"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Match Items ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Left Items"}),null===(r=m.options)||void 0===r||null===(a=r.left)||void 0===a?void 0:a.map((e,t)=>null!==e&&void 0!==e&&e.trim()?(0,hl.jsx)("input",{type:"text",value:e,onChange:e=>j("left",t,e.target.value),placeholder:"Left item ".concat(t+1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 mb-2",disabled:x},"left-".concat(t)):null)]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Right Items"}),null===(i=m.options)||void 0===i||null===(s=i.right)||void 0===s?void 0:s.map((e,t)=>null!==e&&void 0!==e&&e.trim()?(0,hl.jsx)("input",{type:"text",value:e,onChange:e=>j("right",t,e.target.value),placeholder:"Right item ".concat(t+1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 mb-2",disabled:x},"right-".concat(t)):null)]})]}),y.options&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.options]}),(0,hl.jsxs)("div",{className:"mt-4",children:[(0,hl.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Correct Mapping ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("div",{className:"space-y-2",children:null===(o=m.options)||void 0===o||null===(l=o.left)||void 0===l?void 0:l.filter(e=>null===e||void 0===e?void 0:e.trim()).map((e,t)=>{var n,r;return(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e}),(0,hl.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,hl.jsxs)("select",{value:k[e]||"",onChange:t=>((e,n)=>{try{const t=JSON.parse(m.correct_answer||"{}");t[e]=n,g(e=>u(u({},e),{},{correct_answer:JSON.stringify(t)}))}catch(t){const a={[e]:n};g(e=>u(u({},e),{},{correct_answer:JSON.stringify(a)}))}})(e,t.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",disabled:x,children:[(0,hl.jsx)("option",{value:"",children:"-- Select match --"}),null===(n=m.options)||void 0===n||null===(r=n.right)||void 0===r?void 0:r.filter(e=>null===e||void 0===e?void 0:e.trim()).map((e,t)=>(0,hl.jsx)("option",{value:e,children:e},t))]})]},t)})}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]})]})]}),"voice"===d.question_type&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Answer (Spoken) ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:m.correct_answer,onChange:e=>w("correct_answer",e.target.value),placeholder:"Expected spoken answer...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 ".concat(y.correct_answer?"border-red-500":"border-gray-300"),disabled:x}),y.correct_answer&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.correct_answer]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Concept Name ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsx)("input",{type:"text",value:m.concept_name,onChange:e=>w("concept_name",e.target.value),placeholder:"e.g., Tenses, Vocabulary, Grammar",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 ".concat(y.concept_name?"border-red-500":"border-gray-300"),disabled:x}),y.concept_name&&(0,hl.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,hl.jsx)($f,{className:"w-4 h-4"}),y.concept_name]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty Level"}),(0,hl.jsxs)("select",{value:m.difficulty_level,onChange:e=>w("difficulty_level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",disabled:x,children:[(0,hl.jsx)("option",{value:"easy",children:"Easy"}),(0,hl.jsx)("option",{value:"medium",children:"Medium"}),(0,hl.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (Optional)"}),(0,hl.jsx)("textarea",{value:m.explanation,onChange:e=>w("explanation",e.target.value),rows:2,maxLength:300,placeholder:"Explanation shown to students after answering...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",disabled:x}),(0,hl.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(m.explanation||"").length,"/300 characters"]})]}),(0,hl.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,hl.jsx)("button",{type:"button",onClick:_,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",disabled:x,children:"Cancel"}),(0,hl.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:x,children:x?"Saving...":"Save Changes"})]})]})]})})]})},cg=()=>{const e=ui(),[n,r]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)({question_type:"",concept_name:"",difficulty_level:"",active:!0,search:""}),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null);(0,t.useEffect)(()=>{_(),S()},[]),(0,t.useEffect)(()=>{d&&k()},[d]),(0,t.useEffect)(()=>{d&&N()},[d,f,m]);const _=async()=>{const t=await mm(e.institution_id);r(t),t.length>0&&!d&&h(t[0].id)},k=async()=>{const t=await pm(e.institution_id);i(t)},S=async()=>{const t=await(async e=>{try{console.log("[getQuestionConcepts] Fetching concepts for institution:",e);const{data:t,error:n}=await Ca.from("quiz_questions").select("concept_name").eq("institution_id",e).not("concept_name","is",null);if(n)throw console.error("[getQuestionConcepts] Error:",n),n;const r=[...new Set(t.map(e=>e.concept_name))].sort();return console.log("[getQuestionConcepts] Found",r.length,"unique concepts"),r}catch(t){return console.error("[getQuestionConcepts] Error:",t),[]}})(e.institution_id);c(t)},N=async()=>{v(!0);try{const t=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{console.log("[getQuestionsByClass] Fetching questions for class:",t,"student:",n,"filters:",r);let a=Ca.from("quiz_questions").select("*").eq("institution_id",e).eq("class_id",t);a=n?a.eq("student_id",n):a.is("student_id",null),r.question_type&&(a=a.eq("question_type",r.question_type)),r.concept_name&&(a=a.eq("concept_name",r.concept_name)),r.difficulty_level&&(a=a.eq("difficulty_level",r.difficulty_level)),void 0!==r.active&&null!==r.active&&(a=a.eq("active",r.active)),r.search&&r.search.trim()&&(a=a.ilike("question_text","%".concat(r.search.trim(),"%"))),a=a.order("created_at",{ascending:!1});const{data:i,error:s}=await a;if(s)throw console.error("[getQuestionsByClass] Error:",s),s;return console.log("[getQuestionsByClass] Fetched:",(null===i||void 0===i?void 0:i.length)||0,"questions"),i||[]}catch(a){return console.error("[getQuestionsByClass] Error:",a),[]}}(e.institution_id,d,f||null,m);o(t)}catch(t){console.error("[QuestionManagement] Error loading questions:",t)}finally{v(!1)}},E=e=>{j(e),b(!0)},O=(e,t)=>{g(n=>u(u({},n),{},{[e]:t}))},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return e?e.length>t?e.substring(0,t)+"...":e:""},A=e=>{const t={mcq:{label:"MCQ",color:"bg-blue-100 text-blue-800"},true_false:{label:"True/False",color:"bg-purple-100 text-purple-800"},short_answer:{label:"Short Answer (Legacy)",color:"bg-gray-100 text-gray-500"},fill_blank:{label:"Fill Blank",color:"bg-yellow-100 text-yellow-800"},match:{label:"Match",color:"bg-pink-100 text-pink-800"},voice:{label:"Voice",color:"bg-indigo-100 text-indigo-800"}}[e]||{label:e,color:"bg-gray-100 text-gray-800"};return(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(t.color),children:t.label})},T=e=>{const t={easy:{color:"bg-green-100 text-green-800"},medium:{color:"bg-yellow-100 text-yellow-800"},hard:{color:"bg-red-100 text-red-800"}},n=t[e]||t.medium;return(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(n.color),children:(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))})};return(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions"}),(0,hl.jsx)("p",{className:"text-gray-600 mt-1",children:"View and edit AI-generated questions for your classes"})]}),(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Class ",(0,hl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,hl.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"",children:"-- Select a class --"}),n.map(e=>(0,hl.jsxs)("option",{value:e.id,children:[e.class_name," (",e.class_code,")"]},e.id))]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student (Optional - for personal tutoring)"}),(0,hl.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:!d,children:[(0,hl.jsx)("option",{value:"",children:"All students (group class)"}),a.map(e=>(0,hl.jsxs)("option",{value:e.id,children:[e.full_name," (",e.username,")"]},e.id))]})]})]})}),d&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 space-y-4",children:[(0,hl.jsxs)("div",{className:"relative",children:[(0,hl.jsx)(Pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,hl.jsx)("input",{type:"text",placeholder:"Search questions by text...",value:m.search,onChange:e=>O("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Type"}),(0,hl.jsxs)("select",{value:m.question_type,onChange:e=>O("question_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,hl.jsx)("option",{value:"",children:"All Types"}),(0,hl.jsx)("option",{value:"mcq",children:"MCQ"}),(0,hl.jsx)("option",{value:"true_false",children:"True/False"}),(0,hl.jsx)("option",{value:"fill_blank",children:"Fill Blank"}),(0,hl.jsx)("option",{value:"match",children:"Match"})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Concept"}),(0,hl.jsxs)("select",{value:m.concept_name,onChange:e=>O("concept_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,hl.jsx)("option",{value:"",children:"All Concepts"}),l.map(e=>(0,hl.jsx)("option",{value:e,children:e},e))]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),(0,hl.jsxs)("select",{value:m.difficulty_level,onChange:e=>O("difficulty_level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,hl.jsx)("option",{value:"",children:"All Difficulties"}),(0,hl.jsx)("option",{value:"easy",children:"Easy"}),(0,hl.jsx)("option",{value:"medium",children:"Medium"}),(0,hl.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,hl.jsxs)("select",{value:!0===m.active?"true":!1===m.active?"false":"",onChange:e=>O("active","true"===e.target.value||"false"!==e.target.value&&null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,hl.jsx)("option",{value:"",children:"All Status"}),(0,hl.jsx)("option",{value:"true",children:"Active"}),(0,hl.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,hl.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",s.length," question",1!==s.length?"s":""]})]}),d?y?(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]})}):0===s.length?(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:(0,hl.jsxs)("p",{className:"text-gray-600",children:["No questions found for this class.",f&&" Try removing the student filter."]})}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:(0,hl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,hl.jsx)("thead",{className:"bg-gray-50",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difficulty"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,hl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,hl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,hl.jsx)("td",{className:"px-6 py-4",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:P(e.question_text,80)})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:A(e.question_type)}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:e.concept_name})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:T(e.difficulty_level)}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("button",{onClick:()=>E(e),className:"flex items-center gap-1 px-3 py-1 text-sm text-green-600 hover:bg-green-50 rounded transition-colors",children:[(0,hl.jsx)(og,{className:"w-4 h-4"}),"Edit"]})})]},e.id))})]})}),(0,hl.jsx)("div",{className:"md:hidden space-y-3",children:s.map(e=>(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,hl.jsxs)("div",{className:"mb-2",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-2",children:P(e.question_text,60)}),(0,hl.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[A(e.question_type),T(e.difficulty_level)]})]}),(0,hl.jsxs)("div",{className:"text-xs text-gray-600 mb-3",children:["Concept: ",e.concept_name]}),(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"}),(0,hl.jsxs)("button",{onClick:()=>E(e),className:"flex items-center gap-1 px-3 py-1 text-sm text-green-600 hover:bg-green-50 rounded",children:[(0,hl.jsx)(og,{className:"w-4 h-4"}),"Edit"]})]})]},e.id))})]}):(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,hl.jsx)(sg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Class"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Choose a class from the dropdown above to view questions"})]}),(0,hl.jsx)(lg,{isOpen:x,question:w,onClose:()=>b(!1),onSave:()=>{N()}})]})};function ug(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ug(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dg(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ug(e))&&(r&&(r+=" "),r+=t);return r}var hg=n(7820),fg=n.n(hg),pg=n(7770),mg=n.n(pg),gg=e=>0===e?0:e>0?1:-1,yg=e=>"number"==typeof e&&e!=+e,vg=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,xg=e=>("number"===typeof e||e instanceof Number)&&!yg(e),bg=e=>xg(e)||"string"===typeof e,wg=0,jg=e=>{var t=++wg;return"".concat(e||"").concat(t)},_g=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!xg(e)&&"string"!==typeof e)return r;if(vg(e)){if(null==t)return r;var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return yg(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},kg=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function Sg(e,t,n){return xg(e)&&xg(t)?e+n*(t-e):t}function Ng(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):mg()(e,t))===n)}var Eg=e=>null===e||"undefined"===typeof e,Og=e=>Eg(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Pg(e){return null!=e}function Ag(){}var Tg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},Cg=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:s}=n,o=vg(r)?e:Number(r),l=vg(a)?t:Number(a);return i&&i>0&&(o?l=o/i:l&&(o=l*i),s&&null!=l&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Mg={width:0,height:0,overflow:"visible"},Dg={width:0,overflowX:"visible"},Ig={height:0,overflowY:"visible"},Rg={},Lg=e=>{var{width:t,height:n}=e,r=vg(t),a=vg(n);return r&&a?Mg:r?Dg:a?Ig:Rg};function zg(e){return Number.isFinite(e)}function Fg(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(null,arguments)}function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(n),!0).forEach(function(t){Vg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hg=(0,t.createContext)({width:-1,height:-1});function Wg(e){var{children:n,width:r,height:a}=e,i=(0,t.useMemo)(()=>({width:r,height:a}),[r,a]);return function(e){return Fg(e.width)&&Fg(e.height)}(i)?t.createElement(Hg.Provider,{value:i},n):null}var Kg=()=>(0,t.useContext)(Hg),Gg=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[v,x]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return Ag;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=fg()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var{containerWidth:w,containerHeight:j}=v;Tg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:k}=Cg(w,j,{width:i,height:s,aspect:r,maxHeight:c});return Tg(null!=_&&_>0||null!=k&&k>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",_,k,i,s,o,l,r),t.createElement("div",{id:h?"".concat(h):void 0,className:dg("recharts-responsive-container",f),style:Ug(Ug({},m),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:Lg({width:i,height:s})},t.createElement(Wg,{width:_,height:k},u)))}),Qg=(0,t.forwardRef)((e,n)=>{var r=Kg();if(Fg(r.width)&&Fg(r.height))return e.children;var{width:a,height:i}=function(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return void 0===a&&void 0===i?(a="100%",i="100%"):void 0===a?a=r&&r>0?void 0:"100%":void 0===i&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=Cg(void 0,void 0,{width:a,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return xg(s)&&xg(o)?t.createElement(Wg,{width:s,height:o},e.children):t.createElement(Gg,qg({},e,{width:a,height:i,ref:n}))}),Yg=Symbol.for("immer-nothing"),$g=Symbol.for("immer-draftable"),Xg=Symbol.for("immer-state");function Jg(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Zg=Object.getPrototypeOf;function ey(e){return!!e&&!!e[Xg]}function ty(e){var t;return!!e&&(ay(e)||Array.isArray(e)||!!e[$g]||!(null===(t=e.constructor)||void 0===t||!t[$g])||cy(e)||uy(e))}var ny=Object.prototype.constructor.toString(),ry=new WeakMap;function ay(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=ry.get(n);return void 0===r&&(r=Function.toString.call(n),ry.set(n,r)),r===ny}function iy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===sy(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function sy(e){const t=e[Xg];return t?t.type_:Array.isArray(e)?1:cy(e)?2:uy(e)?3:0}function oy(e,t){return 2===sy(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ly(e,t,n){const r=sy(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function cy(e){return e instanceof Map}function uy(e){return e instanceof Set}function dy(e){return e.copy_||e.base_}function hy(e,t){if(cy(e))return new Map(e);if(uy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ay(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Xg];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Zg(e),t)}{const t=Zg(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function fy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return my(e)||ey(e)||!ty(e)||(sy(e)>1&&Object.defineProperties(e,{set:py,add:py,clear:py,delete:py}),Object.freeze(e),t&&Object.values(e).forEach(e=>fy(e,!0))),e}var py={value:function(){Jg(2)}};function my(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var gy,yy={};function vy(e){const t=yy[e];return t||Jg(0),t}function xy(){return gy}function by(e,t){t&&(vy("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wy(e){jy(e),e.drafts_.forEach(ky),e.drafts_=null}function jy(e){e===gy&&(gy=e.parent_)}function _y(e){return gy={drafts_:[],parent_:gy,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ky(e){const t=e[Xg];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Sy(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Xg].modified_&&(wy(t),Jg(4)),ty(e)&&(e=Ny(t,e),t.parent_||Oy(t,e)),t.patches_&&vy("Patches").generateReplacementPatches_(n[Xg].base_,e,t.patches_,t.inversePatches_)):e=Ny(t,n,[]),wy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yg?e:void 0}function Ny(e,t,n){if(my(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Xg];if(!a)return iy(t,(r,i)=>Ey(e,a,t,r,i,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Oy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let i=t,s=!1;3===a.type_&&(i=new Set(t),t.clear(),s=!0),iy(i,(r,i)=>Ey(e,a,t,r,i,n,s),r),Oy(e,t,!1),n&&e.patches_&&vy("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Ey(e,t,n,r,a,i,s){if(null==a)return;if("object"!==typeof a&&!s)return;const o=my(a);if(!o||s){if(ey(a)){const s=Ny(e,a,i&&t&&3!==t.type_&&!oy(t.assigned_,r)?i.concat(r):void 0);if(ly(n,r,s),!ey(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(ty(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&o)return;Ny(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!(cy(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Oy(e,a)}}}function Oy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fy(t,n)}var Py={get(e,t){if(t===Xg)return e;const n=dy(e);if(!oy(n,t))return function(e,t,n){var r;const a=Cy(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ty(r)?r:r===Ty(e.base_,t)?(Dy(e),e.copy_[t]=Iy(r,e)):r},has:(e,t)=>t in dy(e),ownKeys:e=>Reflect.ownKeys(dy(e)),set(e,t,n){const r=Cy(dy(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ty(dy(e),t),s=null===r||void 0===r?void 0:r[Xg];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||oy(e.base_,t)))return!0;Dy(e),My(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ty(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Dy(e),My(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=dy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Jg(11)},getPrototypeOf:e=>Zg(e.base_),setPrototypeOf(){Jg(12)}},Ay={};function Ty(e,t){const n=e[Xg];return(n?dy(n):e)[t]}function Cy(e,t){if(!(t in e))return;let n=Zg(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Zg(n)}}function My(e){e.modified_||(e.modified_=!0,e.parent_&&My(e.parent_))}function Dy(e){e.copy_||(e.copy_=hy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}iy(Py,(e,t)=>{Ay[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ay.deleteProperty=function(e,t){return Ay.set.call(this,e,t,void 0)},Ay.set=function(e,t,n){return Py.set.call(this,e[0],t,n,e[0])};function Iy(e,t){const n=cy(e)?vy("MapSet").proxyMap_(e,t):uy(e)?vy("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:xy(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Py;n&&(a=[r],i=Ay);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:xy()).drafts_.push(n),n}function Ry(e){return ey(e)||Jg(10),Ly(e)}function Ly(e){if(!ty(e)||my(e))return e;const t=e[Xg];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=hy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=hy(e,!0);return iy(n,(e,t)=>{ly(n,e,Ly(t))},r),t&&(t.finalized_=!1),n}var zy=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&Jg(6),void 0!==n&&"function"!==typeof n&&Jg(7),ty(e)){const a=_y(this),i=Iy(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?wy(a):jy(a)}return by(a,n),Sy(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Yg&&(r=void 0),this.autoFreeze_&&fy(r,!0),n){const t=[],a=[];vy("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Jg(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ty(e)||Jg(8),ey(e)&&(e=Ry(e));const t=_y(this),n=Iy(e,void 0);return n[Xg].isManual_=!0,jy(t),n}finishDraft(e,t){const n=e&&e[Xg];n&&n.isManual_||Jg(9);const{scope_:r}=n;return by(r,t),Sy(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=vy("Patches").applyPatches_;return ey(e)?r(e,t):this.produce(e,e=>r(e,t))}},Fy=zy.produce,qy=zy.setUseStrictIteration.bind(zy);function By(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Uy=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Vy=()=>Math.random().toString(36).substring(7).split("").join("."),Hy={INIT:"@@redux/INIT".concat(Vy()),REPLACE:"@@redux/REPLACE".concat(Vy()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Vy())};function Wy(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ky(e,t,n){if("function"!==typeof e)throw new Error(By(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(By(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(By(1));return n(Ky)(e,t)}let r=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(By(3));return a}function d(e){if("function"!==typeof e)throw new Error(By(4));if(l)throw new Error(By(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(By(6));t=!1,c(),s.delete(n),i=null}}}function h(e){if(!Wy(e))throw new Error(By(7));if("undefined"===typeof e.type)throw new Error(By(8));if("string"!==typeof e.type)throw new Error(By(17));if(l)throw new Error(By(9));try{l=!0,a=r(a,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:Hy.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(By(10));r=e,h({type:Hy.REPLACE})},[Uy]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(By(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Uy](){return this}}}}}function Gy(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Hy.INIT}))throw new Error(By(12));if("undefined"===typeof n(void 0,{type:Hy.PROBE_UNKNOWN_ACTION()}))throw new Error(By(13))})}(n)}catch(dH){a=dH}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const s={};for(let a=0;a<r.length;a++){const o=r[a],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(By(14))}s[o]=u,i=i||u!==c}return i=i||r.length!==Object.keys(e).length,i?s:e}}function Qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Yy(e){return Wy(e)&&"type"in e&&"string"===typeof e.type}function $y(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var Xy=$y(),Jy=$y;const Zy=["reducerPath"];var ev="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Qy:Qy.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function tv(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error($v(0));return u(u({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Yy(t)&&t.type===e,n}var nv=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function rv(e){return ty(e)?Fy(e,()=>{}):e}function av(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var iv="RTK_autoBatch",sv=()=>e=>({payload:e,meta:{[iv]:!0}}),ov=e=>t=>{setTimeout(t,e)},lv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ov(10):"callback"===e.type?e.queueNotification:ov(e.timeout),l=()=>{i=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[iv]),a=!r,a&&(i||(i=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}};function cv(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let i=new nv;return t&&("boolean"===typeof t?i.push(Xy):i.push(Jy(t.extraArgument))),i},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Wy(n))throw new Error($v(1));l=Gy(n)}c="function"===typeof r?r(t):t();let d=Qy;a&&(d=ev(u({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let i=()=>{throw new Error(By(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},o=t.map(e=>e(s));return i=Qy(...o)(a.dispatch),u(u({},a),{},{dispatch:i})}}(...c),f=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new nv(e);return n&&r.push(lv("object"===typeof n?n:void 0)),r})(h);return Ky(l,s,d(..."function"===typeof o?o(f):f()))}function uv(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error($v(28));if(r in t)throw new Error($v(29));return t[r]=n,a},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),a),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}qy(!1);var dv=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var hv=Symbol.for("rtk-slice-createasyncthunk");function fv(e,t){return"".concat(e,"/").concat(t)}function pv(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[hv];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error($v(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return u({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error($v(12));if(n in o.sliceCaseReducersByType)throw new Error($v(13));return o.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(o.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?uv(e.extraReducers):[e.extraReducers],a=u(u({},t),o.sliceCaseReducersByType);return function(e,t){let n,[r,a,i]=uv(t);if("function"===typeof e)n=()=>rv(e());else{const t=rv(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,n)=>{if(n){if(ey(e)){const r=n(e,t);return void 0===r?e:r}if(ty(e))return Fy(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}s.forEach(r=>{const i=a[r],s={reducerName:r,type:fv(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error($v(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(s,r).exposeAction(s,a?tv(i,a):tv(i))}(s,i,l):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error($v(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,s,d);n.exposeAction(i,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(i,{fulfilled:o||yv,pending:l||yv,rejected:c||yv,settled:u||yv})}(s,i,l,n)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=c()),p(e,t)}function g(){return p||(p=c()),p.getInitialState()}function y(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=av(f,r,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=av(h,n,()=>new WeakMap);return av(r,t,()=>{const r={};for(const[i,s]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[i]=mv(s,t,()=>av(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const v=u(u({name:t,reducer:m,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:g},y(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,a=i(t,Zy);const s=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:s,reducer:m},a),u(u({},v),y(s,!0))}});return v}}function mv(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return a.unwrapped=e,a}var gv=pv();function yv(){}var vv="listener",xv="completed",bv="cancelled",wv="task-".concat(bv),jv="task-".concat(xv),_v="".concat(vv,"-").concat(bv),kv="".concat(vv,"-").concat(xv),Sv=class{constructor(e){l(this,"name","TaskAbortError"),l(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(bv," (reason: ").concat(e,")")}},Nv=(e,t)=>{if("function"!==typeof e)throw new TypeError($v(32))},Ev=()=>{},Ov=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev;return e.catch(t),e},Pv=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Av=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Tv=e=>{if(e.aborted){const{reason:t}=e;throw new Sv(t)}};function Cv(e,t){let n=Ev;return new Promise((r,a)=>{const i=()=>a(new Sv(e.reason));e.aborted?i():(n=Pv(e,i),t.finally(()=>n()).then(r,a))}).finally(()=>{n=Ev})}var Mv=e=>t=>Ov(Cv(e,t).then(t=>(Tv(e),t))),Dv=e=>{const t=Mv(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Iv}=Object,Rv={},Lv="listenerMiddleware",zv=(e,t)=>(n,r)=>{Nv(n);const a=new AbortController;var i;i=a,Pv(e,()=>Av(i,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Sv?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{Tv(e),Tv(a.signal);const t=await n({pause:Mv(a.signal),delay:Dv(a.signal),signal:a.signal});return Tv(a.signal),t},()=>Av(a,jv));return null!==r&&void 0!==r&&r.autoJoin&&t.push(s.catch(Ev)),{result:Mv(e)(s),cancel(){Av(a,wv)}}},Fv=(e,t)=>(n,r)=>Ov((async(n,r)=>{Tv(t);let a=()=>{};const i=[new Promise((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{i(),r()}})];null!=r&&i.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Cv(t,Promise.race(i));return Tv(t),e}finally{a()}})(n,r)),qv=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=tv(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error($v(21));return Nv(i),{predicate:a,type:t,effect:i}},Bv=Iv(e=>{const{type:t,predicate:n,effect:r}=qv(e);return{id:dv(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($v(22))}}},{withTypes:()=>Bv}),Uv=(e,t)=>{const{type:n,effect:r,predicate:a}=qv(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},Vv=e=>{e.pending.forEach(e=>{Av(e,_v)})},Hv=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Wv=Iv(tv("".concat(Lv,"/add")),{withTypes:()=>Wv}),Kv=tv("".concat(Lv,"/removeAll")),Gv=Iv(tv("".concat(Lv,"/remove")),{withTypes:()=>Gv}),Qv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Lv,"/error"),...t)},Yv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:a=Qv}=e;Nv(a);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Vv(e)}))(null!==(n=Uv(t,e))&&void 0!==n?n:Bv(e))};Iv(i,{withTypes:()=>i});const s=e=>{const n=Uv(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Vv(n)),!!n};Iv(s,{withTypes:()=>s});const o=async(e,s,o,l)=>{const c=new AbortController,u=Fv(i,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(s,Iv({},o,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:Dv(c.signal),pause:Mv(c.signal),extra:r,signal:c.signal,fork:zv(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(Av(e,_v),n.delete(e))})},cancel:()=>{Av(c,_v),e.pending.delete(c)},throwIfCancelled:()=>{Tv(c.signal)}})))}catch(h){h instanceof Sv||Hv(a,h,{raisedBy:"effect"})}finally{await Promise.all(d),Av(c,kv),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Vv(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!Yy(r))return n(r);if(Wv.match(r))return i(r.payload);if(Kv.match(r))return void l();if(Gv.match(r))return s(r.payload);let c=e.getState();const u=()=>{if(c===Rv)throw new Error($v(23));return c};let d;try{if(d=n(r),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(r,n,c)}catch(h){i=!1,Hv(a,h,{raisedBy:"predicate"})}i&&o(t,r,e,u)}}}finally{c=Rv}return d},startListening:i,stopListening:s,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function $v(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Xv(e,t){if(t){var n=Number.parseInt(t,10);if(!yg(n))return null===e||void 0===e?void 0:e[n]}}var Jv=gv({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zv=Jv.reducer,{createEventEmitter:ex}=Jv.actions;n(7237);function tx(e){e()}var nx={notify(){},get:()=>[]};function rx(e,t){let n,r=nx,a=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){a++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tx(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=nx)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var ax=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),ix=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),sx=(()=>ax||ix?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ox=Symbol.for("react-redux-context"),lx="undefined"!==typeof globalThis?globalThis:{};function cx(){var e;if(!t.createContext)return{};const n=null!==(e=lx[ox])&&void 0!==e?e:lx[ox]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var ux=cx();var dx=function(e){const{children:n,context:r,serverState:a,store:i}=e,s=t.useMemo(()=>{const e=rx(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),o=t.useMemo(()=>i.getState(),[i]);sx(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=r||ux;return t.createElement(l.Provider,{value:s},n)};var hx={active:!1,index:null,dataKey:void 0,coordinate:void 0},fx=gv({name:"tooltip",initialState:{itemInteraction:{click:hx,hover:hx},axisInteraction:{click:hx,hover:hx},keyboardInteraction:hx,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:sv()},removeTooltipEntrySettings:{reducer(e,t){var n=Ry(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:sv()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:px,removeTooltipEntrySettings:mx,setTooltipSettingsState:gx,setActiveMouseOverItemIndex:yx,mouseLeaveItem:vx,mouseLeaveChart:xx,setActiveClickItemIndex:bx,setMouseOverAxisIndex:wx,setMouseClickAxisIndex:jx,setSyncInteraction:_x,setKeyboardInteraction:kx}=fx.actions,Sx=fx.reducer,Nx=gv({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Ex,setDataStartEndIndexes:Ox,setComputedData:Px}=Nx.actions,Ax=Nx.reducer,Tx=gv({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(i=t.payload.left)&&void 0!==i?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Cx,setLayout:Mx,setChartSize:Dx,setScale:Ix}=Tx.actions,Rx=Tx.reducer;function Lx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var zx=e=>Array.isArray(e)?e:[e];function Fx(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var qx="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Bx(){return{s:0,v:void 0,o:null,p:null}}function Ux(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Bx(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Bx(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){var c,u,d;const e=null!==(c=null===(u=a)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:a;null!=e&&r(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new qx(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Vx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),Lx(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=u(u({},a),o),{memoize:d,memoizeOptions:h=[],argsMemoize:f=Ux,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=zx(h),y=zx(p),v=Fx(t),x=d(function(){return i++,l.apply(null,arguments)},...g);const b=f(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(v,arguments);return r=x.apply(null,e),r},...y);return Object.assign(b,{resultFunc:l,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}var Hx=Vx(Ux),Wx=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hx;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Wx}),Kx=n(8443),Gx=(0,t.createContext)(null),Qx=e=>e,Yx=()=>{var e=(0,t.useContext)(Gx);return e?e.store.dispatch:Qx},$x=()=>{},Xx=()=>$x,Jx=(e,t)=>e===t;function Zx(e){var n=(0,t.useContext)(Gx);return(0,Kx.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Xx,n?n.store.getState:$x,n?n.store.getState:$x,n?e:$x,Jx)}var eb=n(3821),tb=n.n(eb),nb=e=>e.legend.settings,rb=Hx([e=>e.legend.payload,nb],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tb()(r,n):r});function ab(e,t){if((a=e.length)>1)for(var n,r,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function ib(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function sb(e){return function(){return e}}function ob(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lb(e,t){return e[t]}function cb(e){const t=[];return t.key=e,t}function ub(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?db(Object(n),!0).forEach(function(t){fb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pb(e,t,n){return Eg(e)||Eg(t)?n:bg(t)?mg()(e,t,n):"function"===typeof t?t(e):n}var mb=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,gb=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,i,s=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate));return a||s.push(t),i||s.push(n),s},yb=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||n)&&"category"===a&&s.bandwidth?s.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*gg(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+m,value:e,offset:m,index:t}}).filter(e=>!yg(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!n&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:r?r[e]:e,index:t,offset:m}))},vb=1e-4,xb={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,s=0;s<t;++s){var o=yg(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,s=e[0].length;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}ab(e,t)}},none:ab,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}ab(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,ab(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var s=yg(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},bb=(e,t,n)=>{var r=xb[n],a=function(){var e=sb([]),t=ob,n=ab,r=lb;function a(a){var i,s,o=Array.from(e.apply(this,arguments),cb),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,a)]).data=e;for(i=0,s=ib(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:sb(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:sb(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?ob:"function"===typeof e?e:sb(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?ab:e,a):n},a}().keys(t).value((e,t)=>Number(pb(e,t,0))).order(ob).offset(r);return a(e)};function wb(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Eg(a[t.dataKey])){var o=Ng(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=pb(a,Eg(s)?t.dataKey:s);return Eg(l)?null:t.scale(l)}var jb=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=pb(i,t.dataKey,t.scale.domain()[s]);return Eg(o)?null:t.scale(o)-a/2+r},_b=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(xg);return[Math.min(...t),Math.max(...t)]})(ub(r,t,n));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},kb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=tb()(t,e=>e.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Eb(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return hb(hb({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Ob(e,t){return e?String(e):"string"===typeof t?t:void 0}var Pb=e=>e.layout.width,Ab=e=>e.layout.height,Tb=e=>e.layout.scale,Cb=e=>e.layout.margin,Mb=Hx(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Db=Hx(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ib="data-recharts-item-index",Rb="data-recharts-item-data-key";function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(n),!0).forEach(function(t){Fb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qb=Hx([Pb,Ab,Cb,e=>e.brush.height,function(e){return Db(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Db(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Mb(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Mb(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},nb,e=>e.legend.size],(e,t,n,r,a,i,s,o,l,c)=>{var u={left:(n.left||0)+a,right:(n.right||0)+i},d=zb(zb({},{top:(n.top||0)+s,bottom:(n.bottom||0)+o}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&xg(e[i]))return hb(hb({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&xg(e[s]))return hb(hb({},e),{},{[s]:e[s]+(a||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return zb(zb({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),Bb=Hx(qb,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ub=Hx(Pb,Ab,(e,t)=>({x:0,y:0,width:e,height:t})),Vb=(0,t.createContext)(null),Hb=()=>null!=(0,t.useContext)(Vb),Wb=e=>e.brush,Kb=Hx([Wb,qb,Cb],(e,t,n)=>({height:e.height,x:xg(e.x)?e.x:t.left,y:xg(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:xg(e.width)?e.width:t.width}));function Gb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qb=()=>{var e,t=Hb(),n=Zx(Bb),r=Zx(Kb),a=null===(e=Zx(Wb))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},Yb={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$b=()=>{var e;return null!==(e=Zx(qb))&&void 0!==e?e:Yb},Xb=()=>Zx(Pb),Jb=()=>Zx(Ab),Zb=e=>e.layout.layoutType,ew=()=>Zx(Zb),tw=e=>{var n=Yx(),r=Hb(),{width:a,height:i}=e,s=Kg(),o=a,l=i;return s&&(o=s.width>0?s.width:a,l=s.height>0?s.height:i),(0,t.useEffect)(()=>{!r&&Fg(o)&&Fg(l)&&n(Dx({width:o,height:l}))},[n,r,o,l]),null},nw=n(9859),rw=n.n(nw);function aw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function iw(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class sw extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uw;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(ow(this,e))}has(e){return super.has(ow(this,e))}set(e,t){return super.set(lw(this,e),t)}delete(e){return super.delete(cw(this,e))}}Set;function ow(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function lw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function cw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function uw(e){return null!==e&&"object"===typeof e?e.valueOf():e}const dw=Symbol("implicit");function hw(){var e=new sw,t=[],n=[],r=dw;function a(a){let i=e.get(a);if(void 0===i){if(r!==dw)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new sw;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return hw(t,n).unknown(r)},aw.apply(a,arguments),a}function fw(){var e,t,n=hw().unknown(void 0),r=n.domain,a=n.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<i,h=d?s:i,f=d?i:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return fw(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},aw.apply(d(),arguments)}function pw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pw(t())},e}function mw(){return pw(fw.apply(null,arguments).paddingInner(1))}const gw=Math.sqrt(50),yw=Math.sqrt(10),vw=Math.sqrt(2);function xw(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=gw?10:i>=yw?5:i>=vw?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?xw(e,t,2*n):[o,l,c]}function bw(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,s]=r?xw(t,e,n):xw(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function ww(e,t,n){return xw(e=+e,t=+t,n=+n)[2]}function jw(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?ww(t,e,n):ww(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function _w(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kw(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sw(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=_w,n=(t,n)=>_w(e(t),n),r=(t,n)=>e(t)-n):(t=e===_w||e===kw?e:Nw,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function Nw(){return 0}function Ew(e){return null===e?NaN:+e}const Ow=Sw(_w),Pw=Ow.right,Aw=(Ow.left,Sw(Ew).center,Pw);function Tw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mw(){}var Dw=.7,Iw=1/Dw,Rw="\\s*([+-]?\\d+)\\s*",Lw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fw=/^#([0-9a-f]{3,8})$/,qw=new RegExp("^rgb\\(".concat(Rw,",").concat(Rw,",").concat(Rw,"\\)$")),Bw=new RegExp("^rgb\\(".concat(zw,",").concat(zw,",").concat(zw,"\\)$")),Uw=new RegExp("^rgba\\(".concat(Rw,",").concat(Rw,",").concat(Rw,",").concat(Lw,"\\)$")),Vw=new RegExp("^rgba\\(".concat(zw,",").concat(zw,",").concat(zw,",").concat(Lw,"\\)$")),Hw=new RegExp("^hsl\\(".concat(Lw,",").concat(zw,",").concat(zw,"\\)$")),Ww=new RegExp("^hsla\\(".concat(Lw,",").concat(zw,",").concat(zw,",").concat(Lw,"\\)$")),Kw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gw(){return this.rgb().formatHex()}function Qw(){return this.rgb().formatRgb()}function Yw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?$w(t):3===n?new Zw(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Xw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Xw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qw.exec(e))?new Zw(t[1],t[2],t[3],1):(t=Bw.exec(e))?new Zw(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Uw.exec(e))?Xw(t[1],t[2],t[3],t[4]):(t=Vw.exec(e))?Xw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Hw.exec(e))?ij(t[1],t[2]/100,t[3]/100,1):(t=Ww.exec(e))?ij(t[1],t[2]/100,t[3]/100,t[4]):Kw.hasOwnProperty(e)?$w(Kw[e]):"transparent"===e?new Zw(NaN,NaN,NaN,0):null}function $w(e){return new Zw(e>>16&255,e>>8&255,255&e,1)}function Xw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zw(e,t,n,r)}function Jw(e,t,n,r){return 1===arguments.length?((a=e)instanceof Mw||(a=Yw(a)),a?new Zw((a=a.rgb()).r,a.g,a.b,a.opacity):new Zw):new Zw(e,t,n,null==r?1:r);var a}function Zw(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ej(){return"#".concat(aj(this.r)).concat(aj(this.g)).concat(aj(this.b))}function tj(){const e=nj(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(rj(this.r),", ").concat(rj(this.g),", ").concat(rj(this.b)).concat(1===e?")":", ".concat(e,")"))}function nj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function aj(e){return((e=rj(e))<16?"0":"")+e.toString(16)}function ij(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oj(e,t,n,r)}function sj(e){if(e instanceof oj)return new oj(e.h,e.s,e.l,e.opacity);if(e instanceof Mw||(e=Yw(e)),!e)return new oj;if(e instanceof oj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(n-r)/o+6*(n<r):n===i?(r-t)/o+2:(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new oj(s,o,l,e.opacity)}function oj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function lj(e){return(e=(e||0)%360)<0?e+360:e}function cj(e){return Math.max(0,Math.min(1,e||0))}function uj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function dj(e,t,n,r,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*a)/6}Tw(Mw,Yw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gw,formatHex:Gw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return sj(this).formatHsl()},formatRgb:Qw,toString:Qw}),Tw(Zw,Jw,Cw(Mw,{brighter(e){return e=null==e?Iw:Math.pow(Iw,e),new Zw(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Dw:Math.pow(Dw,e),new Zw(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zw(rj(this.r),rj(this.g),rj(this.b),nj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ej,formatHex:ej,formatHex8:function(){return"#".concat(aj(this.r)).concat(aj(this.g)).concat(aj(this.b)).concat(aj(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:tj,toString:tj})),Tw(oj,function(e,t,n,r){return 1===arguments.length?sj(e):new oj(e,t,n,null==r?1:r)},Cw(Mw,{brighter(e){return e=null==e?Iw:Math.pow(Iw,e),new oj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Dw:Math.pow(Dw,e),new oj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Zw(uj(e>=240?e-240:e+120,a,r),uj(e,a,r),uj(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new oj(lj(this.h),cj(this.s),cj(this.l),nj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nj(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(lj(this.h),", ").concat(100*cj(this.s),"%, ").concat(100*cj(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const hj=e=>()=>e;function fj(e,t){return function(n){return e+n*t}}function pj(e){return 1===(e=+e)?mj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):hj(isNaN(t)?n:t)}}function mj(e,t){var n=t-e;return n?fj(e,n):hj(isNaN(e)?t:e)}const gj=function e(t){var n=pj(t);function r(e,t){var r=n((e=Jw(e)).r,(t=Jw(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),s=mj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function yj(e){return function(t){var n,r,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(n=0;n<a;++n)r=Jw(t[n]),i[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return i=e(i),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=i(e),r.g=s(e),r.b=o(e),r+""}}}yj(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],s=r>0?e[r-1]:2*a-i,o=r<t-1?e[r+2]:2*i-a;return dj((n-r/t)*t,s,a,i,o)}}),yj(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return dj((n-r/t)*t,a,i,s,o)}});function vj(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r);for(n=0;n<a;++n)i[n]=Nj(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=i[n](e);return s}}function xj(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wj(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Nj(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_j=new RegExp(jj.source,"g");function kj(e,t){var n,r,a,i=jj.lastIndex=_j.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=jj.exec(e))&&(r=_j.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:bj(n,r)})),i=_j.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function Sj(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Nj(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?hj(t):("number"===a?bj:"string"===a?(n=Yw(t))?(t=n,gj):kj:t instanceof Yw?gj:t instanceof Date?xj:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?vj:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?wj:bj:Sj))(e,t)}function Ej(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Oj(e){return+e}var Pj=[0,1];function Aj(e){return e}function Tj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Cj(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=Tj(a,r),i=n(s,i)):(r=Tj(r,a),i=n(i,s)),function(e){return i(r(e))}}function Mj(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=Tj(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=Aw(e,t,1,r)-1;return i[n](a[n](t))}}function Dj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ij(){var e,t,n,r,a,i,s=Pj,o=Pj,l=Nj,c=Aj;function u(){var e=Math.min(s.length,o.length);return c!==Aj&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Mj:Cj,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(o,s.map(e),bj)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Oj),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=Ej,u()},d.clamp=function(e){return arguments.length?(c=!!e||Aj,u()):c!==Aj},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Rj(){return Ij()(Aj,Aj)}var Lj,zj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fj(e){if(!(t=zj.exec(e)))throw new Error("invalid format: "+e);var t;return new qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Bj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Uj(e){return(e=Bj(Math.abs(e)))?e[1]:NaN}function Vj(e,t){var n=Bj(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Fj.prototype=qj.prototype,qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Hj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vj(100*e,t),r:Vj,s:function(e,t){var n=Bj(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Lj=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Bj(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wj(e){return e}var Kj,Gj,Qj,Yj=Array.prototype.map,$j=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xj(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Wj:(t=Yj.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Wj:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Yj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Fj(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Hj[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?i:/[%p]/.test(v)?l:"",w=Hj[v],j=/[defgprs%]/.test(v);function _(e){var a,i,l,h=x,_=b;if("c"===v)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===v?$j[8+Lj/3]:"")+_+(k&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){_=(46===l?s+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var S=h.length+e.length+_.length,N=S<p?new Array(p-S+1).join(t):"";switch(m&&f&&(e=r(N+e,N.length?p-_.length:1/0),N=""),n){case"<":e=h+e+_+N;break;case"=":e=h+N+e+_;break;case"^":e=N.slice(0,S=N.length>>1)+h+e+_+N.slice(S);break;default:e=N+h+e+_}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=Fj(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Uj(t)/3))),a=Math.pow(10,-r),i=$j[8+r/3];return function(e){return n(a*e)+i}}}}function Jj(e,t,n,r){var a,i=jw(e,t,n);switch((r=Fj(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Uj(t)/3)))-Uj(Math.abs(e)))}(i,s))||(r.precision=a),Qj(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uj(t)-Uj(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Uj(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return Gj(r)}function Zj(e){var t=e.domain;return e.ticks=function(e){var n=t();return bw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Jj(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=ww(l,c,n))===r)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function e_(){var e=Rj();return e.copy=function(){return Dj(e,e_())},aw.apply(e,arguments),Zj(e)}function t_(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Oj),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return t_(e).unknown(t)},e=arguments.length?Array.from(e,Oj):[0,1],Zj(n)}function n_(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],s=e[a];return s<i&&(n=r,r=a,a=n,n=i,i=s,s=n),e[r]=t.floor(i),e[a]=t.ceil(s),e}function r_(e){return Math.log(e)}function a_(e){return Math.exp(e)}function i_(e){return-Math.log(-e)}function s_(e){return-Math.exp(-e)}function o_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function l_(e){return(t,n)=>-e(-t,n)}function c_(e){const t=e(r_,a_),n=t.domain;let r,a,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?o_:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=l_(r),a=l_(a),e(i_,s_)):e(r_,a_),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=bw(s,o,f))}else p=bw(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=Fj(n)).precision||(n.trim=!0),n=Gj(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(n_(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function u_(){const e=c_(Ij()).domain([1,10]);return e.copy=()=>Dj(e,u_()).base(e.base()),aw.apply(e,arguments),e}function d_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function f_(e){var t=1,n=e(d_(t),h_(t));return n.constant=function(n){return arguments.length?e(d_(t=+n),h_(t)):t},Zj(n)}function p_(){var e=f_(Ij());return e.copy=function(){return Dj(e,p_()).constant(e.constant())},aw.apply(e,arguments)}function m_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function g_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function y_(e){return e<0?-e*e:e*e}function v_(e){var t=e(Aj,Aj),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Aj,Aj):.5===n?e(g_,y_):e(m_(n),m_(1/n)):n},Zj(t)}function x_(){var e=v_(Ij());return e.copy=function(){return Dj(e,x_()).exponent(e.exponent())},aw.apply(e,arguments),e}function b_(){return x_.apply(null,arguments).exponent(.5)}function w_(e){return Math.sign(e)*e*e}function j_(){var e,t=Rj(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(w_(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Oj)).map(w_)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return j_(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},aw.apply(a,arguments),Zj(a)}function __(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function k_(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function S_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w;if(e===_w)return N_;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function N_(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function E_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?N_:S_(a);r>n;){if(r-n>600){const i=r-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);E_(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=n,o=r;for(O_(e,n,t),a(e[r],i)>0&&O_(e,n,r);s<o;){for(O_(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[n],i)?O_(e,n,o):(++o,O_(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function O_(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function P_(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return k_(e);if(t>=1)return __(e);var r,a=(r-1)*t,i=Math.floor(a),s=__(E_(e,i).subarray(0,i+1));return s+(k_(e.subarray(i+1))-s)*(a-i)}}function A_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ew;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(a-i)}}function T_(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=A_(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[Aw(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(_w),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return T_().domain(t).range(n).unknown(e)},aw.apply(i,arguments)}function C_(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[Aw(a,t,0,r)]:e}function o(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=r?[a[r-1],n]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return C_().domain([t,n]).range(i).unknown(e)},aw.apply(Zj(s),arguments)}function M_(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Aw(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return M_().domain(t).range(n).unknown(e)},aw.apply(a,arguments)}Kj=Xj({thousands:",",grouping:[3],currency:["$",""]}),Gj=Kj.format,Qj=Kj.formatPrefix;const D_=1e3,I_=6e4,R_=36e5,L_=864e5,z_=6048e5,F_=2592e6,q_=31536e6,B_=new Date,U_=new Date;function V_(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return s},a.filter=n=>V_(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(B_.setTime(+t),U_.setTime(+r),e(B_),e(U_),Math.floor(n(B_,U_))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const H_=V_(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);H_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?V_(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):H_:null);H_.range;const W_=V_(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*D_)},(e,t)=>(t-e)/D_,e=>e.getUTCSeconds()),K_=(W_.range,V_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*D_)},(e,t)=>{e.setTime(+e+t*I_)},(e,t)=>(t-e)/I_,e=>e.getMinutes())),G_=(K_.range,V_(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*I_)},(e,t)=>(t-e)/I_,e=>e.getUTCMinutes())),Q_=(G_.range,V_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*D_-e.getMinutes()*I_)},(e,t)=>{e.setTime(+e+t*R_)},(e,t)=>(t-e)/R_,e=>e.getHours())),Y_=(Q_.range,V_(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*R_)},(e,t)=>(t-e)/R_,e=>e.getUTCHours())),$_=(Y_.range,V_(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*I_)/L_,e=>e.getDate()-1)),X_=($_.range,V_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/L_,e=>e.getUTCDate()-1)),J_=(X_.range,V_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/L_,e=>Math.floor(e/L_)));J_.range;function Z_(e){return V_(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*I_)/z_)}const ek=Z_(0),tk=Z_(1),nk=Z_(2),rk=Z_(3),ak=Z_(4),ik=Z_(5),sk=Z_(6);ek.range,tk.range,nk.range,rk.range,ak.range,ik.range,sk.range;function ok(e){return V_(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/z_)}const lk=ok(0),ck=ok(1),uk=ok(2),dk=ok(3),hk=ok(4),fk=ok(5),pk=ok(6),mk=(lk.range,ck.range,uk.range,dk.range,hk.range,fk.range,pk.range,V_(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),gk=(mk.range,V_(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),yk=(gk.range,V_(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));yk.every=e=>isFinite(e=Math.floor(e))&&e>0?V_(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;yk.range;const vk=V_(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vk.every=e=>isFinite(e=Math.floor(e))&&e>0?V_(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;vk.range;function xk(e,t,n,r,a,i){const s=[[W_,1,D_],[W_,5,5e3],[W_,15,15e3],[W_,30,3e4],[i,1,I_],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,R_],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,L_],[r,2,1728e5],[n,1,z_],[t,1,F_],[t,3,7776e6],[e,1,q_]];function o(t,n,r){const a=Math.abs(n-t)/r,i=Sw(e=>{let[,,t]=e;return t}).right(s,a);if(i===s.length)return e.every(jw(t/q_,n/q_,r));if(0===i)return H_.every(Math.max(jw(t,n,r),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:o(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},o]}const[bk,wk]=xk(vk,gk,lk,J_,Y_,G_),[jk,_k]=xk(yk,mk,ek,$_,Q_,K_);function kk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ek,Ok,Pk,Ak={"-":"",_:" ",0:"0"},Tk=/^\s*\d+/,Ck=/^%/,Mk=/[\\^$*+?|[\]().{}]/g;function Dk(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Ik(e){return e.replace(Mk,"\\$&")}function Rk(e){return new RegExp("^(?:"+e.map(Ik).join("|")+")","i")}function Lk(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function zk(e,t,n){var r=Tk.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Fk(e,t,n){var r=Tk.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Uk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vk(e,t,n){var r=Tk.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Hk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wk(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kk(e,t,n){var r=Tk.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Gk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Yk(e,t,n){var r=Tk.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $k(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Jk(e,t,n){var r=Tk.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Zk(e,t,n){var r=Tk.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function eS(e,t,n){var r=Tk.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tS(e,t,n){var r=Ck.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function nS(e,t,n){var r=Tk.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function rS(e,t,n){var r=Tk.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aS(e,t){return Dk(e.getDate(),t,2)}function iS(e,t){return Dk(e.getHours(),t,2)}function sS(e,t){return Dk(e.getHours()%12||12,t,2)}function oS(e,t){return Dk(1+$_.count(yk(e),e),t,3)}function lS(e,t){return Dk(e.getMilliseconds(),t,3)}function cS(e,t){return lS(e,t)+"000"}function uS(e,t){return Dk(e.getMonth()+1,t,2)}function dS(e,t){return Dk(e.getMinutes(),t,2)}function hS(e,t){return Dk(e.getSeconds(),t,2)}function fS(e){var t=e.getDay();return 0===t?7:t}function pS(e,t){return Dk(ek.count(yk(e)-1,e),t,2)}function mS(e){var t=e.getDay();return t>=4||0===t?ak(e):ak.ceil(e)}function gS(e,t){return e=mS(e),Dk(ak.count(yk(e),e)+(4===yk(e).getDay()),t,2)}function yS(e){return e.getDay()}function vS(e,t){return Dk(tk.count(yk(e)-1,e),t,2)}function xS(e,t){return Dk(e.getFullYear()%100,t,2)}function bS(e,t){return Dk((e=mS(e)).getFullYear()%100,t,2)}function wS(e,t){return Dk(e.getFullYear()%1e4,t,4)}function jS(e,t){var n=e.getDay();return Dk((e=n>=4||0===n?ak(e):ak.ceil(e)).getFullYear()%1e4,t,4)}function _S(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dk(t/60|0,"0",2)+Dk(t%60,"0",2)}function kS(e,t){return Dk(e.getUTCDate(),t,2)}function SS(e,t){return Dk(e.getUTCHours(),t,2)}function NS(e,t){return Dk(e.getUTCHours()%12||12,t,2)}function ES(e,t){return Dk(1+X_.count(vk(e),e),t,3)}function OS(e,t){return Dk(e.getUTCMilliseconds(),t,3)}function PS(e,t){return OS(e,t)+"000"}function AS(e,t){return Dk(e.getUTCMonth()+1,t,2)}function TS(e,t){return Dk(e.getUTCMinutes(),t,2)}function CS(e,t){return Dk(e.getUTCSeconds(),t,2)}function MS(e){var t=e.getUTCDay();return 0===t?7:t}function DS(e,t){return Dk(lk.count(vk(e)-1,e),t,2)}function IS(e){var t=e.getUTCDay();return t>=4||0===t?hk(e):hk.ceil(e)}function RS(e,t){return e=IS(e),Dk(hk.count(vk(e),e)+(4===vk(e).getUTCDay()),t,2)}function LS(e){return e.getUTCDay()}function zS(e,t){return Dk(ck.count(vk(e)-1,e),t,2)}function FS(e,t){return Dk(e.getUTCFullYear()%100,t,2)}function qS(e,t){return Dk((e=IS(e)).getUTCFullYear()%100,t,2)}function BS(e,t){return Dk(e.getUTCFullYear()%1e4,t,4)}function US(e,t){var n=e.getUTCDay();return Dk((e=n>=4||0===n?hk(e):hk.ceil(e)).getUTCFullYear()%1e4,t,4)}function VS(){return"+0000"}function HS(){return"%"}function WS(e){return+e}function KS(e){return Math.floor(+e/1e3)}function GS(e){return new Date(e)}function QS(e){return e instanceof Date?+e:+new Date(+e)}function YS(e,t,n,r,a,i,s,o,l,c){var u=Rj(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,QS)):h().map(GS)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(n_(n,e)):u},u.copy=function(){return Dj(u,YS(e,t,n,r,a,i,s,o,l,c))},u}function $S(){return aw.apply(YS(jk,_k,yk,mk,ek,$_,Q_,K_,W_,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XS(){return aw.apply(YS(bk,wk,vk,gk,lk,X_,Y_,G_,W_,Pk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function JS(){var e,t,n,r,a,i=0,s=1,o=Aj,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=r(i=+i),t=r(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(Nj),c.rangeRound=u(Ej),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(s),n=e===t?0:1/(t-e),c}}function ZS(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eN(){var e=Zj(JS()(Aj));return e.copy=function(){return ZS(e,eN())},iw.apply(e,arguments)}function tN(){var e=c_(JS()).domain([1,10]);return e.copy=function(){return ZS(e,tN()).base(e.base())},iw.apply(e,arguments)}function nN(){var e=f_(JS());return e.copy=function(){return ZS(e,nN()).constant(e.constant())},iw.apply(e,arguments)}function rN(){var e=v_(JS());return e.copy=function(){return ZS(e,rN()).exponent(e.exponent())},iw.apply(e,arguments)}function aN(){return rN.apply(null,arguments).exponent(.5)}function iN(){var e=[],t=Aj;function n(n){if(null!=n&&!isNaN(n=+n))return t((Aw(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(_w),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>P_(e,r/t))},n.copy=function(){return iN(t).domain(e)},iw.apply(n,arguments)}function sN(){var e,t,n,r,a,i,s,o=0,l=.5,c=1,u=1,d=Aj,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Nj);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Nj),f.rangeRound=p(Ej),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function oN(){var e=Zj(sN()(Aj));return e.copy=function(){return ZS(e,oN())},iw.apply(e,arguments)}function lN(){var e=c_(sN()).domain([.1,1,10]);return e.copy=function(){return ZS(e,lN()).base(e.base())},iw.apply(e,arguments)}function cN(){var e=f_(sN());return e.copy=function(){return ZS(e,cN()).constant(e.constant())},iw.apply(e,arguments)}function uN(){var e=v_(sN());return e.copy=function(){return ZS(e,uN()).exponent(e.exponent())},iw.apply(e,arguments)}function dN(){return uN.apply(null,arguments).exponent(.5)}!function(e){Ek=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Rk(a),u=Lk(a),d=Rk(i),h=Lk(i),f=Rk(s),p=Lk(s),m=Rk(o),g=Lk(o),y=Rk(l),v=Lk(l),x={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:aS,e:aS,f:cS,g:bS,G:jS,H:iS,I:sS,j:oS,L:lS,m:uS,M:dS,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:WS,s:KS,S:hS,u:fS,U:pS,V:gS,w:yS,W:vS,x:null,X:null,y:xS,Y:wS,Z:_S,"%":HS},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:kS,e:kS,f:PS,g:qS,G:US,H:SS,I:NS,j:ES,L:OS,m:AS,M:TS,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:WS,s:KS,S:CS,u:MS,U:DS,V:RS,w:LS,W:zS,x:null,X:null,y:FS,Y:BS,Z:VS,"%":HS},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Qk,e:Qk,f:eS,g:Hk,G:Vk,H:$k,I:$k,j:Yk,L:Zk,m:Gk,M:Xk,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Kk,Q:nS,s:rS,S:Jk,u:Fk,U:qk,V:Bk,w:zk,W:Uk,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Hk,Y:Vk,Z:Wk,"%":tS};function j(e,t){return function(n){var r,a,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=Ak[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function _(e,t){return function(n){var r,a,i=Nk(1900,void 0,1);if(k(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Sk(Nk(i.y,0,1))).getUTCDay(),r=a>4||0===a?ck.ceil(r):ck(r),r=X_.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=kk(Nk(i.y,0,1))).getDay(),r=a>4||0===a?tk.ceil(r):tk(r),r=$_.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Sk(Nk(i.y,0,1)).getUTCDay():kk(Nk(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Sk(i)):kk(i)}}function k(e,t,n,r){for(var a,i,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in Ak?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Ok=Ek.format,Ek.parse,Pk=Ek.utcFormat,Ek.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var hN=e=>e.chartData,fN=Hx([hN],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pN=(e,t,n,r)=>r?fN(e):hN(e);function mN(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(zg(t)&&zg(n))return!0}return!1}function gN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yN(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,i]=e;if(zg(a))n=a;else if("function"===typeof a)return;if(zg(i))r=i;else if("function"===typeof i)return;var s=[n,r];if(mN(s))return s}}var vN=n(8210),xN=n.n(vN),bN=e=>e,wN={"@@functional/placeholder":!0},jN=e=>e===wN,_N=e=>function t(){return 0===arguments.length||1===arguments.length&&jN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},kN=(e,t)=>1===e?t:_N(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(e=>e!==wN).length;return i>=e?t(...r):kN(e-i,_N(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=r.map(e=>jN(e)?n.shift():e);return t(...i,...n)}))}),SN=e=>kN(e.length,e),NN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},EN=SN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ON=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),PN=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function AN(e){return 0===e?1:Math.floor(new(xN())(e).abs().log(10).toNumber())+1}function TN(e,t,n){for(var r=new(xN())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}SN((e,t,n)=>{var r=+e;return r+n*(+t-r)}),SN((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),SN((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var CN=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},MN=(e,t,n)=>{if(e.lte(0))return new(xN())(0);var r=AN(e.toNumber()),a=new(xN())(10).pow(r),i=e.div(a),s=1!==r?.05:.1,o=new(xN())(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(a);return t?new(xN())(o.toNumber()):new(xN())(Math.ceil(o.toNumber()))},DN=(e,t,n)=>{var r=new(xN())(1),a=new(xN())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(xN())(10).pow(AN(e)-1),a=new(xN())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(xN())(Math.floor(e)))}else 0===e?a=new(xN())(Math.floor((t-1)/2)):n||(a=new(xN())(Math.floor(e)));var s=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return bN;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(EN(e=>a.add(new(xN())(e-s).mul(r)).toNumber()),NN)(0,t)},IN=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(xN())(0),tickMin:new(xN())(0),tickMax:new(xN())(0)};var i,s=MN(new(xN())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(xN())(0):(i=new(xN())(e).add(t).div(2)).sub(new(xN())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(xN())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?IN(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new(xN())(o).mul(s)),tickMax:i.add(new(xN())(l).mul(s))})};var RN=PN(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[s,o]=CN([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...NN(0,r-1).map(()=>1/0)]:[...NN(0,r-1).map(()=>-1/0),o];return t>n?ON(l):l}if(s===o)return DN(s,r,a);var{step:c,tickMin:u,tickMax:d}=IN(s,o,i,a,0),h=TN(u,d.add(new(xN())(.1).mul(c)),c);return t>n?ON(h):h}),LN=PN(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,s]=CN([n,r]);if(i===-1/0||s===1/0)return[n,r];if(i===s)return[i];var o=Math.max(t,2),l=MN(new(xN())(s).sub(i).div(o-1),a,0),c=[...TN(new(xN())(i),new(xN())(s),l),s];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?ON(c):c}),zN=e=>e.rootProps.maxBarSize,FN=e=>e.rootProps.barCategoryGap,qN=e=>e.rootProps.stackOffset,BN=e=>e.options.chartName,UN=e=>e.rootProps.syncId,VN=e=>e.rootProps.syncMethod,HN=e=>e.options.eventEmitter;function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(t){GN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QN=Math.PI/180,YN=e=>180*e/Math.PI,$N=(e,t,n,r)=>({x:e+Math.cos(-QN*r)*n,y:t+Math.sin(-QN*r)*n}),XN=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},JN=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)})({x:n,y:r},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(n-a)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:YN(l),angleInRadian:l}},ZN=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},eE=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=JN({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?KN(KN({},t),{},{radius:a,angle:ZN(d,t)}):null},tE={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},nE=!0,rE=0,aE=!1,iE="auto",sE=!0,oE="category",lE=(tE.axis,!1),cE=!0,uE=0,dE="auto",hE=!0,fE=5,pE="number",mE=(tE.axis,(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t}),gE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:rE,includeHidden:!1,name:void 0,reversed:aE,scale:iE,tick:sE,tickCount:void 0,ticks:void 0,type:oE,unit:void 0},yE={allowDataOverflow:lE,allowDecimals:!1,allowDuplicatedCategory:cE,dataKey:void 0,domain:void 0,id:uE,includeHidden:!1,name:void 0,reversed:!1,scale:dE,tick:hE,tickCount:fE,ticks:void 0,type:pE,unit:void 0},vE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:nE,dataKey:void 0,domain:void 0,id:rE,includeHidden:!1,name:void 0,reversed:!1,scale:iE,tick:sE,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xE={allowDataOverflow:lE,allowDecimals:!1,allowDuplicatedCategory:cE,dataKey:void 0,domain:void 0,id:uE,includeHidden:!1,name:void 0,reversed:!1,scale:dE,tick:hE,tickCount:fE,ticks:void 0,type:"category",unit:void 0},bE=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?vE:gE,wE=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?xE:yE,jE=e=>e.polarOptions,_E=Hx([Pb,Ab,qb],XN),kE=Hx([jE,_E],(e,t)=>{if(null!=e)return _g(e.innerRadius,t,0)}),SE=Hx([jE,_E],(e,t)=>{if(null!=e)return _g(e.outerRadius,t,.8*t)}),NE=Hx([jE],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),EE=(Hx([bE,NE],mE),Hx([_E,kE,SE],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),OE=(Hx([wE,EE],mE),Hx([Zb,jE,kE,SE,Pb,Ab],(e,t,n,r,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:_g(s,a,a/2),cy:_g(o,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),PE=(e,t)=>t,AE=(e,t,n)=>n;function TE(e){return null===e||void 0===e?void 0:e.id}function CE(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,s=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=TE(e);n.forEach((t,n)=>{var r,l=null==i||a?n:String(pb(t,i,null)),c=pb(t,e.dataKey,0);r=s.has(l)?s.get(l):{},Object.assign(r,{[o]:c}),s.set(l,r)})}}),Array.from(s.values())}function ME(e){return null!=e.stackId&&null!=e.dataKey}var DE=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function IE(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var RE=e=>{var t=Zb(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},LE=e=>e.tooltip.settings.axisId;function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(t){qE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BE=[0,"auto"],UE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VE=(e,t)=>e.cartesianAxis.xAxis[t],HE=(e,t)=>{var n=VE(e,t);return null==n?UE:n},WE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},KE=(e,t)=>e.cartesianAxis.yAxis[t],GE=(e,t)=>{var n=KE(e,t);return null==n?WE:n},QE={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?QE:n},$E=(e,t,n)=>{switch(t){case"xAxis":return HE(e,n);case"yAxis":return GE(e,n);case"zAxis":return YE(e,n);case"angleAxis":return bE(e,n);case"radiusAxis":return wE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},XE=(e,t,n)=>{switch(t){case"xAxis":return HE(e,n);case"yAxis":return GE(e,n);case"angleAxis":return bE(e,n);case"radiusAxis":return wE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JE=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function ZE(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var eO=e=>e.graphicalItems.cartesianItems,tO=Hx([PE,AE],ZE),nO=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),rO=Hx([eO,$E,tO],nO,{memoizeOptions:{resultEqualityCheck:IE}}),aO=Hx([rO],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(ME)),iO=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),sO=Hx([rO],iO),oO=e=>e.map(e=>e.data).filter(Boolean).flat(1),lO=Hx([rO],oO,{memoizeOptions:{resultEqualityCheck:IE}}),cO=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},uO=Hx([lO,pN],cO),dO=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:pb(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:pb(e,t)}))):e.map(e=>({value:e})),hO=Hx([uO,$E,rO],dO);function fO(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function pO(e){if(bg(e)||e instanceof Date){var t=Number(e);if(zg(t))return t}}function mO(e){if(Array.isArray(e)){var t=[pO(e[0]),pO(e[1])];return mN(t)?t:void 0}var n=pO(e);if(null!=n)return[n,n]}function gO(e){return e.map(pO).filter(Pg)}var yO=e=>{var t=RE(e),n=LE(e);return XE(e,t,n)},vO=Hx([yO],e=>null===e||void 0===e?void 0:e.dataKey),xO=Hx([aO,pN,yO],CE),bO=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,i=a.map(TE);return[r,{stackedData:bb(e,i,n),graphicalItems:a}]}))},wO=Hx([xO,aO,qN],bO),jO=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(null==r&&"zAxis"!==n){var s=_b(e,a,i);if(null==s||0!==s[0]||0!==s[1])return s}},_O=Hx([$E],e=>e.allowDataOverflow),kO=e=>{var t;if(null==e||!("domain"in e))return BE;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=gO(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:BE},SO=Hx([$E],kO),NO=Hx([SO,_O],yN),EO=Hx([wO,hN,PE,NO],jO,{memoizeOptions:{resultEqualityCheck:DE}}),OO=e=>e.errorBars,PO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},AO=(e,t,n,r,a)=>{var i,s;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var o,l,c=null===(o=r[n.id])||void 0===o?void 0:o.filter(e=>fO(a,e)),u=pb(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!==typeof t||yg(t)?[]:n.length?gO(n.flatMap(n=>{var r,a,i=pb(e,n.dataKey);if(Array.isArray(i)?[r,a]=i:r=a=i,zg(r)&&zg(a))return[t-r,t+a]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==i||h<i)&&(i=h),(null==s||f>s)&&(s=f)}var p=mO(u);null!=p&&(i=null==i?p[0]:Math.min(i,p[0]),s=null==s?p[1]:Math.max(s,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=mO(pb(e,t.dataKey));null!=n&&(i=null==i?n[0]:Math.min(i,n[0]),s=null==s?n[1]:Math.max(s,n[1]))}),zg(i)&&zg(s))return[i,s]},TO=Hx([uO,$E,sO,OO,PE],AO,{memoizeOptions:{resultEqualityCheck:DE}});function CO(e){var{value:t}=e;if(bg(t)||t instanceof Date)return t}var MO=e=>e.referenceElements.dots,DO=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),IO=Hx([MO,PE,AE],DO),RO=e=>e.referenceElements.areas,LO=Hx([RO,PE,AE],DO),zO=e=>e.referenceElements.lines,FO=Hx([zO,PE,AE],DO),qO=(e,t)=>{var n=gO(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},BO=Hx(IO,PE,qO),UO=(e,t)=>{var n=gO(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},VO=Hx([LO,PE],UO);var HO=(e,t)=>{var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return gO([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:gO(n)}(e):function(e){var t;if(null!=e.y)return gO([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:gO(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},WO=Hx([FO,PE],HO),KO=Hx(BO,WO,VO,(e,t,n)=>PO(e,n,t)),GO=(e,t,n,r,a,i,s,o)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(mN(r))return gN(r,t,n)}catch(hH){}if(Array.isArray(e)&&2===e.length){var a,i,[s,o]=e;if("auto"===s)null!=t&&(a=Math.min(...t));else if(xg(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[0]))}catch(f){}else if("string"===typeof s&&kb.test(s)){var l=kb.exec(s);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(xg(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof o&&Sb.test(o)){var u=Sb.exec(o);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(mN(h))return null==t?h:gN(h,t,n)}}}(t,"vertical"===s&&"xAxis"===o||"horizontal"===s&&"yAxis"===o?PO(r,i,a):PO(i,a),e.allowDataOverflow),QO=Hx([$E,SO,NO,EO,TO,KO,Zb,PE],GO,{memoizeOptions:{resultEqualityCheck:DE}}),YO=[0,1],$O=(e,t,n,r,a,i,s)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==s){var o,{dataKey:l,type:c}=e,u=mb(t,i);return u&&null==l?rw()(0,null!==(o=null===n||void 0===n?void 0:n.length)&&void 0!==o?o:0):"category"===c?((e,t,n)=>{var r=e.map(CO).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&kg(r))?rw()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,u):"expand"===a?YO:s}},XO=Hx([$E,Zb,uO,hO,qN,PE,QO],$O),JO=(t,n,r,a,i)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===n&&"radiusAxis"===i?"band":"radial"===n&&"angleAxis"===i?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Og(s));return l in e?l:"point"}}},ZO=Hx([$E,Zb,JE,BN,PE],JO);function eP(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Og(t));return n in e?e[n]():void 0}}(n);if(null!=i){var s=i.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-vb,i=Math.max(r[0],r[1])+vb,s=e(t[0]),o=e(t[n-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}})(s),s}}}var tP=(e,t,n)=>{var r=kO(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&mN(e)?RN(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&mN(e)?LN(e,t.tickCount,t.allowDecimals):void 0},nP=Hx([XO,XE,ZO],tP),rP=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&mN(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],s=t[1],o=n[n.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},aP=Hx([$E,XO,nP,PE],rP),iP=Hx(hO,$E,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(gO(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var i=0;i<r.length-1;i++){var s=r[i+1]-r[i];n=Math.min(n,s)}return n/a}}),sP=Hx(iP,Zb,FN,qb,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!zg(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===a)return e*i/2;if("no-gap"===a){var s=_g(n,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),oP=Hx(HE,(e,t)=>{var n=HE(e,t);return null==n||"string"!==typeof n.padding?0:sP(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),lP=Hx(GE,(e,t)=>{var n=GE(e,t);return null==n||"string"!==typeof n.padding?0:sP(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),cP=Hx([qb,oP,Kb,Wb,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),uP=Hx([qb,Zb,lP,Kb,Wb,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:s}=a;return i?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),dP=(e,t,n,r)=>{var a;switch(t){case"xAxis":return cP(e,n,r);case"yAxis":return uP(e,n,r);case"zAxis":return null===(a=YE(e,n))||void 0===a?void 0:a.range;case"angleAxis":return NE(e);case"radiusAxis":return EE(e,n);default:return}},hP=Hx([$E,dP],mE),fP=Hx([$E,ZO,aP,hP],eP);Hx([rO,OO,PE],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>fO(n,e)));function pP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mP=(e,t)=>t,gP=(e,t,n)=>n,yP=Hx(Mb,mP,gP,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(pP)),vP=Hx(Db,mP,gP,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(pP)),xP=(e,t)=>({width:e.width,height:t.height}),bP=Hx(qb,HE,xP),wP=Hx(Ab,qb,yP,mP,gP,(e,t,n,r,a)=>{var i,s={};return n.forEach(n=>{var o=xP(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;s[n.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),jP=Hx(Pb,qb,vP,mP,gP,(e,t,n,r,a)=>{var i,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;s[n.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),_P=Hx([qb,HE,(e,t)=>{var n=HE(e,t);if(null!=n)return wP(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}}),kP=Hx([qb,GE,(e,t)=>{var n=GE(e,t);if(null!=n)return jP(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),SP=Hx(qb,GE,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),NP=(e,t,n)=>{switch(t){case"xAxis":return bP(e,n).width;case"yAxis":return SP(e,n).height;default:return}},EP=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:i,dataKey:s}=n,o=mb(e,r),l=t.map(e=>e.value);return s&&o&&"category"===i&&a&&kg(l)?l:void 0}},OP=Hx([Zb,hO,$E,PE],EP),PP=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:i}=n;return!mb(e,r)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},AP=Hx([Zb,hO,XE,PE],PP),TP=Hx([Zb,(e,t,n)=>{switch(t){case"xAxis":return HE(e,n);case"yAxis":return GE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZO,fP,OP,AP,dP,nP,PE],(e,t,n,r,a,i,s,o,l)=>{if(null!=t){var c=mb(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),CP=Hx([Zb,XE,ZO,fP,nP,dP,OP,AP,PE],(e,t,n,r,a,i,s,o,l)=>{if(null!=t&&null!=r){var c=mb(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*gg(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>zg(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})).filter(e=>zg(e.coordinate)):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),MP=Hx([Zb,XE,fP,dP,OP,AP,PE],(e,t,n,r,a,i,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=mb(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===r||void 0===r?void 0:r.length)>=2?2*gg(r[0]-r[1])*c:c,o&&i?i.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),DP=Hx($E,fP,(e,t)=>{if(null!=e&&null!=t)return FE(FE({},e),{},{scale:t})}),IP=Hx([$E,ZO,XO,hP],eP),RP=(Hx((e,t,n)=>YE(e,n),IP,(e,t)=>{if(null!=e&&null!=t)return FE(FE({},e),{},{scale:t})}),Hx([Zb,Mb,Db],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),LP=e=>e.options.defaultTooltipEventType,zP=e=>e.options.validateTooltipEventTypes;function FP(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function qP(e,t){return FP(t,LP(e),zP(e))}var BP=(e,t)=>{var n,r=Number(t);if(!yg(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function UP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UP(Object(n),!0).forEach(function(t){HP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WP=(e,t,n,r)=>{if(null==t)return hx;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return hx;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return VP(VP({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return VP(VP({},hx),{},{coordinate:a.coordinate})},KP=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!zg(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},GP=(e,t,n,r,a,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},QP=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},YP=e=>e.options.tooltipPayloadSearcher,$P=e=>e.tooltip;function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(t){ZP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eA=(e,t,n,r,a,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,o),y=Array.isArray(g)?ub(g,c,u):g,v=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:r,x=null===m||void 0===m?void 0:m.nameKey;(h=r&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===s?Ng(y,r,a):i(y,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=JP(JP({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Eb({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:pb(t.payload,t.dataKey),name:t.name}))}):e.push(Eb({tooltipEntrySettings:m,dataKey:v,payload:h,value:pb(h,v),name:null!==(f=pb(h,x))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},tA=Hx([yO,Zb,JE,BN,RE],JO),nA=Hx([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rA=Hx([RE,LE],ZE),aA=Hx([nA,yO,rA],nO,{memoizeOptions:{resultEqualityCheck:IE}}),iA=Hx([aA],e=>e.filter(ME)),sA=Hx([aA],oO,{memoizeOptions:{resultEqualityCheck:IE}}),oA=Hx([sA,hN],cO),lA=Hx([iA,hN,yO],CE),cA=Hx([oA,yO,aA],dO),uA=Hx([yO],kO),dA=Hx([yO],e=>e.allowDataOverflow),hA=Hx([uA,dA],yN),fA=Hx([aA],e=>e.filter(ME)),pA=Hx([lA,fA,qN],bO),mA=Hx([pA,hN,RE,hA],jO),gA=Hx([aA],iO),yA=Hx([oA,yO,gA,OO,RE],AO,{memoizeOptions:{resultEqualityCheck:DE}}),vA=Hx([MO,RE,LE],DO),xA=Hx([vA,RE],qO),bA=Hx([RO,RE,LE],DO),wA=Hx([bA,RE],UO),jA=Hx([zO,RE,LE],DO),_A=Hx([jA,RE],HO),kA=Hx([xA,_A,wA],PO),SA=Hx([yO,uA,hA,mA,yA,kA,Zb,RE],GO),NA=Hx([yO,Zb,oA,cA,qN,RE,SA],$O),EA=Hx([NA,yO,tA],tP),OA=Hx([yO,NA,EA,RE],rP),PA=e=>{var t=RE(e),n=LE(e);return dP(e,t,n,!1)},AA=Hx([yO,PA],mE),TA=Hx([yO,tA,OA,AA],eP),CA=Hx([Zb,cA,yO,RE],EP),MA=Hx([Zb,cA,yO,RE],PP),DA=Hx([Zb,yO,tA,TA,PA,CA,MA,RE],(e,t,n,r,a,i,s,o)=>{if(t){var{type:l}=t,c=mb(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*gg(a[0]-a[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),IA=Hx([LP,zP,e=>e.tooltip.settings],(e,t,n)=>FP(n.shared,e,t)),RA=e=>e.tooltip.settings.trigger,LA=e=>e.tooltip.settings.defaultIndex,zA=Hx([$P,IA,RA,LA],WP),FA=Hx([zA,oA],KP),qA=Hx([DA,FA],BP),BA=Hx([zA],e=>{if(e)return e.dataKey}),UA=Hx([$P,IA,RA,LA],QP),VA=Hx([Pb,Ab,Zb,qb,DA,LA,UA,YP],GP),HA=Hx([zA,VA],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),WA=Hx([zA],e=>e.active),KA=Hx([UA,FA,hN,vO,qA,YP,IA],eA),GA=Hx([KA],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(t){$A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XA=(e,t,n,r,a)=>{var i,s=-1,o=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(gg(u-c)!==gg(d-u)){var f=[];if(gg(d-u)===gg(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s},JA=(e,t)=>t,ZA=(e,t,n)=>n,eT=(e,t,n,r)=>r,tT=Hx(DA,e=>tb()(e,e=>e.coordinate)),nT=Hx([$P,JA,ZA,eT],WP),rT=Hx([nT,oA],KP),aT=Hx([$P,JA,ZA,eT],QP),iT=Hx([Pb,Ab,Zb,qb,DA,eT,aT,YP],GP),sT=Hx([nT,iT],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),oT=Hx([DA,rT],BP),lT=Hx([aT,rT,hN,vO,oT,YP,JA],eA),cT=Hx([nT],e=>({isActive:e.active,activeIndex:e.index})),uT=(e,t,n,r,a,i,s)=>{if(e&&r&&a&&i&&n){var o=eE(e,n);if(o){var l=((e,t)=>"centric"===t?e.angle:e.radius)(o,t),c=XA(l,s,i,r,a),u=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("centric"===e){var i=a.coordinate,{radius:s}=r;return YA(YA(YA({},r),$N(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=r;return YA(YA(YA({},r),$N(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,i,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},dT=Hx([(e,t)=>t,Zb,OE,RE,AA,DA,tT,qb],(e,t,n,r,a,i,s,o)=>{if(e&&t&&r&&a&&i)return"horizontal"===t||"vertical"===t?((e,t,n,r,a,i,s)=>{if(e&&n&&r&&a&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,s)){var o=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=XA(o,i,a,n,r),c=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}})(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,r,a,i,s,o):uT(e,t,n,r,a,i,s)}),hT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},fT=tv("mouseClick"),pT=Yv();pT.startListening({actionCreator:fT,effect:(e,t)=>{var n=e.payload,r=dT(t.getState(),hT(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(jx({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mT=tv("mouseMove"),gT=Yv();function yT(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(t){bT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gT.startListening({actionCreator:mT,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=qP(r,r.tooltip.settings.shared),i=dT(r,hT(n));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(wx({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(xx()))}});var wT=gv({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:sv()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:sv()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:sv()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:sv()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:sv()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:sv()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(3===i.length&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var s=[...i,r].slice(-3);e.yAxis[n]=xT(xT({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:jT,removeXAxis:_T,addYAxis:kT,removeYAxis:ST,addZAxis:NT,removeZAxis:ET,updateYAxisWidth:OT}=wT.actions,PT=wT.reducer,AT=gv({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:sv()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ry(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:sv()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ry(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:sv()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:sv()},removePolarGraphicalItem:{reducer(e,t){var n=Ry(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:sv()}}}),{addCartesianGraphicalItem:TT,replaceCartesianGraphicalItem:CT,removeCartesianGraphicalItem:MT,addPolarGraphicalItem:DT,removePolarGraphicalItem:IT}=AT.actions,RT=AT.reducer,LT=gv({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ry(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ry(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ry(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:zT,removeDot:FT,addArea:qT,removeArea:BT,addLine:UT,removeLine:VT}=LT.actions,HT=LT.reducer,WT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KT=gv({name:"brush",initialState:WT,reducers:{setBrushSettings:(e,t)=>null==t.payload?WT:t.payload}}),{setBrushSettings:GT}=KT.actions,QT=KT.reducer,YT=gv({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:sv()},removeLegendPayload:{reducer(e,t){var n=Ry(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:sv()}}}),{setLegendSize:$T,setLegendSettings:XT,addLegendPayload:JT,removeLegendPayload:ZT}=YT.actions,eC=YT.reducer,tC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},nC=gv({name:"rootProps",initialState:tC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:tC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),rC=nC.reducer,{updateOptions:aC}=nC.actions,iC=gv({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sC,removeRadiusAxis:oC,addAngleAxis:lC,removeAngleAxis:cC}=iC.actions,uC=iC.reducer,dC=gv({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hC}=dC.actions,fC=dC.reducer,pC=tv("keyDown"),mC=tv("focus"),gC=Yv();gC.startListening({actionCreator:pC,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(KP(r,oA(n))),s=DA(n);if("Enter"!==a){var o=i+("ArrowRight"===a?1:-1)*("left-to-right"===RP(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=iT(n,"axis","hover",String(o));t.dispatch(kx({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=iT(n,"axis","hover",String(r.index));t.dispatch(kx({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),gC.startListening({actionCreator:mC,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=iT(n,"axis","hover",String("0"));t.dispatch(kx({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var yC=tv("externalEvent"),vC=Yv();vC.startListening({actionCreator:yC,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:HA(n),activeDataKey:BA(n),activeIndex:FA(n),activeLabel:qA(n),activeTooltipIndex:FA(n),isTooltipActive:WA(n)};e.payload.handler(r,e.payload.reactEvent)}}});var xC=Hx([$P],e=>e.tooltipItemPayloads),bC=Hx([xC,YP,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,n)}}),wC=tv("touchMove"),jC=Yv();jC.startListening({actionCreator:wC,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),a=qP(r,r.tooltip.settings.shared);if("axis"===a){var i=dT(r,hT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(wx({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var s,o=n.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Ib),u=null!==(s=l.getAttribute(Rb))&&void 0!==s?s:void 0,d=bC(t.getState(),c,u);t.dispatch(yx({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var _C=gv({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:kC,replaceErrorBar:SC,removeErrorBar:NC}=_C.actions,EC=_C.reducer,OC=!1,PC=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(t){CC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MC={zIndexMap:Object.values(tE).reduce((e,t)=>TC(TC({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},DC=new Set(Object.values(tE));var IC=gv({name:"zIndex",initialState:MC,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:sv()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return DC.has(e)}(n)&&delete e.zIndexMap[n])},prepare:sv()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:sv()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:sv()}}}),{registerZIndexPortal:RC,unregisterZIndexPortal:LC,registerZIndexPortalId:zC,unregisterZIndexPortalId:FC}=IC.actions,qC=Gy({brush:QT,cartesianAxis:PT,chartData:Ax,errorBars:EC,graphicalItems:RT,layout:Rx,legend:eC,options:Zv,polarAxis:uC,polarOptions:fC,referenceElements:HT,rootProps:rC,tooltip:Sx,zIndex:IC.reducer});function BC(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,i=Hb(),s=(0,t.useRef)(null);if(i)return r;null==s.current&&(s.current=function(e){return cv({reducer:qC,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([pT.middleware,gT.middleware,gC.middleware,vC.middleware,jC.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(lv({type:"raf"}))},devTools:OC&&{serialize:{replacer:yT},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var o=Gx;return t.createElement(dx,{context:o,store:s.current},r)}var UC=e=>{var{chartData:n}=e,r=Yx(),a=Hb();return(0,t.useEffect)(()=>a?()=>{}:(r(Ex(n)),()=>{r(Ex(void 0))}),[n,r,a]),null};function VC(e){var{layout:n,margin:r}=e,a=Yx(),i=Hb();return(0,t.useEffect)(()=>{i||(a(Mx(n)),a(Cx(r)))},[a,i,n,r]),null}function HC(e){var n=Yx();return(0,t.useEffect)(()=>{n(aC(e))},[n,e]),null}var WC=()=>{var e;return null===(e=Zx(e=>e.rootProps.accessibilityLayer))||void 0===e||e},KC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GC(e){return"string"===typeof e&&KC.includes(e)}var QC=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function YC(e){return"string"===typeof e&&QC.includes(e)}function $C(e){return"string"===typeof e&&e.startsWith("data-")}function XC(e){var t=Object.entries(e).filter(e=>{var[t]=e;return YC(t)||$C(t)});return Object.fromEntries(t)}function JC(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?XC(e.props):"object"!==typeof e||Array.isArray(e)?null:XC(e)}function ZC(e){var t=Object.entries(e).filter(e=>{var[t]=e;return YC(t)||$C(t)||GC(t)});return Object.fromEntries(t)}var eM=["children","width","height","viewBox","className","style","title","desc"];function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tM.apply(null,arguments)}var nM,rM=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,eM),h=s||{width:a,height:i,x:0,y:0},f=dg("recharts-surface",o);return t.createElement("svg",tM({},ZC(d),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),aM=null!==(nM=r["useId".toString()])&&void 0!==nM?nM:()=>{var[e]=t.useState(()=>jg("uid-"));return e};function iM(e,t){var n=aM();return t||(e?"".concat(e,"-").concat(n):n)}var sM=Hx(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElementId:r.elementId}}),oM=Hx(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(tE));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function lM(e){var{zIndex:n,isPanorama:r}=e,a=iM("".concat(r?"recharts-zindex-panorama-":"recharts-zindex-").concat(n)),i=Yx();return(0,t.useLayoutEffect)(()=>(i(zC({zIndex:n,elementId:a,isPanorama:r})),()=>{i(FC({zIndex:n,isPanorama:r}))}),[i,n,a,r]),t.createElement("g",{id:a})}function cM(e){var{children:n,isPanorama:r}=e,a=Zx(oM);if(!a||0===a.length)return n;var i=a.filter(e=>e<0),s=a.filter(e=>e>0);return t.createElement(t.Fragment,null,i.map(e=>t.createElement(lM,{key:e,zIndex:e,isPanorama:r})),n,s.map(e=>t.createElement(lM,{key:e,zIndex:e,isPanorama:r})))}var uM=["children"];function dM(){return dM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dM.apply(null,arguments)}var hM={width:"100%",height:"100%",display:"block"},fM=(0,t.forwardRef)((e,n)=>{var r=Xb(),a=Jb(),i=WC();if(!Fg(r)||!Fg(a))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return null!=c&&(s="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,o="string"===typeof c.role?c.role:i?"application":void 0),t.createElement(rM,dM({},c,{title:u,desc:d,role:o,tabIndex:s,width:r,height:a,style:hM,ref:n}),l)}),pM=e=>{var{children:n}=e,r=Zx(Kb);if(!r)return null;var{width:a,height:i,y:s,x:o}=r;return t.createElement(rM,{width:a,height:i,x:o,y:s},n)},mM=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,uM);return Hb()?t.createElement(pM,null,t.createElement(cM,{isPanorama:!0},r)):t.createElement(fM,dM({ref:n},a),t.createElement(cM,{isPanorama:!1},r))});var gM=new(n(7283)),yM="recharts.syncEvent.tooltip",vM="recharts.syncEvent.brush";function xM(e){return e.tooltip.syncInteraction}var bM=["x","y"];function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(t){_M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kM(){var e=Zx(UN),n=Zx(HN),r=Yx(),a=Zx(VN),i=Zx(DA),s=ew(),o=Qb(),l=Zx(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Ag;var t=(t,l,c)=>{var u;if(n!==c&&e===t)if("index"!==a){if(null!=i){var d;if("function"===typeof a){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=a(i,h);d=i[f]}else"value"===a&&(d=i.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=o){var{x:m,y:g}=p,y=Math.min(m,o.x+o.width),v=Math.min(g,o.y+o.height),x={x:"horizontal"===s?d.coordinate:y,y:"horizontal"===s?v:d.coordinate},b=_x({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox});r(b)}else r(_x({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:_}=w,k=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(w,bM),{x:S,y:N,width:E,height:O}=l.payload.sourceViewBox,P=jM(jM({},k),{},{x:o.x+(E?(j-S)/E:0)*o.width,y:o.y+(O?(_-N)/O:0)*o.height});r(jM(jM({},l),{},{payload:jM(jM({},l.payload),{},{coordinate:P})}))}else r(l)};return gM.on(yM,t),()=>{gM.off(yM,t)}},[l,r,n,e,a,i,s,o])}function SM(){var e=Yx();(0,t.useEffect)(()=>{e(ex())},[e]),kM(),function(){var e=Zx(UN),n=Zx(HN),r=Yx();(0,t.useEffect)(()=>{if(null==e)return Ag;var t=(t,a,i)=>{n!==i&&e===t&&r(Ox(a))};return gM.on(vM,t),()=>{gM.off(vM,t)}},[r,n,e])}()}function NM(e,n,r,a,i,s){var o=Zx(t=>((e,t,n)=>{if(null!=t){var r=$P(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=Zx(HN),c=Zx(UN),u=Zx(VN),d=Zx(xM),h=null===d||void 0===d?void 0:d.active,f=Qb();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=_x({active:s,coordinate:r,dataKey:o,index:i,label:"number"===typeof a?String(a):a,sourceViewBox:f});gM.emit(yM,c,e,l)}},[h,r,o,i,a,l,c,u,s,f])}var EM=(0,t.createContext)(null),OM=(0,t.createContext)(null);function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(t){TM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CM(){return CM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CM.apply(null,arguments)}var MM=()=>(SM(),null);function DM(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var IM=(0,t.forwardRef)((e,n)=>{var r,a,i=(0,t.useRef)(null),[s,o]=(0,t.useState)({containerWidth:DM(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:DM(null===(a=e.style)||void 0===a?void 0:a.height)}),l=(0,t.useCallback)((e,t)=>{o(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:r}=e.getBoundingClientRect();l(t,r);var a=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)});a.observe(e),i.current=a}},[n,l]);return(0,t.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(tw,{width:s.containerWidth,height:s.containerHeight}),t.createElement("div",CM({ref:c},e)))}),RM=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e,[i,s]=(0,t.useState)({containerWidth:DM(r),containerHeight:DM(a)}),o=(0,t.useCallback)((e,t)=>{s(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();o(t,r)}},[n,o]);return t.createElement(t.Fragment,null,t.createElement(tw,{width:i.containerWidth,height:i.containerHeight}),t.createElement("div",CM({ref:l},e)))}),LM=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return t.createElement(t.Fragment,null,t.createElement(tw,{width:r,height:a}),t.createElement("div",CM({ref:n},e)))}),zM=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return vg(r)||vg(a)?t.createElement(RM,CM({},e,{ref:n})):t.createElement(LM,CM({},e,{ref:n}))});var FM=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v,responsive:x,dispatchTouchEvents:b=!0}=e,w=(0,t.useRef)(null),j=Yx(),[_,k]=(0,t.useState)(null),[S,N]=(0,t.useState)(null),E=function(){var e=Yx(),[n,r]=(0,t.useState)(null),a=Zx(Tb);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;zg(t)&&t!==a&&e(Ix(t))}},[n,e,a]),r}(),O=Kg(),P=(null===O||void 0===O?void 0:O.width)>0?O.width:v,A=(null===O||void 0===O?void 0:O.height)>0?O.height:i,T=(0,t.useCallback)(e=>{E(e),"function"===typeof n&&n(e),k(e),N(e),null!=e&&(w.current=e)},[E,n,k,N]),C=(0,t.useCallback)(e=>{j(fT(e)),j(yC({handler:s,reactEvent:e}))},[j,s]),M=(0,t.useCallback)(e=>{j(mT(e)),j(yC({handler:u,reactEvent:e}))},[j,u]),D=(0,t.useCallback)(e=>{j(xx()),j(yC({handler:d,reactEvent:e}))},[j,d]),I=(0,t.useCallback)(e=>{j(mT(e)),j(yC({handler:h,reactEvent:e}))},[j,h]),R=(0,t.useCallback)(()=>{j(mC())},[j]),L=(0,t.useCallback)(e=>{j(pC(e.key))},[j]),z=(0,t.useCallback)(e=>{j(yC({handler:o,reactEvent:e}))},[j,o]),F=(0,t.useCallback)(e=>{j(yC({handler:l,reactEvent:e}))},[j,l]),q=(0,t.useCallback)(e=>{j(yC({handler:c,reactEvent:e}))},[j,c]),B=(0,t.useCallback)(e=>{j(yC({handler:f,reactEvent:e}))},[j,f]),U=(0,t.useCallback)(e=>{j(yC({handler:g,reactEvent:e}))},[j,g]),V=(0,t.useCallback)(e=>{b&&j(wC(e)),j(yC({handler:m,reactEvent:e}))},[j,b,m]),H=(0,t.useCallback)(e=>{j(yC({handler:p,reactEvent:e}))},[j,p]),W=function(e){return!0===e?IM:zM}(x);return t.createElement(EM.Provider,{value:_},t.createElement(OM.Provider,{value:S},t.createElement(W,{width:null!==P&&void 0!==P?P:null===y||void 0===y?void 0:y.width,height:null!==A&&void 0!==A?A:null===y||void 0===y?void 0:y.height,className:dg("recharts-wrapper",a),style:AM({position:"relative",cursor:"default",width:P,height:A},y),onClick:C,onContextMenu:z,onDoubleClick:F,onFocus:R,onKeyDown:L,onMouseDown:q,onMouseEnter:M,onMouseLeave:D,onMouseMove:I,onMouseUp:B,onTouchEnd:H,onTouchMove:V,onTouchStart:U,ref:T},t.createElement(MM,null),r)))}),qM=Hx([qb],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),BM=Hx([qM,Pb,Ab],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),UM=()=>Zx(BM),VM=(0,t.createContext)(void 0),HM=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(jg("recharts"),"-clip")),a=UM();if(null==a)return null;var{x:i,y:s,width:o,height:l}=a;return t.createElement(VM.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:i,y:s,height:l,width:o}))),n)},WM=["width","height","responsive","children","className","style","compact","title","desc"];var KM=(0,t.forwardRef)((e,n)=>{var{width:r,height:a,responsive:i,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,WM),f=XC(h);return c?t.createElement(t.Fragment,null,t.createElement(tw,{width:r,height:a}),t.createElement(mM,{otherAttributes:f,title:u,desc:d},s)):t.createElement(FM,{className:o,style:l,width:r,height:a,responsive:null!==i&&void 0!==i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(mM,{otherAttributes:f,title:u,desc:d,ref:n},t.createElement(HM,null,s)))});function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YM(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(t){QM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function $M(){return $M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$M.apply(null,arguments)}var XM={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},JM=(0,t.forwardRef)(function(e,n){var r,a=YM(e.categoricalChartProps,XM),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(BC,{preloadedState:{options:u},reduxStoreName:null!==(r=c.id)&&void 0!==r?r:i},t.createElement(UC,{chartData:c.data}),t.createElement(VC,{layout:a.layout,margin:a.margin}),t.createElement(HC,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(KM,$M({},a,{ref:n})))}),ZM=["axis"],eD=(0,t.forwardRef)((e,n)=>t.createElement(JM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZM,tooltipPayloadSearcher:Xv,categoricalChartProps:e,ref:n}));function tD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(t){aD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iD=rD({},{cacheSize:2e3,enableCache:!0}),sD=new class{constructor(e){tD(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(iD.cacheSize),oD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lD="recharts_measurement_span";var cD=(e,t)=>{try{var n=document.getElementById(lD);n||((n=document.createElement("span")).setAttribute("id",lD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,oD,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(hH){return{width:0,height:0}}},uD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||PC)return{width:0,height:0};if(!iD.enableCache)return cD(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}(e,t),r=sD.get(n);if(r)return r;var a=cD(e,t);return sD.set(n,a),a};function dD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class hD{static create(e){return new hD(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}dD(hD,"EPS",1e-4);function fD(e,t){if(t<1)return[];if(1===t)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function pD(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),s=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function mD(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(t){vD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xD(e,t,n){var r,{tick:a,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(xg(c)||PC)return null!==(r=function(e,t){return fD(e,t+1)}(i,xg(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?uD(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===p?pD(uD(a,{fontSize:t,letterSpacing:n}),m,h):uD(a,{fontSize:t,letterSpacing:n})[p]},y=i.length>=2?gg(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:a,y:i,width:s,height:o}=e;return 1===t?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}(s,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var i,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:fD(r,u)};var i,s=c,h=()=>(void 0===i&&(i=n(t,s)),i),f=t.coordinate,p=0===c||mD(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=s.length;)if(i=h())return i.v;return[]}(y,v,g,i,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=yD(yD({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),null!=u.tickCoord&&mD(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=yD(yD({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var r,i=s[t],o=()=>(void 0===r&&(r=n(i,t)),r);if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=yD(yD({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=yD(yD({},i),{},{tickCoord:i.coordinate});null!=i.tickCoord&&mD(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=yD(yD({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(y,v,g,i,o,"preserveStartEnd"===c):function(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=i[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=yD(yD({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=yD(yD({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&mD(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=yD(yD({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(y,v,g,i,o),f.filter(e=>e.isShow))}function bD(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var wD=["children","className"];function jD(){return jD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jD.apply(null,arguments)}var _D=t.forwardRef((e,n)=>{var{children:r,className:a}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,wD),s=dg("recharts-layer",a);return t.createElement("g",jD({className:s},ZC(i),{ref:n}),r)}),kD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ND=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ED=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},PD=Object.keys(OD),AD="NaN";class TD{static parse(e){var t,[,n,r]=null!==(t=ED.exec(e))&&void 0!==t?t:[];return new TD(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,yg(e)&&(this.unit=""),""===t||ND.test(t)||(this.num=NaN,this.unit=""),PD.includes(t)&&(this.num=function(e,t){return e*OD[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new TD(NaN,""):new TD(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new TD(NaN,""):new TD(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new TD(NaN,""):new TD(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new TD(NaN,""):new TD(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yg(this.num)}}function CD(e){if(e.includes(AD))return AD;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=null!==(n=kD.exec(t))&&void 0!==n?n:[],s=TD.parse(null!==r&&void 0!==r?r:""),o=TD.parse(null!==i&&void 0!==i?i:""),l="*"===a?s.multiply(o):s.divide(o);if(l.isNaN())return AD;t=t.replace(kD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=SD.exec(t))&&void 0!==c?c:[],f=TD.parse(null!==u&&void 0!==u?u:""),p=TD.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return AD;t=t.replace(SD,m.toString())}return t}var MD=/\(([^()]*)\)/;function DD(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=MD.exec(n));){var[,r]=t;n=n.replace(MD,CD(r))}return n}(t),t=CD(t)}function ID(e){var t=function(e){try{return DD(e)}catch(hH){return AD}}(e.slice(5,-1));return t===AD?"":t}var RD=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LD=["dx","dy","angle","className","breakAll"];function zD(){return zD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zD.apply(null,arguments)}function FD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var qD=/[ \f\n\r\t\v\u2028\u2029]+/,BD=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return Eg(t)||(a=n?t.toString().split(""):t.toString().split(qD)),{wordsWithComputedWidth:a.map(e=>({word:e,width:uD(e,r).width})),spaceWidth:n?0:uD("\xa0",r).width}}catch(hH){return null}};function UD(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var VD=(e,t,n,r)=>e.reduce((e,a)=>{var{word:i,width:s}=a,o=e[e.length-1];if(o&&null!=s&&(null==t||r||o.width+s+n<Number(t)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e},[]),HD=e=>e.reduce((e,t)=>e.width>t.width?e:t),WD=(e,t,n,r,a,i,s,o)=>{var l=e.slice(0,t),c=BD({breakAll:n,style:r,children:l+"\u2026"});if(!c)return[!1,[]];var u=VD(c.wordsWithComputedWidth,i,s,o);return[u.length>a||HD(u).width>Number(i),u]},KD=e=>[{words:Eg(e)?[]:e.toString().split(qD),width:void 0}],GD=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:s}=e;if((t||n)&&!PC){var o=BD({breakAll:i,children:r,style:a});if(!o)return KD(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=xg(i),u=String(s),d=VD(t,r,n,a);if(!c||a)return d;if(!(d.length>i||HD(d).width>Number(r)))return d;for(var h,f=0,p=u.length-1,m=0;f<=p&&m<=u.length-1;){var g=Math.floor((f+p)/2),y=g-1,[v,x]=WD(u,y,l,o,i,r,n,a),[b]=WD(u,g,l,o,i,r,n,a);if(v||b||(f=g+1),v&&b&&(p=g-1),!v&&b){h=x;break}m++}return h||d})({breakAll:i,children:r,maxLines:s,style:a},l,c,t,Boolean(n))}return KD(r)},QD="#808080",YD={breakAll:!1,capHeight:"0.71em",fill:QD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$D=(0,t.forwardRef)((e,n)=>{var r=YM(e,YD),{x:a,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=FD(r,RD),f=(0,t.useMemo)(()=>GD({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:m,angle:g,className:y,breakAll:v}=h,x=FD(h,LD);if(!bg(a)||!bg(i)||0===f.length)return null;var b,w=Number(a)+(xg(p)?p:0),j=Number(i)+(xg(m)?m:0);if(!zg(w)||!zg(j))return null;switch(d){case"start":b=ID("calc(".concat(o,")"));break;case"middle":b=ID("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:b=ID("calc(".concat(f.length-1," * -").concat(s,")"))}var _=[];if(c){var k=f[0].width,{width:S}=h;_.push("scale(".concat(xg(S)&&xg(k)?S/k:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(w,", ").concat(j,")")),_.length&&(x.transform=_.join(" ")),t.createElement("text",zD({},ZC(x),{ref:n,x:w,y:j,className:dg("recharts-text",y),textAnchor:u,fill:l.includes("url")?QD:l}),f.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:w,dy:0===n?b:s,key:"".concat(r,"-").concat(n)},r)}))});$D.displayName="Text";var XD=n(7950);function JD(e){var{zIndex:n,children:r}=e,a=void 0!==ew()&&void 0!==n&&0!==n,i=Hb(),s=Yx();(0,t.useLayoutEffect)(()=>a?(s(RC({zIndex:n})),()=>{s(LC({zIndex:n}))}):Ag,[s,n,a]);var o=Zx(e=>sM(e,n,i));if(!a)return r;if(!o)return null;var l=document.getElementById(o);return l?(0,XD.createPortal)(r,l):null}var ZD=["labelRef"];function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){nI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rI.apply(null,arguments)}var aI=(0,t.createContext)(null),iI=e=>{var{x:n,y:r,upperWidth:a,lowerWidth:i,width:s,height:o,children:l}=e,c=(0,t.useMemo)(()=>({x:n,y:r,upperWidth:a,lowerWidth:i,width:s,height:o}),[n,r,a,i,s,o]);return t.createElement(aI.Provider,{value:c},l)},sI=()=>{var e=(0,t.useContext)(aI),n=Qb();return e||Gb(n)},oI=(0,t.createContext)(null),lI=()=>{var e=(0,t.useContext)(oI),n=Zx(OE);return e||n},cI=e=>null!=e&&"function"===typeof e,uI=(e,n,r,a,i)=>{var s,o,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,y=(h+f)/2,v=((e,t)=>gg(t-e)*Math.min(Math.abs(t-e),360))(p,m),x=v>=0?1:-1;switch(n){case"insideStart":s=p+x*l,o=g;break;case"insideEnd":s=m-x*l,o=!g;break;case"end":s=m+x*l,o=g;break;default:throw new Error("Unsupported position ".concat(n))}o=v<=0?o:!o;var b=$N(u,d,y,s),w=$N(u,d,y,s+359*(o?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),_=Eg(e.id)?jg("recharts-radial-line-"):e.id;return t.createElement("text",rI({},a,{dominantBaseline:"central",className:dg("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:_,d:j})),t.createElement("textPath",{xlinkHref:"#".concat(_)},r))},dI=e=>"cx"in e&&xg(e.cx),hI={offset:5,zIndex:tE.label};function fI(e){var n,r,a,i=YM(e,hI),{viewBox:s,position:o,value:l,children:c,content:u,className:d="",textBreakAll:h,labelRef:f}=i,p=lI(),m=sI();if(!(n=null==s?"center"===o?m:null!==p&&void 0!==p?p:m:dI(s)?s:Gb(s))||Eg(l)&&Eg(c)&&!(0,t.isValidElement)(u)&&"function"!==typeof u)return null;var g=tI(tI({},i),{},{viewBox:n});if((0,t.isValidElement)(u)){var{labelRef:y}=g,v=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(g,ZD);return(0,t.cloneElement)(u,v)}if("function"===typeof u){if(r=(0,t.createElement)(u,g),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:n}=e,r=Eg(e.children)?t:e.children;return"function"===typeof n?n(r):r})(i);var x=ZC(i);if(dI(n)){if("insideStart"===o||"insideEnd"===o||"end"===o)return uI(i,o,r,x,n);a=((e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=$N(r,a,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:f,y:p}=$N(r,a,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(n,i.offset,i.position)}else a=((e,t)=>{var n,{parentViewBox:r,offset:a,position:i}=e;null==r||dI(r)||(n=r);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=t,d=s,h=s+(l-c)/2,f=(d+h)/2,p=(l+c)/2,m=d+l/2,g=u>=0?1:-1,y=g*a,v=g>0?"end":"start",x=g>0?"start":"end",b=l>=0?1:-1,w=b*a,j=b>0?"end":"start",_=b>0?"start":"end";if("top"===i)return tI(tI({},{x:d+l/2,y:o-y,textAnchor:"middle",verticalAnchor:v}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===i)return tI(tI({},{x:h+c/2,y:o+u+y,textAnchor:"middle",verticalAnchor:x}),n?{height:Math.max(n.y+n.height-(o+u),0),width:c}:{});if("left"===i){var k={x:f-w,y:o+u/2,textAnchor:j,verticalAnchor:"middle"};return tI(tI({},k),n?{width:Math.max(k.x-n.x,0),height:u}:{})}if("right"===i){var S={x:f+p+w,y:o+u/2,textAnchor:_,verticalAnchor:"middle"};return tI(tI({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var N=n?{width:p,height:u}:{};return"insideLeft"===i?tI({x:f+w,y:o+u/2,textAnchor:_,verticalAnchor:"middle"},N):"insideRight"===i?tI({x:f+p-w,y:o+u/2,textAnchor:j,verticalAnchor:"middle"},N):"insideTop"===i?tI({x:d+l/2,y:o+y,textAnchor:"middle",verticalAnchor:x},N):"insideBottom"===i?tI({x:h+c/2,y:o+u-y,textAnchor:"middle",verticalAnchor:v},N):"insideTopLeft"===i?tI({x:d+w,y:o+y,textAnchor:_,verticalAnchor:x},N):"insideTopRight"===i?tI({x:d+l-w,y:o+y,textAnchor:j,verticalAnchor:x},N):"insideBottomLeft"===i?tI({x:h+w,y:o+u-y,textAnchor:_,verticalAnchor:v},N):"insideBottomRight"===i?tI({x:h+c-w,y:o+u-y,textAnchor:j,verticalAnchor:v},N):i&&"object"===typeof i&&(xg(i.x)||vg(i.x))&&(xg(i.y)||vg(i.y))?tI({x:s+_g(i.x,p),y:o+_g(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):tI({x:m,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)})(i,n);return t.createElement(JD,{zIndex:i.zIndex},t.createElement($D,rI({ref:f,className:dg("recharts-label",d)},x,a,{textAnchor:UD(x.textAnchor)?x.textAnchor:a.textAnchor,breakAll:h}),r))}fI.displayName="Label";var pI=(e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(fI,rI({key:"label-implicit"},a)):bg(e)?t.createElement(fI,rI({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===fI?(0,t.cloneElement)(e,tI({key:"label-implicit"},a)):t.createElement(fI,rI({key:"label-implicit",content:e},a)):cI(e)?t.createElement(fI,rI({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(fI,rI({},e,{key:"label-implicit"},a)):null};function mI(e){var{label:t,labelRef:n}=e,r=sI();return pI(t,r,n)||null}var gI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,yI=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{GC(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},vI=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];GC(a)&&"function"===typeof i&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(i,t,n))}),r},xI=["axisLine","width","height","className","hide","ticks","axisType"],bI=["viewBox"],wI=["viewBox"];function jI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(null,arguments)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EI={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tE.axis};function OI(e){var{x:n,y:r,width:a,height:i,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=SI(SI(SI({},c),XC(l)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);u=SI(SI({},u),{},{x1:n,y1:r+d*i,x2:n+a,y2:r+d*i})}else{var h=+("left"===s&&!o||"right"===s&&o);u=SI(SI({},u),{},{x1:n+h*a,y1:r,x2:n+h*a,y2:r+i})}return t.createElement("line",_I({},u,{className:dg("recharts-cartesian-axis-line",mg()(l,"className"))}))}function PI(e){var n,{option:r,tickProps:a,value:i}=e,s=dg(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(r))n=t.cloneElement(r,SI(SI({},a),{},{className:s}));else if("function"===typeof r)n=r(SI(SI({},a),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof r&&(o=dg(o,null===r||void 0===r?void 0:r.className)),n=t.createElement($D,_I({},a,{className:o}),i)}return n}var AI=(0,t.forwardRef)((e,n)=>{var{ticks:r=[],tick:a,tickLine:i,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:f,y:p,width:m,height:g,tickSize:y,tickMargin:v,fontSize:x,letterSpacing:b,getTicksConfig:w,events:j,axisType:_}=e,k=xD(SI(SI({},w),{},{ticks:r}),x,b),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(d,h),N=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(d,h),E=XC(w),O=JC(a),P={};"object"===typeof i&&(P=i);var A=SI(SI({},E),{},{fill:"none"},P),T=k.map(e=>SI({entry:e},function(e,t,n,r,a,i,s,o,l){var c,u,d,h,f,p,m=o?-1:1,g=e.tickSize||s,y=xg(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,p=(d=(h=n+ +!o*a)-m*g)-m*l,f=y;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!o*r)-m*g)-m*l,p=y;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +o*r)+m*g)+m*l,p=y;break;default:c=u=e.coordinate,p=(d=(h=n+ +o*a)+m*g)+m*l,f=y}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,f,p,m,g,d,y,h,v))),C=T.map(e=>{var{entry:n,line:r}=e;return t.createElement(_D,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},i&&t.createElement("line",_I({},A,r,{className:dg("recharts-cartesian-axis-tick-line",mg()(i,"className"))})))}),M=T.map((e,n)=>{var{entry:r,tick:i}=e,d=SI(SI(SI(SI({textAnchor:S,verticalAnchor:N},E),{},{stroke:"none",fill:s},O),i),{},{index:n,payload:r,visibleTicksCount:k.length,tickFormatter:o,padding:c},u);return t.createElement(_D,_I({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},vI(j,r,n)),a&&t.createElement(PI,{option:a,tickProps:d,value:"".concat("function"===typeof o?o(r.value,n):r.value).concat(l||"")}))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},M.length>0&&t.createElement(JD,{zIndex:tE.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:n},M)),C.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},C))}),TI=(0,t.forwardRef)((e,n)=>{var{axisLine:r,width:a,height:i,className:s,hide:o,ticks:l,axisType:c}=e,u=jI(e,xI),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),m=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(a+i)+o+(n?r:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),a=r.fontSize,i=r.letterSpacing;a===d&&i===f||(h(a),p(i))}}},[d,f]);return o||null!=a&&a<=0||null!=i&&i<=0?null:t.createElement(JD,{zIndex:e.zIndex},t.createElement(_D,{className:dg("recharts-cartesian-axis",s)},t.createElement(OI,{x:e.x,y:e.y,width:a,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:XC(e)}),t.createElement(AI,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(iI,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(mI,{label:e.label,labelRef:e.labelRef}),e.children)))}),CI=t.memo(TI,(e,t)=>{var{viewBox:n}=e,r=jI(e,bI),{viewBox:a}=t,i=jI(t,wI);return bD(n,a)&&bD(r,i)}),MI=t.forwardRef((e,n)=>{var r=YM(e,EI);return t.createElement(CI,_I({},r,{ref:n}))});MI.displayName="CartesianAxis";var DI=["x1","y1","x2","y2","key"],II=["offset"],RI=["xAxisId","yAxisId"],LI=["xAxisId","yAxisId"];function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(t){qI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BI(){return BI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BI.apply(null,arguments)}function UI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var VI=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:i,width:s,height:o,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HI(e){var n,{option:r,lineItemProps:a}=e;if(t.isValidElement(r))n=t.cloneElement(r,a);else if("function"===typeof r)n=r(a);else{var i,{x1:s,y1:o,x2:l,y2:c,key:u}=a,d=null!==(i=XC(UI(a,DI)))&&void 0!==i?i:{},{offset:h}=d,f=UI(d,II);n=t.createElement("line",BI({},f,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function WI(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=UI(e,RI),c=i.map((e,i)=>{var s=FI(FI({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(i),index:i});return t.createElement(HI,{key:"line-".concat(i),option:a,lineItemProps:s})});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function KI(e){var{y:n,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=UI(e,LI),c=i.map((e,i)=>{var s=FI(FI({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(i),index:i});return t.createElement(HI,{option:a,lineItemProps:s,key:"line-".concat(i)})});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function GI(e){var{horizontalFill:n,fillOpacity:r,x:a,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length||null==l)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+o-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function QI(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:i,y:s,width:o,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?i+o-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var YI=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return gb(xD(FI(FI(FI({},EI),n),{},{ticks:yb(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},$I=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return gb(xD(FI(FI(FI({},EI),n),{},{ticks:yb(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},XI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tE.grid};function JI(e){var n=Xb(),r=Jb(),a=$b(),i=FI(FI({},YM(e,XI)),{},{x:xg(e.x)?e.x:a.left,y:xg(e.y)?e.y:a.top,width:xg(e.width)?e.width:a.width,height:xg(e.height)?e.height:a.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=Hb(),g=Zx(e=>TP(e,"xAxis",s,m)),y=Zx(e=>TP(e,"yAxis",o,m));if(!Fg(u)||!Fg(d)||!xg(l)||!xg(c))return null;var v=i.verticalCoordinatesGenerator||YI,x=i.horizontalCoordinatesGenerator||$I,{horizontalPoints:b,verticalPoints:w}=i;if((!b||!b.length)&&"function"===typeof x){var j=f&&f.length,_=x({yAxis:y?FI(FI({},y),{},{ticks:j?f:y.ticks}):void 0,width:null!==n&&void 0!==n?n:u,height:null!==r&&void 0!==r?r:d,offset:a},!!j||h);Tg(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!w||!w.length)&&"function"===typeof v){var k=p&&p.length,S=v({xAxis:g?FI(FI({},g),{},{ticks:k?p:g.ticks}):void 0,width:null!==n&&void 0!==n?n:u,height:null!==r&&void 0!==r?r:d,offset:a},!!k||h);Tg(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return t.createElement(JD,{zIndex:i.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(VI,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(GI,BI({},i,{horizontalPoints:b})),t.createElement(QI,BI({},i,{verticalPoints:w})),t.createElement(WI,BI({},i,{offset:a,horizontalPoints:b,xAxis:g,yAxis:y})),t.createElement(KI,BI({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:y}))))}JI.displayName="CartesianGrid";var ZI=["dangerouslySetInnerHTML","ticks"],eR=["id"],tR=["domain"],nR=["domain"];function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rR.apply(null,arguments)}function aR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iR(e){var n=Yx();return(0,t.useLayoutEffect)(()=>(n(jT(e)),()=>{n(_T(e))}),[e,n]),null}var sR=e=>{var{xAxisId:n,className:r}=e,a=Zx(Ub),i=Hb(),s="xAxis",o=Zx(e=>fP(e,s,n,i)),l=Zx(e=>CP(e,s,n,i)),c=Zx(e=>bP(e,n)),u=Zx(e=>_P(e,n)),d=Zx(e=>VE(e,n));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,p=aR(e,ZI),{id:m}=d,g=aR(d,eR);return t.createElement(MI,rR({},p,g,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:dg("recharts-".concat(s," ").concat(s),r),viewBox:a,ticks:l,axisType:s}))},oR={allowDataOverflow:UE.allowDataOverflow,allowDecimals:UE.allowDecimals,allowDuplicatedCategory:UE.allowDuplicatedCategory,height:UE.height,hide:!1,mirror:UE.mirror,orientation:UE.orientation,padding:UE.padding,reversed:UE.reversed,scale:UE.scale,tickCount:UE.tickCount,type:UE.type,xAxisId:0},lR=e=>{var n,r,a,i,s,o=YM(e,oR);return t.createElement(t.Fragment,null,t.createElement(iR,{interval:null!==(n=o.interval)&&void 0!==n?n:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!==(r=o.includeHidden)&&void 0!==r&&r,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(a=o.angle)&&void 0!==a?a:0,minTickGap:null!==(i=o.minTickGap)&&void 0!==i?i:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),t.createElement(sR,o))},cR=(e,t)=>{var{domain:n}=e,r=aR(e,tR),{domain:a}=t;return!!bD(r,aR(t,nR))&&(Array.isArray(n)&&2===n.length&&Array.isArray(a)&&2===a.length?n[0]===a[0]&&n[1]===a[1]:bD({domain:n},{domain:a}))},uR=t.memo(lR,cR);uR.displayName="XAxis";var dR=["dangerouslySetInnerHTML","ticks"],hR=["id"],fR=["domain"],pR=["domain"];function mR(){return mR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mR.apply(null,arguments)}function gR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yR(e){var n=Yx();return(0,t.useLayoutEffect)(()=>(n(kT(e)),()=>{n(ST(e))}),[e,n]),null}var vR=e=>{var{yAxisId:n,className:r,width:a,label:i}=e,s=(0,t.useRef)(null),o=(0,t.useRef)(null),l=Zx(Ub),c=Hb(),u=Yx(),d="yAxis",h=Zx(e=>fP(e,d,n,c)),f=Zx(e=>SP(e,n)),p=Zx(e=>kP(e,n)),m=Zx(e=>CP(e,d,n,c)),g=Zx(e=>KE(e,n));if((0,t.useLayoutEffect)(()=>{if("auto"===a&&f&&!cI(i)&&!(0,t.isValidElement)(i)&&null!=g){var e=s.current;if(e){var r=e.getCalculatedWidth();Math.round(f.width)!==Math.round(r)&&u(OT({id:n,width:r}))}}},[m,f,u,i,n,a,g]),null==f||null==p||null==g)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,x=gR(e,dR),{id:b}=g,w=gR(g,hR);return t.createElement(MI,mR({},x,w,{ref:s,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:f.width,height:f.height,className:dg("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},xR={allowDataOverflow:WE.allowDataOverflow,allowDecimals:WE.allowDecimals,allowDuplicatedCategory:WE.allowDuplicatedCategory,hide:!1,mirror:WE.mirror,orientation:WE.orientation,padding:WE.padding,reversed:WE.reversed,scale:WE.scale,tickCount:WE.tickCount,type:WE.type,width:WE.width,yAxisId:0},bR=e=>{var n,r,a,i,s,o=YM(e,xR);return t.createElement(t.Fragment,null,t.createElement(yR,{interval:null!==(n=o.interval)&&void 0!==n?n:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!==(r=o.includeHidden)&&void 0!==r&&r,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(a=o.angle)&&void 0!==a?a:0,minTickGap:null!==(i=o.minTickGap)&&void 0!==i?i:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),t.createElement(vR,o))},wR=(e,t)=>{var{domain:n}=e,r=gR(e,fR),{domain:a}=t;return!!bD(r,gR(t,pR))&&(Array.isArray(n)&&2===n.length&&Array.isArray(a)&&2===a.length?n[0]===a[0]&&n[1]===a[1]:bD({domain:n},{domain:a}))},jR=t.memo(bR,wR);function _R(){return _R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_R.apply(null,arguments)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(t){NR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ER(e){return Array.isArray(e)&&bg(e[0])&&bg(e[1])?e.join(" ~ "):e}jR.displayName="YAxis";var OR=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=SR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=SR({margin:0},i),g=!Eg(d),y=g?d:"",v=dg("recharts-default-tooltip",c),x=dg("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(y=h(d,s));var b=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",_R({className:v,style:p},b),t.createElement("p",{className:x,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(s&&s.length){var e=(l?tb()(s,l):s).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||o||ER,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,r,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=SR({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},bg(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,bg(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},PR="recharts-tooltip-wrapper",AR={visibility:"hidden"};function TR(e){var{coordinate:t,translateX:n,translateY:r}=e;return dg(PR,{["".concat(PR,"-right")]:xg(n)&&t&&xg(t.x)&&n>=t.x,["".concat(PR,"-left")]:xg(n)&&t&&xg(t.x)&&n<t.x,["".concat(PR,"-bottom")]:xg(r)&&t&&xg(t.y)&&r>=t.y,["".concat(PR,"-top")]:xg(r)&&t&&xg(t.y)&&r<t.y})}function CR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&xg(i[r]))return i[r];var u=n[r]-o-(a>0?a:0),d=n[r]+a;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(t){IR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class RR extends t.PureComponent{constructor(){super(...arguments),IR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IR(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=CR({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=CR({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):AR,{cssProperties:t,cssClasses:TR({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=y?{}:DR(DR({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=DR(DR({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},i)}}var LR=n(4332),zR=n.n(LR);function FR(e,t,n){return!0===t?zR()(e,n):"function"===typeof t?zR()(e,t):e}var qR,BR,UR,VR,HR,WR,KR,GR,QR,YR,$R,XR,JR,ZR;function eL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}function tL(){}function nL(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function rL(e){this._context=e}function aL(e){this._context=e}function iL(e){this._context=e}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},aL.prototype={areaStart:tL,areaEnd:tL,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class sL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function oL(e){this._context=e}function lL(e){this._context=e}function cL(e){return new lL(e)}function uL(e){return e<0?-1:1}function dL(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(uL(i)+uL(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function hL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fL(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function pL(e){this._context=e}function mL(e){this._context=new gL(e)}function gL(e){this._context=e}function yL(e){this._context=e}function vL(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function xL(e,t){this._context=e,this._t=t}function bL(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}oL.prototype={areaStart:tL,areaEnd:tL,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fL(this,this._t0,hL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fL(this,hL(this,n=dL(this,e,t)),n);break;default:fL(this,this._t0,n=dL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(mL.prototype=Object.create(pL.prototype)).point=function(e,t){pL.prototype.point.call(this,t,e)},gL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},yL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=vL(e),a=vL(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const wL=Math.PI,jL=2*wL,_L=1e-6,kL=jL-_L;function SL(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class NL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?SL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return SL;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(qR||(qR=bL(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(BR||(BR=bL(["Z"]))))}lineTo(e,t){this._append(UR||(UR=bL(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(VR||(VR=bL(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,i){this._append(HR||(HR=bL(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+i)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,s=this._y1,o=n-e,l=r-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append(WR||(WR=bL(["M",",",""])),this._x1=e,this._y1=t);else if(d>_L)if(Math.abs(u*o-l*c)>_L&&a){let h=n-i,f=r-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((wL-Math.acos((p+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>_L&&this._append(GR||(GR=bL(["L",",",""])),e+x*c,t+x*u),this._append(QR||(QR=bL(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append(KR||(KR=bL(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^i,d=i?r-a:a-r;null===this._x1?this._append(YR||(YR=bL(["M",",",""])),l,c):(Math.abs(this._x1-l)>_L||Math.abs(this._y1-c)>_L)&&this._append($R||($R=bL(["L",",",""])),l,c),n&&(d<0&&(d=d%jL+jL),d>kL?this._append(XR||(XR=bL(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-s,t-o,n,n,u,this._x1=l,this._y1=c):d>_L&&this._append(JR||(JR=bL(["A",",",",0,",",",",",",",""])),n,n,+(d>=wL),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(ZR||(ZR=bL(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function EL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new NL(t)}function OL(e){return e[0]}function PL(e){return e[1]}function AL(e,t){var n=sb(!0),r=null,a=cL,i=null,s=EL(o);function o(o){var l,c,u,d=(o=ib(o)).length,h=!1;for(null==r&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?OL:sb(e),t="function"===typeof t?t:void 0===t?PL:sb(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:sb(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:sb(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:sb(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o}function TL(e,t,n){var r=null,a=sb(!0),i=null,s=cL,o=null,l=EL(c);function c(c){var u,d,h,f,p,m=(c=ib(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return AL().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?OL:sb(+e),t="function"===typeof t?t:sb(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?PL:sb(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:sb(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:sb(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:sb(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:sb(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:sb(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:sb(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:sb(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function CL(){return CL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CL.apply(null,arguments)}function ML(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ML(Object(n),!0).forEach(function(t){IL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RL={curveBasisClosed:function(e){return new aL(e)},curveBasisOpen:function(e){return new iL(e)},curveBasis:function(e){return new rL(e)},curveBumpX:function(e){return new sL(e,!0)},curveBumpY:function(e){return new sL(e,!1)},curveLinearClosed:function(e){return new oL(e)},curveLinear:cL,curveMonotoneX:function(e){return new pL(e)},curveMonotoneY:function(e){return new mL(e)},curveNatural:function(e){return new yL(e)},curveStep:function(e){return new xL(e,.5)},curveStepAfter:function(e){return new xL(e,1)},curveStepBefore:function(e){return new xL(e,0)}},LL=e=>zg(e.x)&&zg(e.y),zL=e=>null!=e.base&&LL(e.base)&&LL(e),FL=e=>e.x,qL=e=>e.y,BL=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Og(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?RL[n]||cL:RL["".concat(n).concat("vertical"===t?"Y":"X")]})(t,a),o=i?n.filter(LL):n;if(Array.isArray(r)){var l=n.map((e,t)=>DL(DL({},e),{},{base:r[t]}));return("vertical"===a?TL().y(qL).x1(FL).x0(e=>e.base.x):TL().x(FL).y1(qL).y0(e=>e.base.y)).defined(zL).curve(s)(i?l.filter(zL):l)}return("vertical"===a&&xg(r)?TL().y(qL).x1(FL).x0(r):xg(r)?TL().x(FL).y1(qL).y0(r):AL().x(FL).y(qL)).defined(LL).curve(s)(o)},UL=e=>{var{className:n,points:r,path:a,pathRef:i}=e;if((!r||!r.length)&&!a)return null;var s=r&&r.length?BL(e):a;return t.createElement("path",CL({},XC(e),yI(e),{className:dg("recharts-curve",n),d:null===s?void 0:s,ref:i}))},VL=["x","y","top","left","width","height","className"];function HL(){return HL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HL.apply(null,arguments)}function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GL=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),QL=e=>{var{x:n=0,y:r=0,top:a=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,VL),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(t){KL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:i,width:s,height:o},c);return xg(n)&&xg(r)&&xg(s)&&xg(o)&&xg(a)&&xg(i)?t.createElement("path",HL({},ZC(u),{className:dg("recharts-cross",l),d:GL(n,r,s,o,a,i)})):null};function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(t){XL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JL=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),ZL=(e,t)=>Object.keys(t).reduce((n,r)=>$L($L({},n),{},{[r]:e(r,t[r])}),{});function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(t){nz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rz=(e,t,n)=>e+(t-e)*n,az=e=>{var{from:t,to:n}=e;return t!==n},iz=(e,t,n)=>{var r=ZL((t,n)=>{if(az(n)){var[r,a]=e(n.from,n.to,n.velocity);return tz(tz({},n),{},{from:r,velocity:a})}return n},t);return n<1?ZL((e,t)=>az(t)?tz(tz({},t),{},{velocity:rz(t.velocity,r[e].velocity,n),from:rz(t.from,r[e].from,n)}):t,t):iz(e,r,n-1)};function sz(e,t,n,r,a,i){var s,o=r.reduce((n,r)=>tz(tz({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=iz(n,o,u),a(tz(tz(tz({},e),t),ZL((e,t)=>t.from,o))),s=r,Object.values(o).filter(az).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const oz=(e,t,n,r,a,i)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(a(tz(tz({},e),t)),()=>{}):!0===n.isStepper?sz(e,t,n,l,a,i):function(e,t,n,r,a,i,s){var o,l=null,c=a.reduce((n,r)=>tz(tz({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{o||(o=a);var d=(a-o)/r,h=ZL((e,t)=>rz(...t,n(d)),c);if(i(tz(tz(tz({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=ZL((e,t)=>rz(...t,n(1)),c);i(tz(tz(tz({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,a,i)};var lz=1e-4,cz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uz=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),dz=(e,t)=>n=>{var r=cz(e,t);return uz(r,n)},hz=(e,t,n,r)=>{var a,i,s=dz(e,n),o=dz(t,r),l=(a=e,i=n,e=>{var t=[...cz(a,i).map((e,t)=>e*t).slice(1),0];return uz(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=s(n)-t,i=l(n);if(Math.abs(a-t)<lz||i<lz)return o(n);n=c(n-a/i)}return o(n)};return u.isStepper=!1,u},fz=function(){return hz(...function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r,a=t[0].split("(");if("cubic-bezier"===a[0]&&4===(null===(r=a[1])||void 0===r?void 0:r.split(")")[0].split(",").length)){var i=a[1].split(")")[0].split(",").map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},pz=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fz(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,i)=>{var s=i+(-(e-a)*t-i*n)*r/1e3,o=i*r/1e3+e;return Math.abs(o-a)<lz&&Math.abs(s)<lz?[a,0]:[o,s]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return fz(e)}return"function"===typeof e?e:null};class mz{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=i=>{i-n>=t?e(i):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{null!=r&&cancelAnimationFrame(r)}}}function gz(){return function(e){var t=()=>null,n=!1,r=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,[o,...l]=s;return"number"===typeof o?void(r=e.setTimeout(a.bind(null,l),o)):(a(o),void(r=e.setTimeout(a.bind(null,l))))}"string"===typeof i&&t(i),"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new mz)}var yz=(0,t.createContext)(gz);var vz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xz={t:0},bz={t:1};function wz(e){var n=YM(e,vz),{isActive:r,canBegin:a,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=function(e,n){var r=(0,t.useContext)(yz);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}(n.animationId,n.animationManager),[h,f]=(0,t.useState)(r?xz:bz),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(bz)},[r]),(0,t.useEffect)(()=>{if(!r||!a)return Ag;var e=oz(xz,bz,pz(s),i,f,d.getTimeoutController());return d.start([c,o,()=>{p.current=e()},i,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,a,i,s,o,c,l,d]),u(h.t)}function jz(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(jg(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=jg(n),a.current=e),r.current}var _z=["radius"],kz=["radius"];function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sz(Object(n),!0).forEach(function(t){Ez(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ez(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(){return Oz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oz.apply(null,arguments)}function Pz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Az=(e,t,n,r,a)=>{var i,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),i+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},Tz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cz=e=>{var n=YM(e,Tz),r=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(hH){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n,y=(0,t.useRef)(l),v=(0,t.useRef)(c),x=(0,t.useRef)(s),b=(0,t.useRef)(o),w=jz((0,t.useMemo)(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var j=dg("recharts-rectangle",d);if(!g){var _=ZC(n),{radius:k}=_,S=Pz(_,_z);return t.createElement("path",Oz({},S,{radius:"number"===typeof u?u:void 0,className:j,d:Az(s,o,l,c,u)}))}var N=y.current,E=v.current,O=x.current,P=b.current,A="0px ".concat(-1===a?1:a,"px"),T="".concat(a,"px 0px"),C=JL(["strokeDasharray"],f,"string"===typeof h?h:Tz.animationEasing);return t.createElement(wz,{animationId:w,key:w,canBegin:a>0,duration:f,easing:h,isActive:g,begin:p},e=>{var a,i=Sg(N,l,e),d=Sg(E,c,e),h=Sg(O,s,e),f=Sg(P,o,e);r.current&&(y.current=i,v.current=d,x.current=h,b.current=f),a=m?e>0?{transition:C,strokeDasharray:T}:{strokeDasharray:A}:{strokeDasharray:T};var p=ZC(n),{radius:g}=p,w=Pz(p,kz);return t.createElement("path",Oz({},w,{radius:"number"===typeof u?u:void 0,className:j,d:Az(h,f,i,d,u),ref:r,style:Nz(Nz({},a),n.style)}))})};function Mz(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e;return{points:[$N(t,n,r,a),$N(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function Dz(){return Dz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dz.apply(null,arguments)}var Iz=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/QN,d=l?a:a+i*u,h=l?a-i*u:a;return{center:$N(t,n,c,d),circleTangency:$N(t,n,r,d),lineTangency:$N(t,n,c*Math.cos(u*QN),h),theta:u}},Rz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:s}=e,o=((e,t)=>gg(t-e)*Math.min(Math.abs(t-e),359.999))(i,s),l=i+o,c=$N(t,n,a,i),u=$N(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=$N(t,n,r,i),f=$N(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Lz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zz=e=>{var n=YM(e,Lz),{cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(s<i||u===d)return null;var f,p=dg("recharts-sector",h),m=s-i,g=_g(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=gg(c-l),{circleTangency:d,lineTangency:h,theta:f}=Iz({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=Iz({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):Rz({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=Iz({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:j,lineTangency:_,theta:k}=Iz({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-w-k;if(S<0&&0===i)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(_.x,",").concat(_.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Rz({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",Dz({},ZC(n),{className:p,d:f}))};function Fz(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(gI(t)){if("centric"===e){var{cx:r,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,l=$N(r,a,i,o),c=$N(r,a,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Mz(t)}}function qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qz(Object(n),!0).forEach(function(t){Uz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vz=()=>{var e=Zx(yO),t=Zx(DA),n=Zx(TA);return Nb(e&&n?Bz(Bz({},e),{},{scale:n}):void 0,t)};function Hz(){return Hz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hz.apply(null,arguments)}function Wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wz(Object(n),!0).forEach(function(t){Gz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qz(e){var{cursor:n,cursorComp:r,cursorProps:a}=e;return(0,t.isValidElement)(n)?(0,t.cloneElement)(n,a):(0,t.createElement)(r,a)}function Yz(e){var n,r,a,i,{coordinate:s,payload:o,index:l,offset:c,tooltipAxisBandSize:u,layout:d,cursor:h,tooltipEventType:f,chartName:p}=e,m=s,g=o,y=l;if(!h||!m||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)r=m,a=QL,i=tE.cursorLine;else if("BarChart"===p)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,m,c,u),a=Cz,i=tE.cursorRectangle;else if("radial"===d&&gI(m)){var{cx:v,cy:x,radius:b,startAngle:w,endAngle:j}=Mz(m);r={cx:v,cy:x,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},a=zz,i=tE.cursorLine}else r={points:Fz(d,m,c)},a=UL,i=tE.cursorLine;var _="object"===typeof h&&"className"in h?h.className:void 0,k=Kz(Kz(Kz(Kz({stroke:"#ccc",pointerEvents:"none"},c),r),JC(h)),{},{payload:g,payloadIndex:y,className:dg("recharts-tooltip-cursor",_)});return t.createElement(JD,{zIndex:null!==(n=e.zIndex)&&void 0!==n?n:i},t.createElement(Qz,{cursor:h,cursorComp:a,cursorProps:k}))}function $z(e){var n=Vz(),r=$b(),a=ew(),i=Zx(BN);return null==n||null==r||null==a||null==i?null:t.createElement(Yz,Hz({},e,{offset:r,layout:a,tooltipAxisBandSize:n,chartName:i}))}function Xz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xz(Object(n),!0).forEach(function(t){Zz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e){return e.dataKey}var tF=[],nF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!PC,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rF(e){var n,r,a=YM(e,nF),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:m,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:x,trigger:b,defaultIndex:w,portal:j,axisId:_}=a,k=Yx(),S="number"===typeof w?String(w):w;(0,t.useEffect)(()=>{k(gx({shared:x,trigger:b,axisId:_,active:i,defaultIndex:S}))},[k,x,b,_,i,S]);var N=Qb(),E=WC(),O=function(e){return Zx(t=>qP(t,e))}(x),{activeIndex:P,isActive:A}=null!==(n=Zx(e=>cT(e,O,b,S)))&&void 0!==n?n:{},T=Zx(e=>lT(e,O,b,S)),C=Zx(e=>oT(e,O,b,S)),M=Zx(e=>sT(e,O,b,S)),D=T,I=(0,t.useContext)(EM),R=null!==(r=null!==i&&void 0!==i?i:A)&&void 0!==r&&r,[L,z]=eL([D,R]),F="axis"===O?C:void 0;NM(O,b,M,F,P,R);var q=null!==j&&void 0!==j?j:I;if(null==q||null==N||null==O)return null;var B=null!==D&&void 0!==D?D:tF;R||(B=tF),u&&B.length&&(B=FR(B.filter(e=>null!=e.value&&(!0!==e.hide||a.includeHidden)),f,eF));var U=B.length>0,V=t.createElement(RR,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:R,coordinate:M,hasPayload:U,offset:h,position:p,reverseDirection:m,useTranslate3d:g,viewBox:N,wrapperStyle:y,lastBoundingBox:L,innerRef:z,hasPortalFromProps:Boolean(j)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(OR,n)}(c,Jz(Jz({},a),{},{payload:B,label:F,active:R,activeIndex:P,coordinate:M,accessibilityLayer:E})));return t.createElement(t.Fragment,null,(0,XD.createPortal)(V,q),R&&t.createElement($z,{cursor:v,tooltipEventType:O,coordinate:M,payload:B,index:P}))}Math.abs,Math.atan2;const aF=Math.cos,iF=(Math.max,Math.min,Math.sin),sF=Math.sqrt,oF=Math.PI,lF=2*oF;const cF={draw(e,t){const n=sF(t/oF);e.moveTo(n,0),e.arc(0,0,n,0,lF)}},uF={draw(e,t){const n=sF(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},dF=sF(1/3),hF=2*dF,fF={draw(e,t){const n=sF(t/hF),r=n*dF;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},pF={draw(e,t){const n=sF(t),r=-n/2;e.rect(r,r,n,n)}},mF=iF(oF/10)/iF(7*oF/10),gF=iF(lF/10)*mF,yF=-aF(lF/10)*mF,vF={draw(e,t){const n=sF(.8908130915292852*t),r=gF*n,a=yF*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=lF*i/5,s=aF(t),o=iF(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*a,o*r+s*a)}e.closePath()}},xF=sF(3),bF={draw(e,t){const n=-sF(t/(3*xF));e.moveTo(0,2*n),e.lineTo(-xF*n,-n),e.lineTo(xF*n,-n),e.closePath()}},wF=-.5,jF=sF(3)/2,_F=1/sF(12),kF=3*(_F/2+1),SF={draw(e,t){const n=sF(t/kF),r=n/2,a=n*_F,i=r,s=n*_F+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(wF*r-jF*a,jF*r+wF*a),e.lineTo(wF*i-jF*s,jF*i+wF*s),e.lineTo(wF*o-jF*l,jF*o+wF*l),e.lineTo(wF*r+jF*a,wF*a-jF*r),e.lineTo(wF*i+jF*s,wF*s-jF*i),e.lineTo(wF*o+jF*l,wF*l-jF*o),e.closePath()}};sF(3),sF(3);var NF=["type","size","sizeType"];function EF(){return EF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EF.apply(null,arguments)}function OF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OF(Object(n),!0).forEach(function(t){AF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TF={symbolCircle:cF,symbolCross:uF,symbolDiamond:fF,symbolSquare:pF,symbolStar:vF,symbolTriangle:bF,symbolWye:SF},CF=Math.PI/180,MF=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,NF),s=PF(PF({},i),{},{type:n,size:r,sizeType:a}),o="circle";"string"===typeof n&&(o=n);var{className:l,cx:c,cy:u}=s,d=ZC(s);return xg(c)&&xg(u)&&xg(r)?t.createElement("path",EF({},d,{className:dg("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Og(e));return TF[t]||cF})(o),t=function(e,t){let n=null,r=EL(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:sb(e||cF),t="function"===typeof t?t:sb(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:sb(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:sb(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*CF;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,o)),n=t();if(null!==n)return n})()})):null};function DF(){return DF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DF.apply(null,arguments)}function IF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}MF.registerSymbol=(e,t)=>{TF["symbol".concat(Og(e))]=t};var LF=32,zF={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function FF(e){var n,{data:r,iconType:a,inactiveColor:i}=e,s=16,o=LF/6,l=LF/3,c=r.inactive?i:r.color,u=null!==a&&void 0!==a?a:r.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(n=r.payload)||void 0===n?void 0:n.strokeDasharray,x1:0,y1:s,x2:LF,y2:s,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,"\n            H").concat(LF,"M").concat(2*l,",").concat(s,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(LF,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(r.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IF(Object(n),!0).forEach(function(t){RF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);return delete d.legendIcon,t.cloneElement(r.legendIcon,d)}return t.createElement(MF,{fill:c,cx:s,cy:s,size:LF,sizeType:"diameter",type:u})}function qF(e){var{payload:n,iconSize:r,layout:a,formatter:i,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:LF,height:LF},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((n,a)=>{var d=n.formatter||i,h=dg({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:n.inactive});if("none"===n.type)return null;var f=n.inactive?s:n.color,p=d?d(n.value,n,a):n.value;return t.createElement("li",DF({className:h,style:c,key:"legend-item-".concat(a)},vI(e,n,a)),t.createElement(rM,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(p," legend icon")},t.createElement(FF,{data:n,iconType:o,inactiveColor:s})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var BF=e=>{var n=YM(e,zF),{payload:r,layout:a,align:i}=n;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===a?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},t.createElement(qF,DF({},n,{payload:r})))};var UF=["contextPayload"];function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VF.apply(null,arguments)}function HF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HF(Object(n),!0).forEach(function(t){KF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GF(e){return e.value}function QF(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,UF),a=FR(n,e.payloadUniqBy,GF),i=WF(WF({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(BF,i)}function YF(e){var n=Yx();return(0,t.useEffect)(()=>{n(XT(e))},[n,e]),null}function $F(e){var n=Yx();return(0,t.useEffect)(()=>(n($T(e)),()=>{n($T({width:0,height:0}))}),[n,e]),null}var XF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function JF(e){var n=YM(e,XF),r=Zx(rb),a=(0,t.useContext)(OM),i=Zx(e=>e.layout.margin),{width:s,height:o,wrapperStyle:l,portal:c}=n,[u,d]=eL([r]),h=Xb(),f=Jb();if(null==h||null==f)return null;var p=h-((null===i||void 0===i?void 0:i.left)||0)-((null===i||void 0===i?void 0:i.right)||0),m=function(e,t,n,r){return"vertical"===e&&xg(t)?{height:t}:"horizontal"===e?{width:n||r}:null}(n.layout,o,s,p),g=c?l:WF(WF({position:"absolute",width:(null===m||void 0===m?void 0:m.width)||s||"auto",height:(null===m||void 0===m?void 0:m.height)||o||"auto"},function(e,t,n,r,a,i){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),WF(WF({},s),o)}(l,n,i,h,f,u)),l),y=null!==c&&void 0!==c?c:a;if(null==y||null==r)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},t.createElement(YF,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),t.createElement($F,{width:u.width,height:u.height}),t.createElement(QF,VF({},n,m,{margin:i,chartWidth:h,chartHeight:f,contextPayload:r})));return(0,XD.createPortal)(v,y)}JF.displayName="Legend";var ZF=n(356),eq=n.n(ZF),tq=["valueAccessor"],nq=["dataKey","clockWise","id","textBreakAll","zIndex"];function rq(){return rq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rq.apply(null,arguments)}function aq(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var iq=e=>Array.isArray(e.value)?eq()(e.value):e.value,sq=(0,t.createContext)(void 0),oq=sq.Provider,lq=(0,t.createContext)(void 0),cq=lq.Provider;function uq(e){var{valueAccessor:n=iq}=e,r=aq(e,tq),{dataKey:a,clockWise:i,id:s,textBreakAll:o,zIndex:l}=r,c=aq(r,nq),u=(0,t.useContext)(sq),d=(0,t.useContext)(lq),h=u||d;return h&&h.length?t.createElement(JD,{zIndex:null!==l&&void 0!==l?l:tE.label},t.createElement(_D,{className:"recharts-label-list"},h.map((e,i)=>{var l,u=Eg(a)?n(e,i):pb(e&&e.payload,a),d=Eg(s)?{}:{id:"".concat(s,"-").concat(i)};return t.createElement(fI,rq({key:"label-".concat(i)},ZC(e),c,d,{fill:null!==(l=r.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function dq(e){var{label:n}=e;return n?!0===n?t.createElement(uq,{key:"labelList-implicit"}):t.isValidElement(n)||cI(n)?t.createElement(uq,{key:"labelList-implicit",content:n}):"object"===typeof n?t.createElement(uq,rq({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}function hq(){return hq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hq.apply(null,arguments)}uq.displayName="LabelList";var fq=e=>{var{cx:n,cy:r,r:a,className:i}=e,s=dg("recharts-dot",i);return xg(n)&&xg(r)&&xg(a)?t.createElement("circle",hq({},XC(e),yI(e),{className:s,cx:n,cy:r,r:a})):null},pq=n(528),mq=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",gq=null,yq=null,vq=e=>{if(e===gq&&Array.isArray(yq))return yq;var n=[];return t.Children.forEach(e,e=>{Eg(e)||((0,pq.zv)(e)?n=n.concat(vq(e.props.children)):n.push(e))}),yq=n,gq=e,n};function xq(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>mq(e)):[mq(t)],vq(e).forEach(e=>{var t=mg()(e,"type.displayName")||mg()(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)}),n}var bq=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),wq=["points"];function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jq(Object(n),!0).forEach(function(t){kq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(){return Sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sq.apply(null,arguments)}function Nq(e){var{option:n,dotProps:r,className:a}=e;if((0,t.isValidElement)(n))return(0,t.cloneElement)(n,r);if("function"===typeof n)return n(r);var i=dg(a,"boolean"!==typeof n?n.className:""),s=null!==r&&void 0!==r?r:{},{points:o}=s,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(s,wq);return t.createElement(fq,Sq({},l,{className:i}))}function Eq(e){var{points:n,dot:r,className:a,dotClassName:i,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=tE.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,r))return null;var d,h=bq(r),f=null==(d=r)?null:(0,t.isValidElement)(d)?ZC(d.props):"object"!==typeof d||Array.isArray(d)?null:ZC(d),p=n.map((e,a)=>{var l,c,u=_q(_q(_q({r:3},o),f),{},{index:a,cx:null!==(l=e.x)&&void 0!==l?l:void 0,cy:null!==(c=e.y)&&void 0!==c?c:void 0,dataKey:s,value:e.value,payload:e.payload,points:n});return t.createElement(Nq,{key:"dot-".concat(a),option:r,dotProps:u,className:i})}),m={};return l&&null!=c&&(m.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),t.createElement(JD,{zIndex:u},t.createElement(_D,Sq({className:a},m),p))}function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oq(Object(n),!0).forEach(function(t){Aq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Aq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tq=e=>{var{point:n,childIndex:r,mainColor:a,activeDot:i,dataKey:s}=e;if(!1===i||null==n.x||null==n.y)return null;var o,l=Pq(Pq(Pq({},{index:r,dataKey:s,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value}),JC(i)),yI(i));return o=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(fq,l),t.createElement(_D,{className:"recharts-active-dot"},o)};function Cq(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:i,zIndex:s=tE.activeDot}=e,o=Zx(FA),l=Zx(GA);if(null==n||null==l)return null;var c=n.find(e=>l.includes(e.payload));return Eg(c)?null:t.createElement(JD,{zIndex:s},t.createElement(Tq,{point:c,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:a}))}function Mq(e){var{fn:n,args:r}=e,a=Yx(),i=Hb();return(0,t.useLayoutEffect)(()=>{if(!i){var e=n(r);return a(px(e)),()=>{a(mx(e))}}},[n,r,a,i]),null}var Dq=["children"];var Iq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rq=(0,t.createContext)(Iq);function Lq(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Dq);return t.createElement(Rq.Provider,{value:r},n)}function zq(e,t){var n,r,a=Zx(t=>HE(t,e)),i=Zx(e=>GE(e,t)),s=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:UE.allowDataOverflow,o=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:WE.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function Fq(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,i=UM(),{needClipX:s,needClipY:o,needClip:l}=zq(n,r);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}var qq=(e,t,n,r)=>DP(e,"xAxis",t,r),Bq=(e,t,n,r)=>MP(e,"xAxis",t,r),Uq=(e,t,n,r)=>DP(e,"yAxis",n,r),Vq=(e,t,n,r)=>MP(e,"yAxis",n,r),Hq=Hx([Zb,qq,Uq,Bq,Vq],(e,t,n,r,a)=>mb(e,"xAxis")?Nb(t,r,!1):Nb(n,a,!1));function Wq(e){return"line"===e.type}var Kq=Hx([eO,(e,t,n,r,a)=>a],(e,t)=>e.filter(Wq).find(e=>e.id===t)),Gq=Hx([Zb,qq,Uq,Bq,Vq,Kq,Hq,pN],(e,t,n,r,a,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=i&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=s){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=pb(e,s);if("horizontal"===t)return{x:wb({axis:n,ticks:a,bandSize:o,entry:e,index:l}),y:Eg(c)?null:r.scale(c),value:c,payload:e};var u=Eg(c)?null:n.scale(c),d=wb({axis:r,ticks:i,bandSize:o,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:h,bandSize:s,displayedData:d})}});function Qq(e){var{legendPayload:n}=e,r=Yx(),a=Hb();return(0,t.useLayoutEffect)(()=>a?Ag:(r(JT(n)),()=>{r(ZT(n))}),[r,a,n]),null}function Yq(e){var{legendPayload:n}=e,r=Yx(),a=Zx(Zb);return(0,t.useLayoutEffect)(()=>"centric"!==a&&"radial"!==a?Ag:(r(JT(n)),()=>{r(ZT(n))}),[r,a,n]),null}var $q=(0,t.createContext)(void 0),Xq=e=>{var{id:n,type:r,children:a}=e,i=iM("recharts-".concat(r),n);return t.createElement($q.Provider,{value:i},a(i))};function Jq(e){var n=Yx(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===r.current?n(TT(e)):r.current!==e&&n(CT({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useLayoutEffect)(()=>()=>{r.current&&(n(MT(r.current)),r.current=null)},[n]),null}function Zq(e){var n=Yx();return(0,t.useLayoutEffect)(()=>(n(DT(e)),()=>{n(IT(e))}),[n,e]),null}var eB=n(9397),tB=n.n(eB);function nB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nB(Object(n),!0).forEach(function(t){aB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iB.apply(null,arguments)}var sB=(e,t,n,r,a)=>{var i,s=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+a),i+="L ".concat(e+n-s/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},oB={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lB=e=>{var n=YM(e,oB),{x:r,y:a,upperWidth:i,lowerWidth:s,height:o,className:l}=n,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=n,f=(0,t.useRef)(null),[p,m]=(0,t.useState)(-1),g=(0,t.useRef)(i),y=(0,t.useRef)(s),v=(0,t.useRef)(o),x=(0,t.useRef)(r),b=(0,t.useRef)(a),w=jz(e,"trapezoid-");if((0,t.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch(hH){}},[]),r!==+r||a!==+a||i!==+i||s!==+s||o!==+o||0===i&&0===s||0===o)return null;var j=dg("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",iB({},ZC(n),{className:j,d:sB(r,a,i,s,o)})));var _=g.current,k=y.current,S=v.current,N=x.current,E=b.current,O="0px ".concat(-1===p?1:p,"px"),P="".concat(p,"px 0px"),A=JL(["strokeDasharray"],u,c);return t.createElement(wz,{animationId:w,key:w,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=Sg(_,i,e),c=Sg(k,s,e),u=Sg(S,o,e),d=Sg(N,r,e),h=Sg(E,a,e);f.current&&(g.current=l,y.current=c,v.current=u,x.current=d,b.current=h);var p=e>0?{transition:A,strokeDasharray:P}:{strokeDasharray:O};return t.createElement("path",iB({},ZC(n),{className:j,d:sB(d,h,l,c,u),ref:f,style:rB(rB({},p),n.style)}))})},cB=["option","shapeType","propTransformer","activeClassName","isActive"];function uB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uB(Object(n),!0).forEach(function(t){hB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e,t){return dB(dB({},t),e)}function pB(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(Cz,r);case"trapezoid":return t.createElement(lB,r);case"sector":return t.createElement(zz,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(MF,r);break;case"curve":return t.createElement(UL,r);default:return null}}function mB(e){var n,{option:r,shapeType:a,propTransformer:i=fB,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,cB);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,dB(dB({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(tB()(r)&&"boolean"!==typeof r){var c=i(r,l);n=t.createElement(pB,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement(pB,{shapeType:a,elementProps:u})}return o?t.createElement(_D,{className:s},n):n}var gB=["id"],yB=["type","layout","connectNulls","needClip","shape"],vB=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xB(){return xB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xB.apply(null,arguments)}function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(t){jB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var kB=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Ob(n,t),payload:e}]};function SB(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ob(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var NB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function EB(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}function OB(e){var{clipPathId:n,points:r,props:a}=e,{dot:i,dataKey:s,needClip:o}=a,{id:l}=a,c=XC(_B(a,gB));return t.createElement(Eq,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:o,clipPathId:n})}function PB(e){var{showLabels:n,children:r,points:a}=e,i=(0,t.useMemo)(()=>null===a||void 0===a?void 0:a.map(e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wB(wB({},r),{},{value:e.value,payload:e.payload,viewBox:r,parentViewBox:void 0,fill:void 0})}),[a]);return t.createElement(oq,{value:n?i:void 0},r)}function AB(e){var{clipPathId:n,pathRef:r,points:a,strokeDasharray:i,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,h=wB(wB({},ZC(_B(s,yB))),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(n,")"):void 0,points:a,type:o,layout:l,connectNulls:c,strokeDasharray:null!==i&&void 0!==i?i:s.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(mB,xB({shapeType:"curve",option:d},h,{pathRef:r})),t.createElement(OB,{points:a,clipPathId:n,props:s}))}function TB(e){var{clipPathId:n,props:r,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=i.current,x=jz(r,"recharts-line-"),[b,w]=(0,t.useState)(!1),j=!b,_=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),k=(0,t.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(hH){return 0}}(a.current),N=s.current;return t.createElement(PB,{points:o,showLabels:j},r.children,t.createElement(wz,{animationId:x,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:k,key:x},e=>{var u,d=Sg(N,S+N,e),h=Math.min(d,S);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));u=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return NB(t,e);for(var a=Math.floor(e/r),i=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){o=[...n.slice(0,l),i-c];break}var u=o.length%2===0?[0,s]:[s];return[...EB(n,a),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(h,S,g)}else u=NB(S,h);else u=null==l?void 0:String(l);if(v){var y=v.length/o.length,x=1===e?o:o.map((t,n)=>{var r=Math.floor(n*y);if(v[r]){var a=v[r];return wB(wB({},t),{},{x:Sg(a.x,t.x,e),y:Sg(a.y,t.y,e)})}return wB(wB({},t),{},f?{x:Sg(2*p,t.x,e),y:Sg(m/2,t.y,e)}:{x:t.x,y:t.y})});return i.current=x,t.createElement(AB,{props:r,points:x,clipPathId:n,pathRef:a,strokeDasharray:u})}return e>0&&S>0&&(i.current=o,s.current=h),t.createElement(AB,{props:r,points:o,clipPathId:n,pathRef:a,strokeDasharray:u})}),t.createElement(dq,{label:r.label}))}function CB(e){var{clipPathId:n,props:r}=e,a=(0,t.useRef)(null),i=(0,t.useRef)(0),s=(0,t.useRef)(null);return t.createElement(TB,{props:r,clipPathId:n,previousPointsRef:a,longestAnimatedLengthRef:i,pathRef:s})}var MB=(e,t)=>{var n,r;return{x:null!==(n=e.x)&&void 0!==n?n:void 0,y:null!==(r=e.y)&&void 0!==r?r:void 0,value:e.value,errorVal:pb(e.payload,t)}};class DB extends t.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:i,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h,zIndex:f}=this.props;if(e)return null;var p=dg("recharts-line",a),m=d,{r:g,strokeWidth:y}=function(e){var t=JC(e);if(null!=t){var{r:n,strokeWidth:r}=t,a=Number(n),i=Number(r);return(Number.isNaN(a)||a<0)&&(a=3),(Number.isNaN(i)||i<0)&&(i=2),{r:a,strokeWidth:i}}return{r:3,strokeWidth:2}}(n),v=bq(n),x=2*g+y;return t.createElement(JD,{zIndex:f},t.createElement(_D,{className:p},h&&t.createElement("defs",null,t.createElement(Fq,{clipPathId:m,xAxisId:i,yAxisId:s}),!v&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:l-x/2,y:o-x/2,width:c+x,height:u+x}))),t.createElement(Lq,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:MB,errorBarOffset:0},t.createElement(CB,{props:this.props,clipPathId:m}))),t.createElement(Cq,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var IB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!PC,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tE.line};function RB(e){var n=YM(e,IB),{activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,y=_B(n,vB),{needClip:v}=zq(p,m),x=UM(),b=ew(),w=Hb(),j=Zx(e=>Gq(e,p,m,w,g));if("horizontal"!==b&&"vertical"!==b||null==j||null==x)return null;var{height:_,width:k,x:S,y:N}=x;return t.createElement(DB,xB({},y,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:j,layout:b,height:_,width:k,left:S,top:N,needClip:v}))}function LB(e){var n=YM(e,IB),r=Hb();return t.createElement(Xq,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(Qq,{legendPayload:kB(n)}),t.createElement(Mq,{fn:SB,args:n}),t.createElement(Jq,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(RB,xB({},n,{id:e}))))}var zB=t.memo(LB);zB.displayName="Line";var FB=["axis","item"],qB=(0,t.forwardRef)((e,n)=>t.createElement(JM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FB,tooltipPayloadSearcher:Xv,categoricalChartProps:e,ref:n})),BB=e=>null;BB.displayName="Cell";var UB="Invariant failed";var VB=["x","y"];function HB(){return HB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HB.apply(null,arguments)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(t){GB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e,t){var{x:n,y:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,VB),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return KB(KB(KB(KB(KB({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function YB(e){return t.createElement(mB,HB({shapeType:"rectangle",propTransformer:QB,activeClassName:"recharts-active-bar"},e))}var $B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(xg(e))return e;var a=xg(n)||Eg(n);return a?e(n,r):(a||function(e){if(!e)throw new Error(UB)}(!1),t)}},XB=(e,t)=>{var n=Yx();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(yx({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},JB=e=>{var t=Yx();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(vx())}},ZB=(e,t)=>{var n=Yx();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(bx({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){nU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rU=Hx([eO,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),aU=Hx([rU],e=>null===e||void 0===e?void 0:e.maxBarSize),iU=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Eg(r))return _g(r,t,0)},sU=Hx([Zb,eO,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),oU=Hx([sU,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Zb(e)?NP(e,"xAxis",t):NP(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(ME),a=e.filter(e=>null==e.stackId),i=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(i).map(e=>{var[r,a]=e;return{stackId:r,dataKeys:a.map(e=>e.dataKey),barSize:iU(t,n,a[0].barSize)}});return[...s,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:iU(t,n,e.barSize)}))]}),lU=(e,t,n,r)=>{var a,i;return"horizontal"===Zb(e)?(a=DP(e,"xAxis",t,r),i=MP(e,"xAxis",t,r)):(a=DP(e,"yAxis",n,r),i=MP(e,"yAxis",n,r)),Nb(a,i)};var cU=Hx([oU,zN,e=>e.rootProps.barGap,FN,(e,t,n,r,a)=>{var i,s,o=rU(e,t,n,r,a);if(null!=o){var l,c,u=Zb(e),d=zN(e),{maxBarSize:h}=o,f=Eg(h)?d:h;return"horizontal"===u?(l=DP(e,"xAxis",t,r),c=MP(e,"xAxis",t,r)):(l=DP(e,"yAxis",n,r),c=MP(e,"yAxis",n,r)),null!==(i=null!==(s=Nb(l,c,!0))&&void 0!==s?s:f)&&void 0!==i?i:0}},lU,aU],(e,t,n,r,a,i,s)=>{var o=Eg(s)?t:s,l=function(e,t,n,r,a){var i=r.length;if(!(i<1)){var s,o=_g(e,n,0,!0),l=[];if(zg(r[0].barSize)){var c=!1,u=n/i,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*o)>=n&&(d-=(i-1)*o,o=0),d>=n&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=_g(t,n,0,!0);n-2*f-(i-1)*o<=0&&(o=0);var p=(n-2*f-(i-1)*o)/i;p>1&&(p>>=0);var m=zg(a)?Math.min(p,a):p;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*n+(p-m)/2,size:m}}],l)}return s}}(n,r,a!==i?a:i,e,o);return a!==i&&null!=l&&(l=l.map(e=>tU(tU({},e),{},{position:tU(tU({},e.position),{},{offset:e.position.offset-a/2})}))),l}),uU=Hx([cU,rU],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),dU=Hx([(e,t,n,r)=>"horizontal"===Zb(e)?wO(e,"yAxis",n,r):wO(e,"xAxis",t,r),rU],(e,t)=>{var n=TE(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(e=>e.key===n)}}}}),hU=Hx([qb,Ub,(e,t,n,r)=>DP(e,"xAxis",t,r),(e,t,n,r)=>DP(e,"yAxis",n,r),(e,t,n,r)=>MP(e,"xAxis",t,r),(e,t,n,r)=>MP(e,"yAxis",n,r),uU,Zb,pN,lU,dU,rU,(e,t,n,r,a,i)=>i],(e,t,n,r,a,i,s,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=n&&null!=r&&null!=a&&null!=i&&null!=c){var g,{data:y}=d;if(null!=(g=null!=y&&y.length>0?y:null===f||void 0===f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:m}=e,g="horizontal"===t?o:s,y=u?g.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]})({numericAxis:g}),x=g.scale(v);return d.map((e,d)=>{var g,b,w,j,_,k;u?g=((e,t)=>{if(!t||2!==t.length||!xg(t[0])||!xg(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!xg(e[0])||e[0]<n)&&(a[0]=n),(!xg(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a})(u[d+m],y):(g=pb(e,n),Array.isArray(g)||(g=[v,g]));var S=$B(r,TU)(g[1],d);if("horizontal"===t){var N,[E,O]=[o.scale(g[0]),o.scale(g[1])];b=jb({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),w=null!==(N=null!==O&&void 0!==O?O:E)&&void 0!==N?N:void 0,j=a.size;var P=E-O;if(_=yg(P)?0:P,k={x:b,y:h.top,width:j,height:h.height},Math.abs(S)>0&&Math.abs(_)<Math.abs(S)){var A=gg(_||S)*(Math.abs(S)-Math.abs(_));w-=A,_+=A}}else{var[T,C]=[s.scale(g[0]),s.scale(g[1])];if(b=T,w=jb({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),j=C-T,_=a.size,k={x:h.left,y:w,width:h.width,height:_},Math.abs(S)>0&&Math.abs(j)<Math.abs(S))j+=gg(j||S)*(Math.abs(S)-Math.abs(j))}return null==b||null==w||null==j||null==_?null:xU(xU({},e),{},{stackedBarStart:x,x:b,y:w,width:j,height:_,value:u?g:g[1],payload:e,background:k,tooltipPosition:{x:b+j/2,y:w+_/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:g,offset:e,cells:h,dataStartIndex:p})}});var fU=["onMouseEnter","onMouseLeave","onClick"],pU=["value","background","tooltipPosition"],mU=["id"],gU=["onMouseEnter","onClick","onMouseLeave"];function yU(){return yU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yU.apply(null,arguments)}function vU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vU(Object(n),!0).forEach(function(t){bU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wU(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var jU=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Ob(n,t),payload:e}]};function _U(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Ob(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function kU(e){var n=Zx(FA),{data:r,dataKey:a,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=wU(s,fU),d=XB(o,a),h=JB(l),f=ZB(c,a);if(!i||null==r)return null;var p,m,g=JC(i);return t.createElement(JD,{zIndex:(p=i,m=tE.barBackground,p&&"object"===typeof p&&"zIndex"in p&&"number"===typeof p.zIndex&&zg(p.zIndex)?p.zIndex:m)},r.map((e,r)=>{var{value:s,background:o,tooltipPosition:l}=e,c=wU(e,pU);if(!o)return null;var p=d(e,r),m=h(e,r),y=f(e,r),v=xU(xU(xU(xU(xU({option:i,isActive:String(r)===n},c),{},{fill:"#eee"},o),g),vI(u,e,r)),{},{onMouseEnter:p,onMouseLeave:m,onClick:y,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(YB,yU({key:"background-bar-".concat(r)},v))}))}function SU(e){var{showLabels:n,children:r,rects:a}=e,i=null===a||void 0===a?void 0:a.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return xU(xU({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(oq,{value:n?i:void 0},r)}function NU(e){var{shape:n,activeBar:r,baseProps:a,entry:i,index:s,dataKey:o}=e,l=Zx(FA),c=Zx(BA),u=r&&String(s)===l&&(null==c||o===c),d=u?r:n;return u?t.createElement(JD,{zIndex:tE.activeBar},t.createElement(YB,yU({},a,{name:String(a.name)},i,{isActive:u,option:d,index:s,dataKey:o}))):t.createElement(YB,yU({},a,{name:String(a.name)},i,{isActive:u,option:d,index:s,dataKey:o}))}function EU(e){var{shape:n,baseProps:r,entry:a,index:i,dataKey:s}=e;return t.createElement(YB,yU({},r,{name:String(r.name)},a,{isActive:!1,option:n,index:i,dataKey:s}))}function OU(e){var n,{data:r,props:a}=e,i=null!==(n=XC(a))&&void 0!==n?n:{},{id:s}=i,o=wU(i,mU),{shape:l,dataKey:c,activeBar:u}=a,{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=wU(a,gU),m=XB(d,c),g=JB(f),y=ZB(h,c);return r?t.createElement(t.Fragment,null,r.map((e,n)=>t.createElement(_D,yU({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n),className:"recharts-bar-rectangle"},vI(p,e,n),{onMouseEnter:m(e,n),onMouseLeave:g(e,n),onClick:y(e,n)}),u?t.createElement(NU,{shape:l,activeBar:u,baseProps:o,entry:e,index:n,dataKey:c}):t.createElement(EU,{shape:l,baseProps:o,entry:e,index:n,dataKey:c})))):null}function PU(e){var{props:n,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=jz(n,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=!p,y=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(SU,{showLabels:g,rects:a},t.createElement(wz,{animationId:f,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:v,key:f},e=>{var s=1===e?a:null===a||void 0===a?void 0:a.map((t,n)=>{var r=h&&h[n];if(r)return xU(xU({},t),{},{x:Sg(r.x,t.x,e),y:Sg(r.y,t.y,e),width:Sg(r.width,t.width,e),height:Sg(r.height,t.height,e)});if("horizontal"===i){var a=Sg(0,t.height,e),s=Sg(t.stackedBarStart,t.y,e);return xU(xU({},t),{},{y:s,height:a})}var o=Sg(0,t.width,e),l=Sg(t.stackedBarStart,t.x,e);return xU(xU({},t),{},{width:o,x:l})});return e>0&&(r.current=null!==s&&void 0!==s?s:null),null==s?null:t.createElement(_D,null,t.createElement(OU,{props:n,data:s}))}),t.createElement(dq,{label:n.label}),n.children)}function AU(e){var n=(0,t.useRef)(null);return t.createElement(PU,{previousRectanglesRef:n,props:e})}var TU=0,CU=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:pb(e,t)}};class MU extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||null==n)return null;var u=dg("recharts-bar",a),d=c;return t.createElement(_D,{className:u,id:c},o&&t.createElement("defs",null,t.createElement(Fq,{clipPathId:d,xAxisId:i,yAxisId:s})),t.createElement(_D,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},t.createElement(kU,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(AU,this.props)))}}var DU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!PC,legendType:"rect",minPointSize:TU,xAxisId:0,yAxisId:0,zIndex:tE.bar};function IU(e){var n,{xAxisId:r,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=zq(r,a),p=ew(),m=Hb(),g=xq(e.children,BB),y=Zx(t=>hU(t,r,a,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var v=null===y||void 0===y?void 0:y[0];return n=null==v||null==v.height||null==v.width?0:"vertical"===p?v.height/2:v.width/2,t.createElement(Lq,{xAxisId:r,yAxisId:a,data:y,dataPointFormatter:CU,errorBarOffset:n},t.createElement(MU,yU({},e,{layout:p,needClip:f,data:y,xAxisId:r,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function RU(e){var n=YM(e,DU),r=Hb();return t.createElement(Xq,{id:n.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(Qq,{legendPayload:jU(n)}),t.createElement(Mq,{fn:_U,args:n}),t.createElement(Jq,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:(a=n.stackId,null==a?void 0:String(a)),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(JD,{zIndex:n.zIndex},t.createElement(IU,yU({},n,{id:e}))));var a})}var LU=t.memo(RU);function zU(e){var n=Yx();return(0,t.useEffect)(()=>{n(hC(e))},[n,e]),null}LU.displayName="Bar";var FU=["layout"];function qU(){return qU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qU.apply(null,arguments)}var BU={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},UU=(0,t.forwardRef)(function(e,n){var r,a=YM(e.categoricalChartProps,BU),{layout:i}=a,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,FU),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(BC,{preloadedState:{options:d},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:o},t.createElement(UC,{chartData:a.data}),t.createElement(VC,{layout:i,margin:a.margin}),t.createElement(HC,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(zU,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(KM,qU({},s,{ref:n})))}),VU=["item"],HU={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},WU=(0,t.forwardRef)((e,n)=>{var r=YM(e,HU);return t.createElement(UU,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:VU,tooltipPayloadSearcher:Xv,categoricalChartProps:r,ref:n})}),KU=e=>e.graphicalItems.polarItems,GU=Hx([PE,AE],ZE),QU=Hx([KU,$E,GU],nO),YU=Hx([QU],oO),$U=Hx([YU,fN],cO),XU=Hx([$U,$E,QU],dO),JU=(Hx([$U,$E,QU],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:pb(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:pb(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),ZU=Hx([$U,$E,QU,OO,PE],AO),eV=Hx([$E,SO,NO,JU,ZU,JU,Zb,PE],GO),tV=Hx([$E,Zb,$U,XU,qN,PE,eV],$O),nV=Hx([tV,$E,ZO],tP);Hx([$E,tV,nV,PE],rP);function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(t){iV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sV=Hx([KU,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),oV=[],lV=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?oV:n,cV=Hx([fN,sV,lV],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>aV(aV({},t.presentationProps),e.props))),null!=r))return r}),uV=Hx([cV,sV,lV],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,i,s=pb(e,t.nameKey,t.name);return i=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Ob(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),dV=Hx([cV,sV,lV,qb],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=_V(c,u),g=Math.abs(m),y=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==pb(e,d,0)).length,x=g-v*p-(g>=360?v:v-1)*y,b=i.reduce((e,t)=>{var n=pb(t,d,0);return e+(xg(n)?n:0)},0);b>0&&(n=i.map((e,t)=>{var n,i=pb(e,d,0),u=pb(e,h,t),g=jV(a,o,e),v=(xg(i)?i:0)/b,w=yV(yV({},e),s&&s[t]&&s[t].props),j=(n=t?r.endAngle+gg(m)*y*(0!==i?1:0):c)+gg(m)*((0!==i?p:0)+v*x),_=(n+j)/2,k=(g.innerRadius+g.outerRadius)/2,S=[{name:u,value:i,payload:w,dataKey:d,type:f}],N=$N(g.cx,g.cy,k,_);return r=yV(yV(yV(yV({},a.presentationProps),{},{percent:v,cornerRadius:"string"===typeof l?parseFloat(l):l,name:u,tooltipPayload:S,midAngle:_,middleRadius:k,tooltipPosition:N},w),g),{},{value:i,startAngle:n,endAngle:j,payload:w,paddingAngle:gg(m)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),hV=["onMouseEnter","onClick","onMouseLeave"],fV=["id"],pV=["id"];function mV(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gV(Object(n),!0).forEach(function(t){vV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(){return xV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xV.apply(null,arguments)}function bV(e){var n=(0,t.useMemo)(()=>xq(e.children,BB),[e.children]),r=Zx(t=>uV(t,e.id,n));return null==r?null:t.createElement(Yq,{legendPayload:r})}function wV(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:n,name:Ob(o,t),hide:l,type:c,color:s,unit:""}}}var jV=(e,t,n)=>{var{top:r,left:a,width:i,height:s}=t,o=XN(i,s),l=a+_g(e.cx,i,i/2),c=r+_g(e.cy,s,s/2),u=_g(e.innerRadius,o,0),d=((e,t,n)=>_g("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}},_V=(e,t)=>gg(t-e)*Math.min(Math.abs(t-e),360);function kV(e){var{sectors:n,props:r,showLabels:a}=e,{label:i,labelLine:s,dataKey:o}=r;if(!a||!i||!n)return null;var l=XC(r),c=JC(i),u=JC(s),d="object"===typeof i&&"offsetRadius"in i&&"number"===typeof i.offsetRadius&&i.offsetRadius||20,h=n.map((e,n)=>{var r,a,h=(e.startAngle+e.endAngle)/2,f=$N(e.cx,e.cy,e.outerRadius+d,h),p=yV(yV(yV(yV({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:(r=f.x,a=e.cx,r>a?"start":r<a?"end":"middle")},f),m=yV(yV(yV(yV({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[$N(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return t.createElement(JD,{zIndex:tE.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},t.createElement(_D,null,s&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=dg("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(UL,xV({},n,{type:"linear",className:r}))})(s,m),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var i,s=dg("recharts-pie-label-text",(i=e)&&"object"===typeof i&&"className"in i&&"string"===typeof i.className?i.className:"");return t.createElement($D,xV({},n,{alignmentBaseline:"middle",className:s}),a)})(i,p,pb(e,o))))});return t.createElement(_D,{className:"recharts-pie-labels"},h)}function SV(e){var{sectors:n,props:r,showLabels:a}=e,{label:i}=r;return"object"===typeof i&&null!=i&&"position"in i?t.createElement(dq,{label:i}):t.createElement(kV,{sectors:n,props:r,showLabels:a})}function NV(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:i}=e,s=Zx(FA),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=mV(i,hV),d=XB(o,i.dataKey),h=JB(c),f=ZB(l,i.dataKey);return null==n||0===n.length?null:t.createElement(t.Fragment,null,n.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(o)===s,c=l?r:s?a:null,p=yV(yV({},e),{},{stroke:e.stroke,tabIndex:-1,[Ib]:o,[Rb]:i.dataKey});return t.createElement(_D,xV({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o),tabIndex:-1,className:"recharts-pie-sector"},vI(u,e,o),{onMouseEnter:d(e,o),onMouseLeave:h(e,o),onClick:f(e,o)}),t.createElement(mB,xV({option:c,isActive:l,shapeType:"sector"},p)))}))}function EV(e){var{showLabels:n,sectors:r,children:a}=e,i=(0,t.useMemo)(()=>n&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,n]);return t.createElement(cq,{value:n?i:void 0},a)}function OV(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=jz(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!1),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(EV,{showLabels:!m,sectors:a},t.createElement(wz,{animationId:f,begin:s,duration:o,isActive:i,easing:l,onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var i=[],s=a&&a[0],o=null===s||void 0===s?void 0:s.startAngle;return null===a||void 0===a||a.forEach((t,n)=>{var r=p&&p[n],a=n>0?mg()(t,"paddingAngle",0):0;if(r){var s=Sg(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=yV(yV({},t),{},{startAngle:o+a,endAngle:o+s+a});i.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=Sg(0,c-u,e),h=yV(yV({},t),{},{startAngle:o+a,endAngle:o+d+a});i.push(h),o=h.endAngle}}),r.current=i,t.createElement(_D,null,t.createElement(NV,{sectors:i,activeShape:c,inactiveShape:u,allOtherPieProps:n}))}),t.createElement(SV,{showLabels:!m,sectors:a,props:n}),n.children)}var PV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!PC,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tE.area};function AV(e){var{id:n}=e,r=mV(e,fV),{hide:a,className:i,rootTabIndex:s}=e,o=(0,t.useMemo)(()=>xq(e.children,BB),[e.children]),l=Zx(e=>dV(e,n,o)),c=(0,t.useRef)(null),u=dg("recharts-pie",i);return a||null==l?(c.current=null,t.createElement(_D,{tabIndex:s,className:u})):t.createElement(JD,{zIndex:e.zIndex},t.createElement(Mq,{fn:wV,args:yV(yV({},e),{},{sectors:l})}),t.createElement(_D,{tabIndex:s,className:u},t.createElement(OV,{props:yV(yV({},r),{},{sectors:l}),previousSectorsRef:c})))}function TV(e){var n=YM(e,PV),{id:r}=n,a=mV(n,pV),i=XC(a);return t.createElement(Xq,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(Zq,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:i,maxRadius:n.maxRadius}),t.createElement(bV,xV({},a,{id:e})),t.createElement(AV,xV({},a,{id:e}))))}TV.displayName="Pie";const CV=e=>{let{compact:n=!1}=e;const r=ui(),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{l()},[]);const l=async()=>{if(null===r||void 0===r||!r.institution_id)return console.error("[SmartSuggestions] No institution_id in session"),void o(!1);o(!0);try{const e=await(async e=>{try{console.log("[generateSmartSuggestions] Generating suggestions for institution:",e);const t=[],n=await ym(e);if(n&&n.length>0){const e=n[0];t.push({priority:1,title:'"'.concat(e.concept_name,'" needs attention'),description:"".concat(e.student_count," students below 50% mastery"),action:"Assign targeted practice quiz",expected_impact:"+20% mastery in 1 week",action_type:"create_practice",concept_name:e.concept_name})}const r=await km(e);if(r&&r.length>0){const e=r.reduce((e,t)=>e+t.count,0);t.push({priority:2,title:"Review overdue for ".concat(r.length," students"),description:"".concat(e," concepts need review"),action:"Send reminder notifications",expected_impact:"Improve retention by 30%",action_type:"send_reminder",students:r.slice(0,3)})}const a=await Sm(e);if(a&&a.length>1){const e=a[a.length-1],n=a[0],r=n.avg_score-e.avg_score;r>15&&t.push({priority:3,title:"".concat(e.class_name," lagging behind"),description:"".concat(r,"% below ").concat(n.class_name),action:"Review teaching approach or provide extra support",expected_impact:"Close performance gap",action_type:"review_class",class_id:e.class_id,class_name:e.class_name})}const i=await Nm(e);if(i&&i.length>0){const e=i[i.length-1];e.avg_accuracy<70&&t.push({priority:4,title:"Students struggling with ".concat(e.question_type," questions"),description:"Only ".concat(e.avg_accuracy,"% accuracy"),action:"Provide training on this question type",expected_impact:"+15% accuracy",action_type:"training",question_type:e.question_type})}return t.sort((e,t)=>e.priority-t.priority),t}catch(t){return console.error("[generateSmartSuggestions] Error:",t),[]}})(r.institution_id);i(e)}catch(e){console.error("[SmartSuggestions] Error loading suggestions:",e)}finally{o(!1)}},c=e=>{switch(e){case"struggling_concepts":return(0,hl.jsx)(Qf,{className:"w-5 h-5 text-red-500"});case"overdue_reviews":return(0,hl.jsx)($f,{className:"w-5 h-5 text-orange-500"});case"class_gap":return(0,hl.jsx)(lm,{className:"w-5 h-5 text-yellow-500"});case"question_type":return(0,hl.jsx)(Im,{className:"w-5 h-5 text-blue-500"});default:return(0,hl.jsx)(bp,{className:"w-5 h-5 text-gray-500"})}},u=e=>{switch(e){case 1:return"High Priority";case 2:return"Medium Priority";case 3:return"Low Priority";default:return"Suggestion"}},d=e=>{switch(e){case 1:return"bg-red-100 text-red-800";case 2:return"bg-orange-100 text-orange-800";case 3:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return s?(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,hl.jsx)("div",{className:"h-24 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-24 bg-gray-200 rounded"})]})}):0===a.length?(0,hl.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)(Jf,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),(0,hl.jsx)("h3",{className:"text-lg font-bold text-green-900 mb-1",children:"All Good!"}),(0,hl.jsx)("p",{className:"text-sm text-green-700",children:"No immediate actions needed. Keep up the great work!"})]})}):(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,hl.jsx)(bp,{className:"w-6 h-6 text-yellow-500"}),"Smart Suggestions"]}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered recommendations based on student data"})]}),(0,hl.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4"}),"Refresh"]})]}),(0,hl.jsxs)("div",{className:"space-y-3",children:[a.slice(0,n?3:void 0).map((e,t)=>{const n=(e=>{switch(e){case"struggling_concepts":return"red";case"overdue_reviews":return"orange";case"class_gap":return"yellow";case"question_type":return"blue";default:return"gray"}})(e.type);return(0,hl.jsxs)("div",{className:"border-l-4 border-".concat(n,"-500 bg-").concat(n,"-50 rounded-lg p-4 hover:bg-").concat(n,"-100 transition-colors"),children:[(0,hl.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,hl.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[c(e.type),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,hl.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded ".concat(d(e.priority)),children:u(e.priority)})}),(0,hl.jsx)("p",{className:"font-semibold text-gray-900",children:e.message})]})]})}),(0,hl.jsx)("div",{className:"ml-8 mb-2",children:(0,hl.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,hl.jsx)("span",{className:"font-medium",children:"Action:"})," ",e.action]})}),(0,hl.jsx)("div",{className:"ml-8 mb-3",children:(0,hl.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,hl.jsx)(Yf,{className:"w-4 h-4 text-green-600"}),(0,hl.jsxs)("span",{className:"text-gray-600",children:[(0,hl.jsx)("span",{className:"font-medium",children:"Expected Impact:"})," ",e.impact]})]})}),e.data&&Object.keys(e.data).length>0&&(0,hl.jsxs)("div",{className:"ml-8 bg-white bg-opacity-50 rounded p-2",children:[(0,hl.jsx)("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Details:"}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:["struggling_concepts"===e.type&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Concept:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.concept_name})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Avg Mastery:"})," ",(0,hl.jsxs)("span",{className:"font-medium",children:[e.data.avg_mastery,"%"]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Students Affected:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.student_count})]})]}),"overdue_reviews"===e.type&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Students with Overdue:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.student_count})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Total Overdue Reviews:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.total_overdue})]})]}),"class_gap"===e.type&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Top Class:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.top_class})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Bottom Class:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.bottom_class})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Score Gap:"})," ",(0,hl.jsxs)("span",{className:"font-medium",children:[e.data.gap,"%"]})]})]}),"question_type"===e.type&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Question Type:"})," ",(0,hl.jsx)("span",{className:"font-medium",children:e.data.question_type})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("span",{className:"text-gray-600",children:"Accuracy:"})," ",(0,hl.jsxs)("span",{className:"font-medium",children:[e.data.accuracy,"%"]})]})]})]})]}),(0,hl.jsx)("div",{className:"ml-8 mt-3",children:(0,hl.jsx)("button",{className:"text-xs px-3 py-2 bg-".concat(n,"-600 text-white rounded-lg hover:bg-").concat(n,"-700 transition-colors font-medium"),children:"Take Action"})})]},t)}),n&&a.length>3&&(0,hl.jsxs)("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-semibold py-2",children:["View all ",a.length," suggestions \u2192"]})]})]})},MV=Bf("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),DV=()=>{const e=ui(),[n,r]=(0,t.useState)({health_score:0,distribution:{struggling:0,improving:0,mastered:0},review_adherence:0,overdue_count:0}),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{l()},[]);const l=async()=>{if(null===e||void 0===e||!e.institution_id)return console.error("[SRSDashboard] No institution_id in session"),void o(!1);o(!0);try{const[t,n]=await Promise.all([_m(e.institution_id),km(e.institution_id)]);r(t),i(n)}catch(t){console.error("[SRSDashboard] Error loading SRS data:",t)}finally{o(!1)}},c=[{name:"Struggling (<40%)",value:n.distribution.struggling,color:"#FF4B4B"},{name:"Improving (40-70%)",value:n.distribution.improving,color:"#FFC800"},{name:"Mastered (>70%)",value:n.distribution.mastered,color:"#58CC02"}].filter(e=>e.value>0),u=e=>e>=70?"text-green-600":e>=40?"text-yellow-600":"text-red-600";if(s)return(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,hl.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,hl.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})});const d=n.distribution.struggling+n.distribution.improving+n.distribution.mastered;return 0===d?(0,hl.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200 p-6",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)(MV,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),(0,hl.jsx)("h3",{className:"text-lg font-bold text-purple-900 mb-1",children:"No SRS Data Yet"}),(0,hl.jsx)("p",{className:"text-sm text-purple-700",children:"Students need to practice concepts to see SRS analytics"})]})}):(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,hl.jsx)(MV,{className:"w-6 h-6 text-purple-600"}),"SRS Analytics"]}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Spaced Repetition System effectiveness"})]}),(0,hl.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4"}),"Refresh"]})]}),(0,hl.jsx)("div",{className:"".concat((h=n.health_score,h>=70?"bg-green-100":h>=40?"bg-yellow-100":"bg-red-100")," rounded-lg p-6 mb-6"),children:(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"SRS Health Score"}),(0,hl.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,hl.jsx)("span",{className:"text-5xl font-bold ".concat(u(n.health_score)),children:n.health_score}),(0,hl.jsx)("span",{className:"text-2xl text-gray-500",children:"/100"})]}),(0,hl.jsx)("p",{className:"text-sm font-semibold mt-1 ".concat(u(n.health_score)),children:(e=>e>=70?"Excellent":e>=40?"Needs Attention":"Critical")(n.health_score)})]}),(0,hl.jsx)("div",{className:"text-right",children:n.health_score>=70?(0,hl.jsx)(Jf,{className:"w-16 h-16 text-green-600"}):n.health_score>=40?(0,hl.jsx)(Bm,{className:"w-16 h-16 text-yellow-600"}):(0,hl.jsx)(Bm,{className:"w-16 h-16 text-red-600"})})]})}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,hl.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Concepts"}),(0,hl.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:d})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Review Adherence"}),(0,hl.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[n.review_adherence,"%"]})]}),(0,hl.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue Reviews"}),(0,hl.jsx)("p",{className:"text-3xl font-bold text-red-600",children:n.overdue_count})]})]}),(0,hl.jsxs)("div",{className:"mb-6",children:[(0,hl.jsxs)("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(Yf,{className:"w-5 h-5 text-blue-600"}),"Concept Distribution"]}),c.length>0?(0,hl.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,hl.jsx)("div",{className:"w-full md:w-1/2",children:(0,hl.jsx)(Qg,{width:"100%",height:250,children:(0,hl.jsxs)(WU,{children:[(0,hl.jsx)(TV,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((e,t)=>(0,hl.jsx)(BB,{fill:e.color},"cell-".concat(t)))}),(0,hl.jsx)(rF,{})]})})}),(0,hl.jsxs)("div",{className:"w-full md:w-1/2 space-y-3",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-500"}),(0,hl.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Struggling (<40%)"})]}),(0,hl.jsx)("span",{className:"text-xl font-bold text-red-600",children:n.distribution.struggling})]}),(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),(0,hl.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Improving (40-70%)"})]}),(0,hl.jsx)("span",{className:"text-xl font-bold text-yellow-600",children:n.distribution.improving})]}),(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500"}),(0,hl.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mastered (>70%)"})]}),(0,hl.jsx)("span",{className:"text-xl font-bold text-green-600",children:n.distribution.mastered})]})]})]}):(0,hl.jsx)("p",{className:"text-sm text-gray-500 text-center py-8",children:"No distribution data available"})]}),a.length>0&&(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,hl.jsx)(qp,{className:"w-5 h-5 text-orange-600"}),"Students with Overdue Reviews"]}),(0,hl.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,hl.jsx)("div",{className:"space-y-2",children:a.slice(0,5).map((e,t)=>(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg hover:bg-orange-100 transition-colors cursor-pointer",children:[(0,hl.jsx)("span",{className:"font-medium text-gray-900",children:e.student_name}),(0,hl.jsxs)("span",{className:"text-sm font-semibold text-orange-600",children:[e.overdue_count," overdue ",1===e.overdue_count?"review":"reviews"]})]},t))}),a.length>5&&(0,hl.jsxs)("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-800 font-semibold py-2 mt-2",children:["View all ",a.length," students \u2192"]}),(0,hl.jsx)("div",{className:"mt-4 pt-4 border-t border-orange-200",children:(0,hl.jsx)("button",{className:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Send Review Reminders to All"})})]})]})]});var h},IV=()=>{var e;const n=ui(),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)("30");(0,t.useEffect)(()=>{x()},[y]);const x=async()=>{if(null===n||void 0===n||!n.institution_id)return console.error("[Analytics] No institution_id in session"),void g(!1);g(!0);try{console.log("[Analytics] Loading analytics data...");const[e,t,r,i,o,c]=await Promise.all([gm(n.institution_id,parseInt(y)),ym(n.institution_id),vm(n.institution_id),Sm(n.institution_id),Nm(n.institution_id),Em(n.institution_id)]);a(e),s(t),l(r),u(i),h(o),p(c),console.log("[Analytics] Data loaded successfully")}catch(e){console.error("[Analytics] Error loading data:",e)}finally{g(!1)}},b="#58CC02",w="#1CB0F6",j="#FF4B4B",_=[b,j],k=e=>{let{active:t,payload:n}=e;return t&&n&&n.length?(0,hl.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:n[0].payload.date}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Avg Score: ",n[0].value,"%"]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Quizzes: ",n[0].payload.quiz_count]})]}):null},S=e=>{let{active:t,payload:n}=e;return t&&n&&n.length?(0,hl.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:n[0].payload.concept_name}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Avg Mastery: ",n[0].value,"%"]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Students: ",n[0].payload.student_count]})]}):null},N=e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,hl.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.class_name}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Avg Score: ",n[0].value,"%"]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Students: ",e.student_count]}),void 0!==e.delta&&(0,hl.jsxs)("p",{className:"text-sm font-medium ".concat(e.delta>=0?"text-green-600":"text-red-600"),children:["Week-over-week: ",e.delta>=0?"+":"",e.delta,"%"]})]})}return null},E=e=>{let{active:t,payload:n}=e;return t&&n&&n.length?(0,hl.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:n[0].payload.question_type}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Accuracy: ",n[0].value,"%"]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Total: ",n[0].payload.total_questions]}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Correct: ",n[0].payload.correct_answers]})]}):null};return m?(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsx)("div",{className:"flex justify-between items-center",children:(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"})}),(0,hl.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3].map(e=>(0,hl.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,hl.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,hl.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,hl.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})},e))})]}):(0,hl.jsxs)("div",{className:"space-y-6",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-start",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,hl.jsx)("p",{className:"text-gray-600 mt-1",children:"Institution-wide performance insights"})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(zp,{className:"w-5 h-5 text-gray-500"}),(0,hl.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"7",children:"Last 7 Days"}),(0,hl.jsx)("option",{value:"30",children:"Last 30 Days"}),(0,hl.jsx)("option",{value:"90",children:"Last 90 Days"})]})]}),(0,hl.jsxs)("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,hl.jsx)(Wm,{compact:!1}),(0,hl.jsx)(CV,{compact:!1})]}),(0,hl.jsx)(DV,{}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(Hp,{className:"w-5 h-5 text-green-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Score Trends"})]}),0===r.length?(0,hl.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"font-semibold",children:"No quiz data available"}),(0,hl.jsx)("p",{className:"text-sm mt-1",children:"Students need to take quizzes to see trends"})]})}):(0,hl.jsx)(Qg,{width:"100%",height:300,children:(0,hl.jsxs)(eD,{data:r,children:[(0,hl.jsx)(JI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,hl.jsx)(uR,{dataKey:"date",stroke:"#6B7280",style:{fontSize:"12px"}}),(0,hl.jsx)(jR,{stroke:"#6B7280",style:{fontSize:"12px"},domain:[0,100]}),(0,hl.jsx)(rF,{content:(0,hl.jsx)(k,{})}),(0,hl.jsx)(JF,{}),(0,hl.jsx)(zB,{type:"monotone",dataKey:"avg_score",name:"Average Score (%)",stroke:b,strokeWidth:3,dot:{fill:b,r:4},activeDot:{r:6}})]})})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(Hp,{className:"w-5 h-5 text-red-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Weak Concepts (Top 10)"})]}),0===i.length?(0,hl.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"font-semibold",children:"No concept data available"}),(0,hl.jsx)("p",{className:"text-sm mt-1",children:"Students need to practice concepts"})]})}):(0,hl.jsx)(Qg,{width:"100%",height:300,children:(0,hl.jsxs)(qB,{data:i,layout:"vertical",children:[(0,hl.jsx)(JI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,hl.jsx)(uR,{type:"number",stroke:"#6B7280",style:{fontSize:"12px"},domain:[0,100]}),(0,hl.jsx)(jR,{type:"category",dataKey:"concept_name",stroke:"#6B7280",style:{fontSize:"10px"},width:120}),(0,hl.jsx)(rF,{content:(0,hl.jsx)(S,{})}),(0,hl.jsx)(JF,{}),(0,hl.jsx)(LU,{dataKey:"avg_mastery",name:"Avg Mastery (%)",fill:j,radius:[0,4,4,0]})]})})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(lm,{className:"w-5 h-5 text-blue-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Student Engagement"})]}),o.every(e=>0===e.value)?(0,hl.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"font-semibold",children:"No students enrolled"}),(0,hl.jsx)("p",{className:"text-sm mt-1",children:"Add students to see engagement"})]})}):(0,hl.jsxs)("div",{className:"flex flex-col items-center",children:[(0,hl.jsx)(Qg,{width:"100%",height:250,children:(0,hl.jsxs)(WU,{children:[(0,hl.jsx)(TV,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((e,t)=>(0,hl.jsx)(BB,{fill:_[t%_.length]},"cell-".concat(t)))}),(0,hl.jsx)(rF,{})]})}),(0,hl.jsx)("div",{className:"grid grid-cols-2 gap-4 w-full mt-4",children:o.map((e,t)=>(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,hl.jsx)("div",{className:"w-3 h-3 rounded-full mx-auto mb-2",style:{backgroundColor:_[t]}}),(0,hl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,hl.jsx)("p",{className:"text-xs text-gray-600",children:e.name})]},t))})]})]})]}),c.length>0&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(lm,{className:"w-5 h-5 text-purple-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Class Performance Comparison"})]}),(0,hl.jsx)(Qg,{width:"100%",height:300,children:(0,hl.jsxs)(qB,{data:c,children:[(0,hl.jsx)(JI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,hl.jsx)(uR,{dataKey:"class_name",stroke:"#6B7280",style:{fontSize:"12px"}}),(0,hl.jsx)(jR,{stroke:"#6B7280",style:{fontSize:"12px"},domain:[0,100]}),(0,hl.jsx)(rF,{content:(0,hl.jsx)(N,{})}),(0,hl.jsx)(JF,{}),(0,hl.jsx)(LU,{dataKey:"avg_score",name:"Average Score (%)",fill:w,radius:[4,4,0,0]})]})})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(Qf,{className:"w-5 h-5 text-blue-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Question Type Performance"})]}),0===d.length?(0,hl.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"font-semibold",children:"No question type data available"}),(0,hl.jsx)("p",{className:"text-sm mt-1",children:"Students need to answer questions"})]})}):(0,hl.jsx)(Qg,{width:"100%",height:300,children:(0,hl.jsxs)(qB,{data:d,layout:"vertical",children:[(0,hl.jsx)(JI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,hl.jsx)(uR,{type:"number",stroke:"#6B7280",style:{fontSize:"12px"},domain:[0,100]}),(0,hl.jsx)(jR,{type:"category",dataKey:"question_type",stroke:"#6B7280",style:{fontSize:"12px"},width:100}),(0,hl.jsx)(rF,{content:(0,hl.jsx)(E,{})}),(0,hl.jsx)(JF,{}),(0,hl.jsx)(LU,{dataKey:"accuracy",name:"Accuracy (%)",fill:w,radius:[0,4,4,0]})]})})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(mp,{className:"w-5 h-5 text-yellow-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Top Streaks"})]}),0===f.length?(0,hl.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("p",{className:"font-semibold",children:"No streak data available"}),(0,hl.jsx)("p",{className:"text-sm mt-1",children:"Students need to build streaks"})]})}):(0,hl.jsx)("div",{className:"space-y-2",children:f.map((e,t)=>(0,hl.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg hover:from-yellow-100 hover:to-orange-100 transition-colors cursor-pointer",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,hl.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full font-bold text-white ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-orange-600":"bg-blue-500"),children:t+1}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("p",{className:"font-semibold text-gray-900",children:e.student_name}),(0,hl.jsxs)("p",{className:"text-xs text-gray-600",children:["Class: ",e.class_name||"N/A"]})]})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)(em,{className:"w-5 h-5 text-orange-500"}),(0,hl.jsx)("span",{className:"text-2xl font-bold text-orange-600",children:e.streak_count})]})]},t))})]})]})]}),(0,hl.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6",children:[(0,hl.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Quick Insights"}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,hl.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Average Score (Last ",y," days)"]}),(0,hl.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((e,t)=>e+t.avg_score,0)/r.length):0,"%"]})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:"Weakest Concept"}),(0,hl.jsx)("p",{className:"text-lg font-bold text-red-600 truncate",children:i.length>0?"".concat(i[0].concept_name," (").concat(i[0].avg_mastery,"%)"):"N/A"})]}),(0,hl.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:"Active Students"}),(0,hl.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:(null===(e=o.find(e=>e.name.includes("Active")))||void 0===e?void 0:e.value)||0})]})]})]})]})},RV=Bf("file-archive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]),LV=Bf("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),zV=Bf("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),FV=Bf("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),qV=Bf("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),BV=Bf("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),UV=Bf("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),VV=Bf("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),HV=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})},WV=e=>{if(!e)return"-";const[t,n]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(n," ").concat(a)},KV=e=>e?"".concat(e.toFixed(1)," MB"):"-",GV=e=>e?e.toLocaleString("en-US"):"0",QV=(e,t)=>{if(!t||!t.trim()||!e)return e;const n=new RegExp("(".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi");return e.replace(n,'<mark class="bg-yellow-300 px-1 rounded">$1</mark>')},YV=()=>{const[e,r]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({search:"",dateFrom:"",dateTo:"",institutionId:"",sessionType:""}),[w,j]=(0,t.useState)(new Set),[_,k]=(0,t.useState)(!1),[S,N]=(0,t.useState)(""),[E,O]=(0,t.useState)(!1),[P,A]=(0,t.useState)(""),[T,C]=(0,t.useState)(!1),[M,D]=(0,t.useState)(null),[I,R]=(0,t.useState)(!1),[L,z]=(0,t.useState)(1),[F,q]=(0,t.useState)(25);(0,t.useEffect)(()=>{B(),U()},[]),(0,t.useEffect)(()=>{U()},[x]),(0,t.useEffect)(()=>{if(_&&S){const e=((e,t)=>{if(!e||!e.trim())return t.map(e=>u(u({},e),{},{matchCount:0,matchSnippets:[]}));const n=e.toLowerCase().trim();return t.map(e=>{const t=(e.transcript||"").toLowerCase(),r=t.split(n).length-1,a=[];if(r>0){const r=t;let i=r.indexOf(n),s=0;for(;-1!==i&&s<3;){const o=Math.max(0,i-50),l=Math.min(t.length,i+n.length+50),c=e.transcript.substring(o,l);a.push(c),i=r.indexOf(n,i+1),s++}}return u(u({},e),{},{matchCount:r,matchSnippets:a})}).filter(e=>e.matchCount>0)})(S,a);o(e)}else o(e)},[_,S,e,a]),(0,t.useEffect)(()=>{if(e.length>0){const t=(e=>{if(!e||0===e.length)return{totalTranscripts:0,totalTokens:0,avgTokens:0,totalChars:0,avgChars:0,avgProcessingTime:0,totalFileSize:0,avgFileSize:0,bySessionType:{personal:0,group:0},byStatus:{completed:0,processing:0,failed:0},costEstimate:0};const t=e.length,n=e.reduce((e,t)=>e+(t.gemini_tokens_used||0),0),r=e.reduce((e,t)=>e+(t.transcript_length||0),0),a=e.reduce((e,t)=>e+(t.file_size_mb||0),0),i=e.filter(e=>e.created_at&&e.processed_at).map(e=>{const t=new Date(e.created_at);return(new Date(e.processed_at)-t)/1e3});return{totalTranscripts:t,totalTokens:n,avgTokens:n/t,totalChars:r,avgChars:r/t,avgProcessingTime:i.length>0?i.reduce((e,t)=>e+t,0)/i.length:0,totalFileSize:a,avgFileSize:a/t,bySessionType:e.reduce((e,t)=>("personal"===t.session_type?e.personal++:"group"===t.session_type&&e.group++,e),{personal:0,group:0}),byStatus:e.reduce((e,t)=>("completed"===t.processing_status?e.completed++:"processing"===t.processing_status?e.processing++:"failed"===t.processing_status&&e.failed++,e),{completed:0,processing:0,failed:0}),costEstimate:n/1e3*.00125}})(e);D(t)}},[e]);const B=async()=>{try{const e=await(async()=>{try{const{data:e,error:t}=await Ca.from("institutions").select("id, name").order("name");if(t)throw console.error("[Transcript Service] Error fetching institutions:",t),t;return console.log("[Transcript Service] Fetched ".concat((null===e||void 0===e?void 0:e.length)||0," institutions")),e||[]}catch(f){throw console.error("[Transcript Service] Error in getInstitutions:",f),f}})();c(e)}catch(f){console.error("Failed to load institutions:",f)}},U=async()=>{try{h(!0),p(null);const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=Ca.from("audio_uploads").select("\n        id,\n        file_name,\n        file_url,\n        file_size_mb,\n        upload_date,\n        class_time,\n        session_type,\n        processing_status,\n        transcript,\n        transcript_filename,\n        transcript_length,\n        gemini_tokens_used,\n        questions_generated,\n        created_at,\n        processed_at,\n        institutions!inner(name),\n        classes!inner(class_name, class_code, subject),\n        students(full_name, username)\n      ").eq("processing_status","completed").not("transcript","is",null).order("upload_date",{ascending:!1}).order("class_time",{ascending:!1});if(e.dateFrom&&(t=t.gte("upload_date",e.dateFrom)),e.dateTo&&(t=t.lte("upload_date",e.dateTo)),e.institutionId&&(t=t.eq("institution_id",e.institutionId)),e.sessionType&&(t=t.eq("session_type",e.sessionType)),e.search&&e.search.trim()){const n="%".concat(e.search.trim(),"%");t=t.or("file_name.ilike.".concat(n,",transcript_filename.ilike.").concat(n))}const{data:n,error:r}=await t;if(r)throw console.error("[Transcript Service] Error fetching transcripts:",r),r;return console.log("[Transcript Service] Fetched ".concat((null===n||void 0===n?void 0:n.length)||0," transcripts")),n||[]}catch(f){throw console.error("[Transcript Service] Error in getTranscripts:",f),f}}(x);r(e),i(e),o(e),j(new Set)}catch(f){console.error("Failed to load transcripts:",f),p("Failed to load transcripts. Please try again.")}finally{h(!1)}},V=(e,t)=>{b(n=>u(u({},n),{},{[e]:t})),z(1)},H=e=>{const t=new Set(w);t.has(e)?t.delete(e):t.add(e),j(t)},W=()=>{try{const t=w.size>0?e.filter(e=>w.has(e.id)):e;if(0===t.length)return void X("No transcripts to export","error");const n=(new Date).toISOString().split("T")[0];!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transcripts.csv";try{const n=["Filename","Date","Time","Session Type","Institution","Class Code","Class Name","Student Name","File Size (MB)","Transcript Length (chars)","Word Count","Gemini Tokens","Questions Generated","Processing Status","Created At","Processed At"],r=e.map(e=>{var t,n,r,a;return[e.transcript_filename||"",HV(e.upload_date),WV(e.class_time),e.session_type||"",(null===(t=e.institutions)||void 0===t?void 0:t.name)||"",(null===(n=e.classes)||void 0===n?void 0:n.class_code)||"",(null===(r=e.classes)||void 0===r?void 0:r.class_name)||"",(null===(a=e.students)||void 0===a?void 0:a.full_name)||"-",e.file_size_mb||0,e.transcript_length||0,e.transcript?e.transcript.split(/\s+/).length:0,e.gemini_tokens_used||0,e.questions_generated||0,e.processing_status||"",new Date(e.created_at).toLocaleString(),e.processed_at?new Date(e.processed_at).toLocaleString():"-"]}),a=[n.join(","),...r.map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n"),i=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(i);s.href=o,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),console.log("[Transcript Service] Exported ".concat(e.length," transcripts to CSV"))}catch(f){throw console.error("[Transcript Service] Error in exportToCSV:",f),f}}(t,"transcripts-metadata-".concat(n,".csv")),X("Exported ".concat(t.length," transcripts to CSV"),"success")}catch(f){console.error("CSV export error:",f),X("Failed to export CSV","error")}},K=(e,t)=>{try{((e,t)=>{try{const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),console.log("[Transcript Service] Downloaded: ".concat(t))}catch(f){throw console.error("[Transcript Service] Error downloading transcript:",f),f}})(e,t),X("Transcript downloaded successfully","success")}catch(f){X("Failed to download transcript","error")}},G=e=>{g(e),O(!1),A(e.transcript)},Q=()=>{E?(O(!1),A(m.transcript)):O(!0)},Y=async e=>{const t=await(async e=>{try{return await navigator.clipboard.writeText(e),console.log("[Transcript Service] Copied to clipboard"),{success:!0}}catch(f){return console.error("[Transcript Service] Error copying to clipboard:",f),{success:!1,error:f}}})(e);t.success?X("Copied to clipboard!","success"):X("Failed to copy","error")},$=async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"?\n\nThis action cannot be undone.')))try{await(async e=>{try{const{error:t}=await Ca.from("audio_uploads").delete().eq("id",e);if(t)throw console.error("[Transcript Service] Error deleting transcript:",t),t;return console.log("[Transcript Service] Deleted transcript: ".concat(e)),{success:!0}}catch(f){throw console.error("[Transcript Service] Error in deleteTranscript:",f),f}})(e),X("Transcript deleted successfully","success"),U()}catch(f){X("Failed to delete transcript","error")}},X=(e,t)=>{v({message:e,type:t}),setTimeout(()=>v(null),3e3)},J=e=>"personal"===e?(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-700",children:"Personal"}):(0,hl.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-cyan-100 text-cyan-700",children:"Group"}),Z=_?s:e,ee=Math.ceil(Z.length/F),te=(L-1)*F,ne=te+F,re=Z.slice(te,ne);return(0,hl.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,hl.jsx)("div",{className:"mb-6",children:(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[(0,hl.jsx)(hm,{className:"w-8 h-8"}),"Transcript Management"]}),(0,hl.jsx)("p",{className:"text-gray-600 mt-2",children:"View, download, and manage all audio transcripts"})]}),(0,hl.jsxs)("button",{onClick:()=>C(!T),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,hl.jsx)(dm,{className:"w-5 h-5"}),T?"Hide Analytics":"Show Analytics"]})]})}),T&&M&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Analytics Dashboard"}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,hl.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Transcripts"}),(0,hl.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:GV(M.totalTranscripts)})]}),(0,hl.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Total Tokens Used"}),(0,hl.jsx)("div",{className:"text-2xl font-bold text-green-900",children:GV(M.totalTokens)}),(0,hl.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["Avg: ",GV(Math.round(M.avgTokens)),"/transcript"]})]}),(0,hl.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-purple-600 mb-1",children:"Total File Size"}),(0,hl.jsxs)("div",{className:"text-2xl font-bold text-purple-900",children:[M.totalFileSize.toFixed(1)," MB"]}),(0,hl.jsxs)("div",{className:"text-xs text-purple-600 mt-1",children:["Avg: ",M.avgFileSize.toFixed(1)," MB/file"]})]}),(0,hl.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-orange-600 mb-1",children:"Avg Processing Time"}),(0,hl.jsxs)("div",{className:"text-2xl font-bold text-orange-900",children:[M.avgProcessingTime.toFixed(1),"s"]})]})]}),(0,hl.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,hl.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"By Session Type"}),(0,hl.jsxs)("div",{className:"space-y-2",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Personal Sessions"}),(0,hl.jsx)("span",{className:"font-bold text-purple-600",children:M.bySessionType.personal})]}),(0,hl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Group Sessions"}),(0,hl.jsx)("span",{className:"font-bold text-cyan-600",children:M.bySessionType.group})]})]})]}),(0,hl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,hl.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Cost Estimate"}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Estimated cost if Gemini Pro wasn't free:"}),(0,hl.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["$",M.costEstimate.toFixed(2)]}),(0,hl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"(Currently FREE - Gemini 2.5 Pro)"})]})]})]}),(0,hl.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,hl.jsxs)("div",{className:"lg:col-span-2",children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Filename"}),(0,hl.jsxs)("div",{className:"relative",children:[(0,hl.jsx)(Pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,hl.jsx)("input",{type:"text",placeholder:"Search filename...",value:x.search,onChange:e=>V("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,hl.jsx)("input",{type:"date",value:x.dateFrom,onChange:e=>V("dateFrom",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,hl.jsx)("input",{type:"date",value:x.dateTo,onChange:e=>V("dateTo",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution"}),(0,hl.jsxs)("select",{value:x.institutionId,onChange:e=>V("institutionId",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"",children:"All Institutions"}),l.map(e=>(0,hl.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Type"}),(0,hl.jsxs)("select",{value:x.sessionType,onChange:e=>V("sessionType",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:"",children:"All Types"}),(0,hl.jsx)("option",{value:"personal",children:"Personal"}),(0,hl.jsx)("option",{value:"group",children:"Group"})]})]})]}),(0,hl.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,hl.jsxs)("div",{className:"flex items-center gap-4",children:[(0,hl.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,hl.jsx)("input",{type:"checkbox",checked:_,onChange:()=>{k(!_),_&&(N(""),o(e))},className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),(0,hl.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Search within transcript content (full-text search)"})]}),_&&(0,hl.jsx)("div",{className:"flex-1 max-w-md",children:(0,hl.jsx)("input",{type:"text",placeholder:"Search in transcript content...",value:S,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})})]})}),(0,hl.jsx)("div",{className:"mt-4 flex flex-wrap gap-2 justify-end",children:(0,hl.jsxs)("button",{onClick:U,disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,hl.jsx)(zm,{className:"w-4 h-4 ".concat(d?"animate-spin":"")}),"Refresh"]})})]}),w.size>0&&(0,hl.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,hl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-4",children:[(0,hl.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[w.size," transcript",1!==w.size?"s":""," selected"]}),(0,hl.jsx)("button",{onClick:()=>j(new Set),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Clear selection"})]}),(0,hl.jsxs)("div",{className:"flex gap-2",children:[(0,hl.jsxs)("button",{onClick:async()=>{if(0!==w.size)try{const t=e.filter(e=>w.has(e.id)),r=(new Date).toISOString().split("T")[0],a="transcripts-".concat(r,".zip");await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transcripts.zip";try{const r=(await n.e(159).then(n.t.bind(n,6159,23))).default,{saveAs:a}=await n.e(450).then(n.t.bind(n,2450,23)),i=new r;e.forEach(e=>{const t=e.transcript_filename||"transcript-".concat(e.id,".txt");i.file(t,e.transcript)}),a(await i.generateAsync({type:"blob"}),t),console.log("[Transcript Service] Bulk downloaded ".concat(e.length," transcripts"))}catch(f){throw console.error("[Transcript Service] Error in bulkDownloadTranscripts:",f),f}}(t,a),X("Downloaded ".concat(w.size," transcripts as ZIP"),"success")}catch(f){console.error("Bulk download error:",f),X("Failed to download transcripts","error")}else X("Please select transcripts to download","error")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,hl.jsx)(RV,{className:"w-4 h-4"}),"Download as ZIP"]}),(0,hl.jsxs)("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,hl.jsx)(LV,{className:"w-4 h-4"}),"Export Selected to CSV"]})]})]})}),0===w.size&&e.length>0&&(0,hl.jsx)("div",{className:"mb-4 flex justify-end",children:(0,hl.jsxs)("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,hl.jsx)(LV,{className:"w-4 h-4"}),"Export All to CSV"]})}),(0,hl.jsx)("div",{className:"mb-4 text-sm text-gray-600",children:_&&S?(0,hl.jsxs)(hl.Fragment,{children:["Found ",s.length," transcript",1!==s.length?"s":"",' matching "',S,'"',s.length>0&&(0,hl.jsxs)("span",{className:"ml-2",children:["(showing ",te+1,"-",Math.min(ne,s.length)," of ",s.length,")"]})]}):(0,hl.jsxs)(hl.Fragment,{children:["Showing ",te+1,"-",Math.min(ne,e.length)," of ",e.length," transcript",1!==e.length?"s":""]})}),f&&(0,hl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,hl.jsx)("p",{className:"text-red-800",children:f})}),d&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,hl.jsx)(Gm,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Loading transcripts..."})]}),!d&&0===Z.length&&(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,hl.jsx)(hm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,hl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transcripts found"}),(0,hl.jsx)("p",{className:"text-gray-600",children:_&&S?'No transcripts contain "'.concat(S,'"'):x.search||x.dateFrom||x.institutionId||x.sessionType?"Try adjusting your search or filter criteria":"No completed transcripts available yet"})]}),!d&&re.length>0&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)("div",{className:"hidden md:block bg-white rounded-lg shadow overflow-hidden",children:(0,hl.jsx)("div",{className:"overflow-x-auto",children:(0,hl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,hl.jsx)("thead",{className:"bg-gray-50",children:(0,hl.jsxs)("tr",{children:[(0,hl.jsx)("th",{className:"px-6 py-3",children:(0,hl.jsx)("input",{type:"checkbox",checked:w.size===re.length&&re.length>0,onChange:()=>{if(w.size===re.length)j(new Set);else{const e=new Set(re.map(e=>e.id));j(e)}},className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"})}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Time"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),(0,hl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,hl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map(e=>{var t,n,r,a;return(0,hl.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(w.has(e.id)?"bg-blue-50":""),children:[(0,hl.jsx)("td",{className:"px-6 py-4",children:(0,hl.jsx)("input",{type:"checkbox",checked:w.has(e.id),onChange:()=>H(e.id),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"})}),(0,hl.jsxs)("td",{className:"px-6 py-4",children:[(0,hl.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:e.transcript_filename}),(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=e.institutions)||void 0===t?void 0:t.name)||"Unknown"}),_&&e.matchCount>0&&(0,hl.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.matchCount," match",1!==e.matchCount?"es":""," found"]})]}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:HV(e.upload_date)}),(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:WV(e.class_time)})]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:J(e.session_type)}),(0,hl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,hl.jsx)("div",{className:"text-sm text-gray-900",children:(null===(n=e.classes)||void 0===n?void 0:n.class_code)||"-"}),(0,hl.jsx)("div",{className:"text-xs text-gray-500",children:(null===(r=e.classes)||void 0===r?void 0:r.class_name)||""})]}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(a=e.students)||void 0===a?void 0:a.full_name)||"-"}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,hl.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,hl.jsxs)("div",{children:["\ud83d\udcbe ",KV(e.file_size_mb)]}),(0,hl.jsxs)("div",{children:["\ud83d\udcdd ",GV(e.transcript_length)," chars"]}),(0,hl.jsxs)("div",{children:["\ud83e\udd16 ",GV(e.gemini_tokens_used)," tokens"]})]})}),(0,hl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("button",{onClick:()=>K(e.transcript,e.transcript_filename),className:"text-green-600 hover:text-green-800 p-2 hover:bg-green-50 rounded transition-colors",title:"Download transcript",children:(0,hl.jsx)(Xm,{className:"w-4 h-4"})}),(0,hl.jsx)("button",{onClick:()=>G(e),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded transition-colors",title:"View transcript",children:(0,hl.jsx)(zV,{className:"w-4 h-4"})}),(0,hl.jsx)("button",{onClick:()=>Y(e.transcript),className:"text-purple-600 hover:text-purple-800 p-2 hover:bg-purple-50 rounded transition-colors",title:"Copy to clipboard",children:(0,hl.jsx)(FV,{className:"w-4 h-4"})}),(0,hl.jsx)("button",{onClick:()=>$(e.id,e.transcript_filename),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded transition-colors",title:"Delete transcript",children:(0,hl.jsx)(qV,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),(0,hl.jsx)("div",{className:"md:hidden space-y-3",children:re.map(e=>{var t,n;return(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 space-y-3 ".concat(w.has(e.id)?"ring-2 ring-blue-500":""),children:[(0,hl.jsxs)("div",{className:"flex items-start gap-3",children:[(0,hl.jsx)("input",{type:"checkbox",checked:w.has(e.id),onChange:()=>H(e.id),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500 mt-1"}),(0,hl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hl.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:e.transcript_filename}),_&&e.matchCount>0&&(0,hl.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.matchCount," match",1!==e.matchCount?"es":""," found"]})]}),J(e.session_type)]}),(0,hl.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,hl.jsxs)("div",{children:["\ud83d\udcc5 ",HV(e.upload_date)]}),(0,hl.jsxs)("div",{children:["\u23f0 ",WV(e.class_time)]}),(0,hl.jsxs)("div",{children:["\ud83c\udfeb ",(null===(t=e.classes)||void 0===t?void 0:t.class_code)||"-"]}),(0,hl.jsxs)("div",{children:["\ud83d\udc64 ",(null===(n=e.students)||void 0===n?void 0:n.full_name)||"-"]}),(0,hl.jsxs)("div",{children:["\ud83d\udcbe ",KV(e.file_size_mb)]}),(0,hl.jsxs)("div",{children:["\ud83d\udcdd ",GV(e.transcript_length)," chars"]})]}),(0,hl.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[(0,hl.jsxs)("button",{onClick:()=>K(e.transcript,e.transcript_filename),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 text-sm text-green-600 hover:bg-green-50 rounded transition-colors",children:[(0,hl.jsx)(Xm,{className:"w-4 h-4"}),"Download"]}),(0,hl.jsx)("button",{onClick:()=>G(e),className:"flex items-center justify-center gap-1 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded transition-colors",children:(0,hl.jsx)(zV,{className:"w-4 h-4"})}),(0,hl.jsx)("button",{onClick:()=>Y(e.transcript),className:"flex items-center justify-center gap-1 px-3 py-2 text-sm text-purple-600 hover:bg-purple-50 rounded transition-colors",children:(0,hl.jsx)(FV,{className:"w-4 h-4"})}),(0,hl.jsx)("button",{onClick:()=>$(e.id,e.transcript_filename),className:"flex items-center justify-center gap-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded transition-colors",children:(0,hl.jsx)(qV,{className:"w-4 h-4"})})]})]},e.id)})}),ee>1&&(0,hl.jsxs)("div",{className:"mt-6 flex items-center justify-between bg-white rounded-lg shadow p-4",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("label",{className:"text-sm text-gray-700",children:"Items per page:"}),(0,hl.jsxs)("select",{value:F,onChange:e=>{q(Number(e.target.value)),z(1)},className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,hl.jsx)("option",{value:10,children:"10"}),(0,hl.jsx)("option",{value:25,children:"25"}),(0,hl.jsx)("option",{value:50,children:"50"}),(0,hl.jsx)("option",{value:100,children:"100"})]})]}),(0,hl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hl.jsx)("button",{onClick:()=>z(e=>Math.max(1,e-1)),disabled:1===L,className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,hl.jsx)(BV,{className:"w-5 h-5"})}),(0,hl.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",L," of ",ee]}),(0,hl.jsx)("button",{onClick:()=>z(e=>Math.min(ee,e+1)),disabled:L===ee,className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,hl.jsx)(Am,{className:"w-5 h-5"})})]})]})]}),m&&(0,hl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,hl.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[(0,hl.jsxs)("div",{className:"p-6 border-b flex items-center justify-between",children:[(0,hl.jsxs)("div",{className:"flex-1 min-w-0 mr-4",children:[(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900 truncate",children:m.transcript_filename}),(0,hl.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[(0,hl.jsx)("span",{children:HV(m.upload_date)}),(0,hl.jsx)("span",{children:"\u2022"}),(0,hl.jsx)("span",{children:WV(m.class_time)}),(0,hl.jsx)("span",{children:"\u2022"}),(0,hl.jsxs)("span",{children:[GV(m.transcript_length)," chars"]})]})]}),(0,hl.jsx)("button",{onClick:()=>{g(null),O(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,hl.jsx)(Op,{className:"w-6 h-6"})})]}),(0,hl.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:[E?(0,hl.jsx)("textarea",{value:P,onChange:e=>A(e.target.value),className:"w-full h-full min-h-[400px] p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm",placeholder:"Edit transcript..."}):(0,hl.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-sans",children:_&&S?(0,hl.jsx)("div",{dangerouslySetInnerHTML:{__html:QV(m.transcript,S)}}):m.transcript}),_&&m.matchSnippets&&m.matchSnippets.length>0&&(0,hl.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,hl.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3",children:["Match Snippets (",m.matchCount," total matches)"]}),(0,hl.jsx)("div",{className:"space-y-2",children:m.matchSnippets.map((e,t)=>(0,hl.jsxs)("div",{className:"text-sm text-gray-700 bg-white p-2 rounded",children:["...",e,"..."]},t))})]})]}),(0,hl.jsxs)("div",{className:"p-4 border-t flex gap-2 justify-between bg-gray-50",children:[(0,hl.jsx)("div",{className:"flex gap-2",children:E?(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("button",{onClick:async()=>{if(P.trim())try{R(!0),await(async(e,t)=>{try{const{error:n}=await Ca.from("audio_uploads").update({transcript:t,transcript_length:t.length,updated_at:(new Date).toISOString()}).eq("id",e);if(n)throw console.error("[Transcript Service] Error updating transcript:",n),n;return console.log("[Transcript Service] Updated transcript: ".concat(e)),{success:!0}}catch(f){throw console.error("[Transcript Service] Error in updateTranscript:",f),f}})(m.id,P);const t=e.map(e=>e.id===m.id?u(u({},e),{},{transcript:P,transcript_length:P.length}):e);r(t),i(t),g(u(u({},m),{},{transcript:P,transcript_length:P.length})),O(!1),X("Transcript updated successfully","success")}catch(f){console.error("Save error:",f),X("Failed to save transcript","error")}finally{R(!1)}else X("Transcript cannot be empty","error")},disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,hl.jsx)(UV,{className:"w-4 h-4"}),I?"Saving...":"Save Changes"]}),(0,hl.jsxs)("button",{onClick:Q,disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,hl.jsx)(Sp,{className:"w-4 h-4"}),"Cancel"]})]}):(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsxs)("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,hl.jsx)(VV,{className:"w-4 h-4"}),"Edit"]}),(0,hl.jsxs)("button",{onClick:()=>K(m.transcript,m.transcript_filename),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,hl.jsx)(Xm,{className:"w-4 h-4"}),"Download"]}),(0,hl.jsxs)("button",{onClick:()=>Y(m.transcript),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,hl.jsx)(FV,{className:"w-4 h-4"}),"Copy"]})]})}),(0,hl.jsx)("button",{onClick:()=>{g(null),O(!1)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})}),y&&(0,hl.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-fade-in",children:(0,hl.jsx)("div",{className:"px-6 py-3 rounded-lg shadow-lg ".concat("success"===y.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:y.message})})]})},$V=()=>{var e,n,r;const[a,i]=(0,t.useState)(null),s=ve(),o=me(),l=()=>o.pathname.includes("/students")?"students":o.pathname.includes("/questions")?"questions":o.pathname.includes("/classes")?"classes":o.pathname.includes("/analytics")?"analytics":o.pathname.includes("/transcripts")?"transcripts":"overview",[c,u]=(0,t.useState)(l());(0,t.useEffect)(()=>{u(l())},[o.pathname]),(0,t.useEffect)(()=>{const e=ui();e&&"teacher"===e.user_type?i(e):s("/teacher/login")},[s]);if(!a)return(0,hl.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,hl.jsx)("div",{className:"text-gray-600",children:"Loading..."})});const d=[{id:"overview",label:"Overview",icon:tp,path:"/teacher/dashboard"},{id:"students",label:"Students",icon:lm,path:"/teacher/students"},{id:"questions",label:"Questions",icon:cm,path:"/teacher/questions"},{id:"classes",label:"Classes",icon:um,path:"/teacher/classes"},{id:"analytics",label:"Analytics",icon:dm,path:"/teacher/analytics"},...pi()?[{id:"transcripts",label:"\ud83d\udcc4 Transcripts",icon:hm,path:"/teacher/transcripts"}]:[]],h=e=>{s(e.path)};return(0,hl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,hl.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:(0,hl.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(null===a||void 0===a||null===(e=a.institution)||void 0===e?void 0:e.name)||"Teacher Dashboard"}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome, ",(null===a||void 0===a||null===(n=a.teacher)||void 0===n?void 0:n.name)||(null===a||void 0===a||null===(r=a.user)||void 0===r?void 0:r.email)||"Teacher"]})]}),(0,hl.jsxs)("button",{onClick:()=>{di(),s("/teacher/login")},className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,hl.jsx)(fm,{className:"w-4 h-4"}),"Logout"]})]})}),(0,hl.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-[73px] z-30 hidden md:block",children:(0,hl.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,hl.jsx)("div",{className:"flex space-x-1",children:d.map(e=>{const t=e.icon,n=c===e.id;return(0,hl.jsxs)("button",{onClick:()=>h(e),className:"flex items-center gap-2 px-4 py-3 font-semibold text-sm transition-all ".concat(n?"text-green-600 border-b-2 border-green-600 bg-green-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,hl.jsx)(t,{className:"w-5 h-5"}),e.label]},e.id)})})})}),(0,hl.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8 mb-20 md:mb-0",children:(0,hl.jsxs)(Fe,{children:[(0,hl.jsx)(Le,{path:"/dashboard",element:(0,hl.jsx)(Zm,{})}),(0,hl.jsx)(Le,{path:"/students",element:(0,hl.jsx)(Tm,{})}),(0,hl.jsx)(Le,{path:"/students/:studentId",element:(0,hl.jsx)(Dm,{})}),(0,hl.jsx)(Le,{path:"/questions",element:(0,hl.jsx)(cg,{})}),(0,hl.jsx)(Le,{path:"/classes",element:(0,hl.jsx)(ng,{})}),(0,hl.jsx)(Le,{path:"/classes/:classId",element:(0,hl.jsx)(ig,{})}),(0,hl.jsx)(Le,{path:"/analytics",element:(0,hl.jsx)(IV,{})}),pi()&&(0,hl.jsx)(Le,{path:"/transcripts",element:(0,hl.jsx)(YV,{})})]})}),(0,hl.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50 shadow-lg",children:(0,hl.jsx)("div",{className:"flex justify-around items-center",children:d.map(e=>{const t=e.icon,n=c===e.id;return(0,hl.jsxs)("button",{onClick:()=>h(e),className:"flex flex-col items-center py-2 px-3 flex-1 transition-colors ".concat(n?"text-green-600":"text-gray-600 hover:text-gray-900"),children:[(0,hl.jsx)(t,{className:"w-6 h-6 ".concat(n?"scale-110":"")}),(0,hl.jsx)("span",{className:"text-xs font-semibold mt-1",children:e.label})]},e.id)})})})]})},XV=Bf("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),JV=async e=>{try{const{data:t,error:n}=await Ca.from("quiz_results").select("streak_count").eq("student_id",e).order("created_at",{ascending:!1}).limit(1);if(n)throw n;return t&&0!==t.length&&t[0].streak_count||0}catch(t){return console.error("[getCurrentStreak] Error:",t),0}},ZV=async e=>{try{const{data:t,error:n}=await Ca.from("quiz_results").select("score").eq("student_id",e);if(n)throw n;if(!t||0===t.length)return 0;const r=t.reduce((e,t)=>e+t.score,0);return Math.round(r)}catch(t){return console.error("[getTotalPoints] Error:",t),0}},eH=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const{data:n,error:r}=await Ca.from("quiz_results").select("*").eq("student_id",e).order("quiz_date",{ascending:!1}).limit(t);if(r)throw r;return n||[]}catch(n){return console.error("[getQuizHistory] Error:",n),[]}},tH=async e=>{try{const t=(new Date).toISOString().split("T")[0],{data:n,error:r}=await Ca.from("leaderboard").select("student_id, rank, score").eq("quiz_date",t).order("rank",{ascending:!0});if(r)throw r;if(!n||0===n.length)return{rank:null,totalStudents:0,score:0,percentile:0};const a=n.find(t=>t.student_id===e);if(!a)return{rank:null,totalStudents:n.length,score:0,percentile:0};const i=Math.round((n.length-a.rank+1)/n.length*100);return{rank:a.rank,totalStudents:n.length,score:a.score,percentile:i}}catch(t){return console.error("[getLeaderboardPosition] Error:",t),{rank:null,totalStudents:0,score:0,percentile:0}}},nH=async e=>{try{var t;const{data:n,error:r}=await Ca.from("quiz_results").select("score, time_taken_seconds, quiz_date").eq("student_id",e);if(r)throw r;if(!n||0===n.length)return{totalQuizzes:0,averageScore:0,averageTime:0,highestScore:0,lastQuizDate:null,weeklyAverage:0,improvement:0};const a=n.length,i=Math.round(n.reduce((e,t)=>e+t.score,0)/a),s=Math.round(n.reduce((e,t)=>e+(t.time_taken_seconds||0),0)/a),o=Math.max(...n.map(e=>e.score)),l=null===(t=n[0])||void 0===t?void 0:t.quiz_date,c=new Date;c.setDate(c.getDate()-7);const u=c.toISOString().split("T")[0],d=n.filter(e=>e.quiz_date>=u),h=d.length>0?Math.round(d.reduce((e,t)=>e+t.score,0)/d.length):0,f=new Date;f.setDate(f.getDate()-14);const p=f.toISOString().split("T")[0],m=n.filter(e=>e.quiz_date>=u),g=n.filter(e=>e.quiz_date>=p&&e.quiz_date<u),y=m.length>0?m.reduce((e,t)=>e+t.score,0)/m.length:0,v=g.length>0?g.reduce((e,t)=>e+t.score,0)/g.length:0;return{totalQuizzes:a,averageScore:i,averageTime:s,highestScore:o,lastQuizDate:l,weeklyAverage:h,improvement:v>0?Math.round(y-v):0}}catch(n){return console.error("[getPerformanceStats] Error:",n),{totalQuizzes:0,averageScore:0,averageTime:0,highestScore:0,lastQuizDate:null,weeklyAverage:0,improvement:0}}},rH=async e=>{try{const t=(new Date).toISOString().split("T")[0],{data:n,error:r}=await Ca.from("quiz_results").select("id").eq("student_id",e).eq("quiz_date",t).limit(1);if(r)throw r;const a=n&&n.length>0,{count:i,error:s}=await Ca.from("quiz_questions").select("id",{count:"exact",head:!0}).eq("student_id",e).eq("active",!0);if(s)throw s;return{available:!a&&i>0,questionsCount:i||0,completedToday:a}}catch(t){return console.error("[getTodayQuizStatus] Error:",t),{available:!1,questionsCount:0,completedToday:!1}}},aH=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{const{data:r,error:a}=await Ca.from("concept_mastery").select("*").eq("student_id",e).lt("mastery_score",t).order("mastery_score",{ascending:!0}).limit(n);if(a)throw a;return r||[]}catch(r){return console.error("[getWeakConcepts] Error:",r),[]}},iH=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{const{data:r,error:a}=await Ca.from("concept_mastery").select("*").eq("student_id",e).gte("mastery_score",t).order("mastery_score",{ascending:!1}).limit(n);if(a)throw a;return r||[]}catch(r){return console.error("[getStrongConcepts] Error:",r),[]}},sH=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;try{const n=new Date,r=new Date;r.setDate(r.getDate()+t);const a=n.toISOString().split("T")[0],i=r.toISOString().split("T")[0],{data:s,error:o}=await Ca.from("concept_mastery").select("*").eq("student_id",e).gte("next_review_date",a).lte("next_review_date",i).order("next_review_date",{ascending:!0});if(o)throw o;return s||[]}catch(n){return console.error("[getUpcomingReviews] Error:",n),[]}},oH=e=>{var n;let{session:r,onLogout:a,onStartQuiz:i}=e;const[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{h()},[r.id]);const h=async()=>{try{c(!0),d(null);const e=await(async e=>{try{console.log("[getStudentDashboardData] Fetching all data for student:",e);const[t,n,r,a,i,s,o,l,c]=await Promise.all([JV(e),ZV(e),eH(e,10),tH(e),nH(e),rH(e),aH(e,60,5),iH(e,80,5),sH(e,7)]);return console.log("[getStudentDashboardData] Data fetched successfully"),{streak:t,points:n,quizHistory:r,leaderboardPosition:a,stats:i,quizStatus:s,weakConcepts:o,strongConcepts:l,upcomingReviews:c}}catch(u){throw console.error("[getStudentDashboardData] Error:",u),u}})(r.id);o(e)}catch(e){console.error("[StudentDashboard] Error loading data:",e),d("Failed to load dashboard data. Please refresh the page.")}finally{c(!1)}};if(l)return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)(Gm,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})});if(u)return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,hl.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md",children:[(0,hl.jsx)($f,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,hl.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:"Oops!"}),(0,hl.jsx)("p",{className:"text-gray-600 text-center mb-4",children:u}),(0,hl.jsx)("button",{onClick:h,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-xl transition-colors",children:"Try Again"})]})});const{streak:f,points:p,quizHistory:m,leaderboardPosition:g,stats:y,quizStatus:v,weakConcepts:x,strongConcepts:b,upcomingReviews:w}=s;return(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 p-4 md:p-8",children:(0,hl.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:["Welcome back, ",r.full_name,"! \ud83d\udc4b"]}),(0,hl.jsxs)("p",{className:"text-gray-600 mt-1",children:[r.class_name," \u2022 ",r.session]})]}),(0,hl.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors bg-white shadow",children:[(0,hl.jsx)(fm,{className:"w-4 h-4"}),(0,hl.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-6",children:[(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 shadow-lg border border-orange-200",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,hl.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Current Streak"}),(0,hl.jsx)(Xf,{className:"w-8 h-8 text-orange-500"})]}),(0,hl.jsxs)("p",{className:"text-4xl font-bold text-orange-600 mb-1",children:[f," ",1===f?"day":"days"]}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:0===f?"Start your streak today!":"Keep it going! \ud83d\udd25"})]}),(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 shadow-lg border border-purple-200",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,hl.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Total Points"}),(0,hl.jsx)(Bp,{className:"w-8 h-8 text-purple-500"})]}),(0,hl.jsx)("p",{className:"text-4xl font-bold text-purple-600 mb-1",children:p}),(0,hl.jsxs)("p",{className:"text-sm text-gray-600",children:[y.totalQuizzes," ",1===y.totalQuizzes?"quiz":"quizzes"," completed"]})]}),(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 shadow-lg border border-blue-200",children:[(0,hl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,hl.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Leaderboard"}),(0,hl.jsx)(Gf,{className:"w-8 h-8 text-blue-500"})]}),(0,hl.jsx)("p",{className:"text-4xl font-bold text-blue-600 mb-1",children:g.rank?"#".concat(g.rank):"-"}),(0,hl.jsx)("p",{className:"text-sm text-gray-600",children:g.rank?"Top ".concat(g.percentile,"% \u2022 ").concat(g.totalStudents," students"):"Complete a quiz to rank"})]})]}),(0,hl.jsx)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6",children:v.completedToday?(0,hl.jsxs)("div",{className:"text-center py-8",children:[(0,hl.jsx)(XV,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Great work! \u2705"}),(0,hl.jsx)("p",{className:"text-gray-600 mb-4",children:"You've completed today's quiz. Come back tomorrow for more!"}),(0,hl.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 inline-block",children:(0,hl.jsxs)("p",{className:"text-sm font-semibold text-green-800",children:["Your score: ",(null===(n=m[0])||void 0===n?void 0:n.score)||0," points"]})})]}):v.available?(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,hl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,hl.jsx)(Qf,{className:"w-6 h-6 text-green-600"})}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Today's Quiz"}),(0,hl.jsxs)("p",{className:"text-gray-600",children:[v.questionsCount," personalized questions ready"]})]})]}),(0,hl.jsx)("p",{className:"text-gray-600 mb-6",children:"Complete your daily quiz to improve your concept mastery, maintain your streak, and climb the leaderboard!"}),(0,hl.jsx)("button",{onClick:i,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg",children:"Start Quiz Now \u2192"})]}):(0,hl.jsxs)("div",{children:[(0,hl.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,hl.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,hl.jsx)(Qf,{className:"w-6 h-6 text-blue-600"})}),(0,hl.jsxs)("div",{children:[(0,hl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Daily Quiz"}),(0,hl.jsx)("p",{className:"text-gray-600",children:"Practice and improve your skills"})]})]}),(0,hl.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4",children:(0,hl.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,hl.jsx)("strong",{children:"Note:"})," Your teacher hasn't generated personalized questions yet, but you can still practice with available content!"]})}),(0,hl.jsx)("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-4 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg",children:"Play Quiz \u2192"})]})}),(0,hl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(Yf,{className:"w-6 h-6 text-green-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Performance"})]}),(0,hl.jsxs)("div",{className:"space-y-4",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Average Score"}),(0,hl.jsxs)("span",{className:"font-bold text-lg text-gray-900",children:[y.averageScore,"%"]})]}),(0,hl.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Highest Score"}),(0,hl.jsxs)("span",{className:"font-bold text-lg text-green-600",children:[y.highestScore,"%"]})]}),(0,hl.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Weekly Average"}),(0,hl.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:[y.weeklyAverage,"%"]})]}),0!==y.improvement&&(0,hl.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[(0,hl.jsx)("span",{className:"text-gray-700",children:"Improvement"}),(0,hl.jsxs)("span",{className:"font-bold text-lg ".concat(y.improvement>0?"text-green-600":"text-red-600"),children:[y.improvement>0?"+":"",y.improvement,"%"]})]})]})]}),(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(MV,{className:"w-6 h-6 text-orange-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Needs Practice"})]}),x.length>0?(0,hl.jsx)("div",{className:"space-y-2",children:x.map((e,t)=>(0,hl.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,hl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hl.jsx)("span",{className:"text-sm font-semibold text-gray-900 truncate",children:e.concept_name}),(0,hl.jsxs)("span",{className:"text-xs font-bold text-red-600 ml-2",children:[Math.round(e.mastery_score),"%"]})]}),(0,hl.jsx)("div",{className:"mt-1 bg-gray-200 rounded-full h-2",children:(0,hl.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all",style:{width:"".concat(e.mastery_score,"%")}})})]},t))}):(0,hl.jsxs)("div",{className:"text-center py-6",children:[(0,hl.jsx)(mp,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),(0,hl.jsx)("p",{className:"text-gray-600 text-sm",children:"No weak concepts! You're doing great! \ud83c\udf89"})]})]})]}),(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(zp,{className:"w-6 h-6 text-blue-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Quizzes"})]}),m.length>0?(0,hl.jsx)("div",{className:"space-y-2",children:m.slice(0,5).map((e,t)=>{const n=new Date(e.quiz_date),r=e.score>=80?"text-green-600":e.score>=60?"text-yellow-600":"text-red-600",a=e.score>=80?"bg-green-50 border-green-200":e.score>=60?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200";return(0,hl.jsx)("div",{className:"p-3 rounded-lg border ".concat(a),children:(0,hl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hl.jsxs)("div",{className:"flex-1",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,hl.jsx)("p",{className:"text-xs text-gray-600",children:e.time_taken_seconds?"".concat(Math.round(e.time_taken_seconds/60)," min"):"-"})]}),(0,hl.jsx)("div",{className:"text-right",children:(0,hl.jsxs)("p",{className:"text-2xl font-bold ".concat(r),children:[e.score,"%"]})})]})},t)})}):(0,hl.jsxs)("div",{className:"text-center py-8",children:[(0,hl.jsx)(Qf,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,hl.jsx)("p",{className:"text-gray-600 text-sm",children:"No quizzes yet. Start your first one above!"})]})]}),w.length>0&&(0,hl.jsxs)(xf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200 p-6",children:[(0,hl.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,hl.jsx)(zp,{className:"w-6 h-6 text-blue-600"}),(0,hl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Upcoming Reviews"})]}),(0,hl.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"These concepts are due for review soon based on Spaced Repetition:"}),(0,hl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:w.slice(0,6).map((e,t)=>{const n=new Date(e.next_review_date),r=new Date,a=Math.ceil((n-r)/864e5);return(0,hl.jsxs)("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[(0,hl.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.concept_name}),(0,hl.jsx)("p",{className:"text-xs text-gray-600",children:0===a?"Due today":1===a?"Tomorrow":"In ".concat(a," days")})]},t)})})]})]})})};const lH=e=>{let{session:n,onLogout:r}=e;const[a,i]=(0,t.useState)(!1);return a?(0,hl.jsx)(om,{session:n,onBack:()=>i(!1)}):(0,hl.jsx)(oH,{session:n,onLogout:r,onStartQuiz:()=>i(!0)})},cH=function(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=ui();e&&n(e),a(!1)},[]);const i=e=>{n(e)},s=()=>{window.confirm("Are you sure you want to logout?")&&(di(),n(null))};return r?(0,hl.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,hl.jsxs)("div",{className:"text-center",children:[(0,hl.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\ud83c\udf93"}),(0,hl.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading Fluence..."})]})}):e?(0,hl.jsx)(vt,{basename:"/fluence-daily-quiz-v3",children:(0,hl.jsxs)(Fe,{children:[fi()&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Le,{path:"/",element:(0,hl.jsx)(Re,{to:"/teacher/dashboard",replace:!0})}),(0,hl.jsx)(Le,{path:"/teacher/*",element:(0,hl.jsx)($V,{})})]}),hi()&&(0,hl.jsxs)(hl.Fragment,{children:[(0,hl.jsx)(Le,{path:"/",element:(0,hl.jsx)(lH,{session:e,onLogout:s})}),(0,hl.jsx)(Le,{path:"/student/*",element:(0,hl.jsx)(lH,{session:e,onLogout:s})})]}),(0,hl.jsx)(Le,{path:"*",element:(0,hl.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,hl.jsx)("p",{className:"text-gray-600",children:"Unknown user type"})})})]})}):(0,hl.jsx)(Mf,{onAuthenticated:i})},uH=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)})};a.createRoot(document.getElementById("root")).render((0,hl.jsx)(t.StrictMode,{children:(0,hl.jsx)(cH,{})})),uH()})()})();
//# sourceMappingURL=main.8caa0a74.js.map